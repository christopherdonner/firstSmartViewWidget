{"version":3,"sources":["../../src/utils/log/console.re.appender.js","../../src/utils/log.js","../../src/utils/url.js","../../src/utils/impl/nls/lang.js","../../src/utils/impl/nls/root/lang.js","../../src/utils/impl/nls/lang!i18n","../../src/utils/errormessage.js","../../src/utils/messagehelper.js","../../src/utils/types/date.js","../../src/utils/types/number.js","../../src/utils/types/member.js","../../src/utils/types/localizable.js","../../src/utils/base.js","../../src/models/action.js","../../src/models/actions.js","../../src/models/mixins/rules.matching/rules.matching.mixin.js","../../src/models/actionitem.js","../../src/models/actionitems.js","../../src/models/addabletype.js","../../src/models/addabletypes.js","../../src/models/mixins/connectable/connectable.mixin.js","../../src/models/ancestor.js","../../src/models/ancestors.js","../../src/models/mixins/expandable/expandable.mixin.js","../../src/models/mixins/fetchable/fetchable.mixin.js","../../src/models/mixins/autofetchable/autofetchable.mixin.js","../../src/models/mixins/resource/resource.mixin.js","../../src/models/mixins/including.additional.resources/including.additional.resources.mixin.js","../../src/models/authenticated.user/server.adaptor.mixin.js","../../src/models/authenticated.user.js","../../src/models/mixins/uploadable/uploadable.mixin.js","../../src/models/member/server.adaptor.mixin.js","../../src/models/member.js","../../src/models/authentication.js","../../src/models/browsing.state/browsing.state.js","../../src/models/browsing.state/nodes/nodes.browsing.state.js","../../src/models/browsing.state/browsing.states.js","../../src/models/clientsidecollection.js","../../src/models/column.js","../../src/models/columns.js","../../src/models/datadefinition.js","../../src/models/datadefinitions.js","../../src/models/mixins/v2.fields/v2.fields.mixin.js","../../src/models/mixins/v2.expandable/v2.expandable.mixin.js","../../src/models/mixins/v2.commandable/v2.commandable.mixin.js","../../src/models/node.actions/server.adaptor.mixin.js","../../src/models/node.actions.js","../../src/utils/promoted.actionitems!csui-ext","../../src/utils/promoted.actionitems.js","../../src/utils/deepClone/deepClone.js","../../src/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin.js","../../src/models/mixins/v2.additional.resources/v2.additional.resources.mixin.js","../../src/models/node.columns2.js","../../src/models/node/impl/nls/lang.js","../../src/models/node/impl/nls/root/lang.js","../../src/models/node/impl/nls/lang!i18n","../../src/models/utils/v1tov2.js","../../src/models/node/server.adaptor.mixin.js","../../src/models/node/node.model.js","../../src/models/server.adaptors/favorite2.mixin.js","../../src/models/favorite2.js","../../src/models/browsable/browsable.mixin.js","../../src/models/browsable/client-side.mixin.js","../../src/models/browsable/v2.response.mixin.js","../../src/models/impl/nls/lang.js","../../src/models/impl/nls/root/lang.js","../../src/models/impl/nls/lang!i18n","../../src/models/favorite2column.js","../../src/models/favorite2columns.js","../../src/models/server.adaptors/favorites2.mixin.js","../../src/models/favorites2.js","../../src/models/favorite2group.js","../../src/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin.js","../../src/models/server.adaptors/favorite2groups.mixin.js","../../src/models/favorite2groups.js","../../src/models/server.adaptors/favorite.model.mixin.js","../../src/models/favorite.model.js","../../src/models/member/member.model.js","../../src/models/browsable/v1.request.mixin.js","../../src/models/member/membercollection.js","../../src/models/members.js","../../src/models/mixins/node.connectable/node.connectable.mixin.js","../../src/models/mixins/node.autofetchable/node.autofetchable.mixin.js","../../src/models/mixins/node.resource/node.resource.mixin.js","../../src/utils/nodesprites!csui-ext","../../src/utils/nodesprites.js","../../src/models/node.addable.type/server.adaptor.mixin.js","../../src/models/node/node.addable.type.collection.js","../../src/models/node.children2/server.adaptor.mixin.js","../../src/models/node.children2/node.children2.js","../../src/models/node.ancestors/server.adaptor.mixin.js","../../src/models/nodeancestors.js","../../src/models/nodechildrencolumn.js","../../src/models/nodechildrencolumns.js","../../src/models/nodes.js","../../src/models/mixins/commandable/commandable.mixin.js","../../src/models/mixins/delayed.commandable/delayed.commandable.mixin.js","../../src/models/browsable/v1.response.mixin.js","../../src/models/node.children/server.adaptor.mixin.js","../../src/models/nodechildren.js","../../src/models/tool.item.config/tool.item.config.collection.js","../../src/models/tool.item.mask/tool.item.mask.collection.js","../../src/models/server.module/server.module.collection.js","../../src/models/specificnodemodel.js","../../src/models/autofetchable.js","../../src/models/connectable.js","../../src/models/fetchable.js","../../src/models/including.additional.resources.js","../../src/models/nodeautofetchable.js","../../src/models/nodeconnectable.js","../../src/models/noderesource.js","../../src/models/resource.js","../../src/models/uploadable.js","../../src/models/mixins/versions/v2.versions.response.mixin.js","../../src/models/server.adaptors/version.mixin.js","../../src/models/version.js","../../src/models/widget/widget.model.js","../../src/models/widget/widget.collection.js","../../src/utils/classic.nodes/classic.nodes!csui-ext","../../src/utils/classic.nodes/classic.nodes.js","../../src/utils/authenticators/authenticators!csui-ext","../../src/utils/authenticators/authenticators.js","../../src/utils/connector.js","../../src/utils/defaultactionitems!csui-ext","../../src/utils/defaultactionitems.js","../../src/utils/authenticators/authenticator.js","../../src/utils/objectstorage.js","../../src/utils/namedstorage.js","../../src/utils/namedsessionstorage.js","../../src/utils/authenticators/ticket.authenticator.js","../../src/utils/authenticators/request.authenticator.js","../../src/utils/authenticators/server.adaptors/initial.header.mixin.js","../../src/utils/authenticators/initial.header.authenticator.js","../../src/utils/headerauthenticator.js","../../src/utils/authenticators/interactive.credentials.authenticator.js","../../src/utils/interactiveauthenticator.js","../../src/utils/namedlocalstorage.js","../../src/utils/node.links/node.links!csui-ext","../../src/utils/node.links/node.links.js","../../src/utils/page.leaving.blocker.js","../../src/utils/requestauthenticator.js","../../src/utils/smart.nodes/smart.nodes!csui-ext","../../src/utils/smart.nodes/smart.nodes.js","../../src/utils/authenticators/server.adaptors/basic.mixin.js","../../src/utils/authenticators/basic.authenticator.js","../../src/utils/authenticators/server.adaptors/credentials.mixin.js","../../src/utils/authenticators/credentials.authenticator.js","../../src/utils/authenticators/regular.header.authenticator.js","../../src/utils/authenticators/core.authenticators.js","../../src/utils/authenticator.js","../../src/utils/basicauthenticator.js","csui-models.js"],"names":["csui","define","log4javascript","ConsoleReAppender","prototype","Object","create","Appender","layout","NullLayout","threshold","Level","DEBUG","append","loggingEvent","appender","this","window","console","re","log","formattedMesage","getLayout","formattedMessage","format","ignoresThrowable","exception","getThrowableStrRep","debug","isGreaterOrEqual","level","info","INFO","equals","warn","WARN","error","ERROR","group","name","groupEnd","toString","module","$","_","target","_target","find","config","modules","settings","pattern","matchModule","_threshold","getThreshold","replace","RegExp","test","thresholds","toUpperCase","Error","formatMessage","message","undefined","str","sformat","apply","arguments","performanceTimeStamp","getTimePerformanceStamp","moduleNameStamp","performance","now","toFixed","defaults","consoleRe","page","server","consoleEnabled","loggerEnabled","enabled","ALL","setDocumentReady","logger","getLogger","PopUpAppender","setNewestMessageAtTop","setScrollToLatestMessage","setLayout","PatternLayout","addAppender","InPageAppender","placeholder","setShowHideButton","setShowCommandLine","AjaxAppender","url","JsonLayout","setTimed","setTimerInterval","setSendAllOnTimer","setBatchSize","setWaitForResponse","setSendAllOnUnload","headers","extend","content-type","each","keys","addHeader","setLevel","last","can","getObjectName","object","getPrototypeOf","constructor","getStackTrace","frameCountToSkip","stack","lines","split","length","match","slice","join","Url","raw","isValid","re_weburl","isAbsolute","getAbsolute","combine","location","origin","getProtocol","indexOf","href","toLowerCase","substring","getHost","getPort","start","port","parseInt","getOrigin","getPath","getVirtualDirectory","getCgiScript","apiSuffix","charAt","lastIndexOf","substr","getQuery","getApiBase","version","i","part","path","makeMultivalueParameter","values","map","encodeURIComponent","combineQueryString","query","isObject","param","isString","appendQuery","lastCharacter","root","en-us","en","ColumnMemberName2","ColumnMemberName3","sizeInBytes","ErrorUnknown","InvalidResponse","ErrorStatiNice","ErrorHtmlTpl","ErrorStringTpl","AuthenticationFailureDialogTitle","SessionExpiredDialogTitle","AuthenticationFailureDialogText","NodeTypeSearchQuery","NodeTypeURL","NodeTypeAudio","NodeTypeCompressed","NodeTypeImage","NodeTypeText","NodeTypeHtml","NodeTypeUnknown","NodeTypeVideo","NodeTypeDOC","NodeTypePDF","NodeTypePPT","NodeTypePresentation","NodeTypeXLS","NodeTypeSpreadsheet","NodeTypeFormula","NodeTypePublisher","NodeTypeVisio","NodeTypeMPP","NodeTypeONE","NoConnectivity","NetworkError","Home","Backbone","lang","Type","Confirm","Warning","Hint","Info","Message","Model","attributes","type","getType","get","getName","getMessage","ErrorMessage","RequestErrorMessage","statusCode","statusText","errorDetails","status","responseText","responseJSON","JSON","parse","failure","data","errorDetail","method","punctuation","trim","verion","Lang","id","ts","animationShow","-webkit-transition","transition","animationHide","animationNone","animationFadeOut","MessageHelper","Collection","model","title","showMessages","reset","show","getStatus","showit","trigger","groupBy","toHtml","addMessage","txt","msg","add","showErrors","addError","errmsg","addErrorMessage","errorts","sortBy","clear","hasMessages","getMessages","template","html","msgType","reverse","statusPlain","statusNice","removeField","viewel","selector","elem","forEach","oldval","oldclass","oldel","hasClass","addClass","switchField","value","newclass","newel","changed","removeClass","element","transitionEnd","once","transitions","WebkitTransition","MozTransition","OTransition","document","createElement","style","createPanel","globals","Panel","options","oldPanel","newPanel","$el","classNames","render","toggleClass","collapsed","doCollapse","doExpand","activatePanel","relatedView","parentView","resizePanel","appendTo","el","destroy","doShow","showPanel","view","self","slideSize","getTargetSizes","panel","csuiBeforeShow","panelSize","setPanelHeight","slidedown","hidden","sizes","distance","elemHeight","position","css","height","Math","min","top","bottom","rect","one","csuiAfterShow","expandPanel","details","animated","hidePanel","slideup","csuiBeforeHide","csuiAfterHide","min_top","idattr","attr","heightSource","outerHeight","collapsePanel","fadeoutPanel","opacity","doResize","getBoundingClientRect","width","left","Events","moment","getExactFormat","momentFormat","partFormat","index","formatters","explicitFormat","shift","exec","localeData","longDateFormat","pad","n","createMoment","text","Date","formatIsoDateTimeInTimeZone","direction","tz","deserializeDate","toDate","serializeDateTime","date","callback","formatDateTime","suffix","year","month","hours","minutes","seconds","exactDateTimeFormat","parsed","formatIsoDateTimeInUtc","utc","serializeDate","exactDateFormat","validateDate","validateDateTime","formatDate","friendlyDate","formatFriendlyDate","formatExactDate","friendlyDateTime","formatFriendlyDateTime","formatExactDateTime","formatExactTime","exactTimeFormat","calendar","formatFriendlyDateTimeNow","fromNow","formatISODate","toISOString","formatISODateTime","requirejs","s","contexts","friendlyTime","momentDateFormat","numeral","formatInteger","formatIntegerWithCommas","formatFileSize","size","friendlyFileSize","formatFriendlyFileSize","formatExactFileSize","isNumber","formatMemberName","member","display_name","name_formatted","firstName","first_name","lastName","last_name","middleName","middle_name","i18n","getClosestLocalizedString","fallback","reduce","result","locale","language","defaultLocale","defaultLanguage","localeCompareString","right","usage","filteredOptions","sensitivity","numeric","localeCompare","localeContainsString","hay","needle","localeIndexOfString","localeEndsWithString","full","end","fullLength","maxLength","difference","localeStartsWithString","count","messagesObj","formatStr","params","Array","call","formatForFive","formatForTwo","formatForOne","formatForNone","splice","number","localizable","escapeHtml","preserveLineBreaks","escapeHtmlHelper","isBackbone","isPlaceholder","isElement","isTouchBrowser","navigator","isAppleMobile","userAgent","isMacintosh","platform","isLandscape","matchMedia","isPortrait","isIE11","isMozilla","isEdge","isFirefox","isMSBrowser","isChrome","isChromium","chrome","winNav","vendorName","vendor","isOpera","isIEedge","isIOSChrome","retVal","isSafari","px2em","pxContainerWidth","pxElemWidth","pxInEms","floor","isVisibleInWindowViewport","is","offset","pageXOffset","pageYOffset","extents","$window","isVisibleInWindowViewportHorizontally","elRect","isVisibleInWindowViewportVertically","isElementVisibleInParents","levels","iPercentX","iPercentY","percentX","percentY","elemRect","parentRects","maxLevels","curLevel","parentElement","push","every","parentRect","visiblePixelX","max","visiblePixelY","visiblePercentageX","visiblePercentageY","isElementVisibleInParent","parent","container","contRect","checkAndScrollElemToViewport","$elem","scrollSelector","closest","elemScrollParent","stickyHeader","siblings","elemTop","viewportTop","currScrollTop","scrollTop","setScrollHandler","e","eventArg","inputElement","dropdownContainer","parents","adjustDropDownField","applyWidth","scrollableDropdownContainer","scrollEl","isIEBrowser","currentLeft","scrollUpdate","isRtl","rtl","inputElementLeft","leftShadow","leftShadowLeft","outerWidth","unbind","bind","autoAlignDropDowns","hideDropDowns","scrollLeftRtl","scrollLeft","that","setTimeout","contextBottom","contextTop","elTop","elPositionX","form","modalContentElem","modalContentPositionX","modalContentTop","controlheight","dropdownWidth","perspectivePanel","perspective","perspectiveHeight","perspectiveTop","elemBoundingRect","perspectivePanelClientTop","spaceOnTop","spaceOnBottom","innerHeight","isDropdownShownOnTop","max-height","abs","documentElement","offsetHeight","-webkit-transform","stringifyDate","stringify","dateToLocalIsoString","findFocusables","filter","messageHelper","on","errors","alert","ErrorHandler","MessageType","ErrorStatus","ErrorToShow","parseDate","getReadableFileSizeString","_require","base","ActionCollection","idAttribute","connector","assignTo","children","isArray","connection","fetch","response","action","ActionModel","models","findRecursively","cid","item","mixin","makeRulesMatching","rulesToMatch","matchRules","operations","results","chain","operation","operands","_getRulingPropertyValue","names","_evaluate-or","any","_evaluate-and","all","_evaluate-not","_evaluate-equals","_evaluateEquals","_evaluate-equalsNoCase","noCase","key","actual","normalized","_normalizeCase","_evaluate-contains","_evaluateContains","_evaluate-containsNoCase","_evaluate-startsWith","_evaluateStartsWith","_evaluate-startsWithNoCase","_evaluate-endsWith","_evaluateEndsWith","_evaluate-endsWithNoCase","endsWith","_evaluate-matches","_evaluateMatches","_evaluate-matchesNoCase","_evaluate-includes","_evaluateIncludes","_evaluate-includesNoCase","contains","_evaluate-has","_evaluate-decides","methods","RulesMatchingMixin","ActionItemModel","sequence","signature","node","comparator","findByNode","getAllSignatures","pluck","unique","getAllCommandSignatures","commands","command","flatten","compact","getPromotedCommandsSignatures","AddableTypeModel","Hidden","AddableTypeCollection","originalPrepareModel","_prepareModel","makeConnectable","attrs","ConnectableMixin","AncestorModel","clone","AncestorCollection","makeExpandable","expand","setExpand","resetExpand","getExpandableResourcesUrlQuery","originalFetch","makeFetchable","autoreset","_beforeFetchSucceeded","_fetchingOriginal","_fetchSucceeded","fetching","fetched","_fetchFailed","jqxhr","cache","urlBase","urlCacheBase","_prepareFetch","success","ensureFetched","Deferred","resolve","promise","prefetch","deferred","set","context","makeAutoFetchable","autofetchEvent","_autofetchEvent","autofetch","automateFetch","enable","event","_fetchAutomatically","isFetchable","FetchableMixin","AutoFetchableMixin","makeResource","makeIncludingAdditionalResources","_additionalResources","includeResources","union","excludeResources","reject","getAdditionalResourcesUrlQuery","parameter","makeServerAdaptor","apiBase","user","ExpandableMixin","ResourceMixin","IncludingAdditionalResourcesMixin","ServerAdaptorMixin","AuthenticatedUserModel","useJson","useMock","usePatch","metadataPartName","UploadableMixin","originalSync","sync","prepare","prepareFormData","body","makeUploadable","currectUpdatingUrl","useJSON","mock","files","contentType","isEmpty","formData","FormData","Blob","urlRoot","MemberModel","AuthenticationModel","setData","getBaseUrlPath","BrowsingStateModel","metadataParams","state","has","version_num","_trimQuery","silent","pathStr","node_id","qr","omit","NodeBrowsingStateModel","resetAll","updateBrowserTitleAfterPageLoaded","triggerStateChangeOnStateRemoval","allowUrlUpdate","clearMetadataParamsInUrlQuery","queryStr","_routeWithSlashes","metaParams","queryObj","_convertQuerystringToObject","_convertQueryObjectToQueryString","setBrowsingStates","_setNodeBrowsingStates","currentBrowsingState","addNewState","nodeStateIds","at","locationQuery","search","prevAllowUrlUpdate","getUrlPathWithQuery","urlPath","_getCurrentStateAccumulatedQueryParamsString","hash","pl","decode","decodeURIComponent","pathname","ClientSideCollection","columns","toJSON","actualSkipCount","totalCount","filteredCount","_cacheCollection","selfReset","cachedCollection","_limitResponse","resetColumnsV2","elements","skipCount","topCount","_resetCollection","workingModels","_runAllOperations","_sortCollection","_filterCollection","_limitCollection","_triggerCollectionResetEvent","setLimit","skip","resetLimit","setFilter","filterObj","clearFilter","parseValue","containsValue","setOrder","orderBy","resetOrder","criteria","criterium","parts","property","descending","sort","compareValues","ColumnModel","column_key","default_action","contextual_menu","editable","filter_key","ColumnCollection","DataDefinitionModel","DataDefinitionCollection","setOptions","cgiPath","nodeResource","definitions","definitions_map","definitions_order","definitions_flat","def","definition","GetDefinitionsOrder","GetDefinitionMap","GetDefinition","GetFlatCollection","GetFlatDefinition","makeFieldsV2","fields","setFields","role","_setOneFieldSet","resetFields","_resetOneFieldSet","getResourceFieldsUrlQuery","encodedNames","field","dot","mergePropertyParameters","output","input","FieldsV2Mixin","makeExpandableV2","_setOneExpand","_resetOneExpand","expandable","makeCommandableV2","setCommands","resetCommands","getRequestedCommandsUrlQuery","actions","parent_id","reference_id","ids","nodes","CommandableMixin","NodeActionModel","NodeActionCollection","setNodes","resetNodes","includeCommands","ActionItemCollection","extraActions","promotedActionItems","deepClone","source","HTMLElement","isBoolean","isDate","isRegExp","valueOf","obj","cloneCloneableObjects","copyArbitraryObjects","cloneArbitraryObjects","CommandableV2Mixin","makeDelayedCommandableV2","defaultActionCommands","promotedActionCommands","nonPromotedActionCommands","delayedActions","nonPromotedActions","isNonPromoted","setEnabledDelayRestCommands","delayRestCommands","delayRestCommandsForModels","promotedActionItemsFromControler","_enableDelayRestCommands","_disableDelayRestCommands","setEnabledLazyActionCommands","_enableNonPromotedRestCommands","_requestsNonPromotedRestActions","done","fail","_disableNonPromotedRestCommands","_requestRestActions","off","enableNonPromotedCommands","resp","xhr","restCommands","promotedCommands","nonPromotedCommands","restNodes","_updateOriginalActions","collection","isLocallyCreated","_updateOriginalActionsAfterLazyActions","csuiLazyActionsRetrieved","updateNodeActions","actionNode","csuiNonPromotedAction","setDefaultActionCommands","resetDefaultActionCommands","getAllCommandsUrlQuery","makeAdditionalResourcesV2Mixin","NodeColumn2Model","sizeColumnTitle","includeExpandsV1toV2","expands","mergeProperties","properties","nodeExpands","memberExpands","userExpands","groupExpands","excludeExpandsV1toV2","expandsV2toV1","concat","v1tov2","isFetchableDirectly","apiVersion","isNew","_getCombinedUrlQuery","getV2ParameterSource","queryParts","parameters","commandOptions","refernce_id","resultData","type_name","versions","type_info","pick","_parseActions","original","original_id","original_id_expand","parent_id_expand","_makeAccessible","defaultAction","findWhere","addable_types","_parseColumns","metadata","_parseDefinitions","columnKeys","container_size","file_size","column","columnKey","data_type","sortable","supportedPersonas","inArray","persona","sortKey","sort_key","realColumnKey","available_actions","order","commands_map","commands_order","AddableTypesCollection","ExpandableV2Mixin","DelayedCommandableV2Mixin","AdditionalResourcesV2Mixin","NodeColumn2Collection","usesIntegerId","NodeDefinition2Collection","NodeModel","_setCollectionProperty","additionalResources","val","skipSetValue","_setNodeProperty","volume_id","attribute","Class","camelize","getResourceScope","parameterSource","setResourceScope","scope","originalCollection","newCollection","superParseMethod","superSyncMethod","updatedAttributes","favorites","favorite_name","favorite_tab_id","tab_id","m","useFavoritesUrl","attributesToUpdate","k","newKey","Favorite2Model","mustRefreshAfterPut","makeFilterValue","makeBrowsable","filters","modified","skipSort","setSkip","setTop","BrowsableMixin","makeClientSideBrowsable","listenTo","_modelAdded","_modelRemoved","_modelsReset","allModels","_filling","setOrderOnRequest","arg","orderOnRequest","getBrowsableUrlQuery","first","partialResponse","reload","lastFilteredAndSortedModels","_fill","_notify","originalSilent","originalReset","originalSuccess","originalError","originalParse","_lastFilterAndSortCriteria","then","populate","setAllModels","compareObjectsForSort","_parseValue","_compareValues","filterAndSortCriteria","isEqual","_filter","_sort","_limit","criterion","_containsValue","_populate","findIndex","_compareArrays","_compareObjects","len","some","blade","makeBrowsableV2Response","parseBrowsedState","paging","sorting","searching","limit","total_count","filtered_count","parseBrowsedItems","serverCallPrecheckFailedMissingConnector","serverCallPrecheckFailedModelIsNew","fav_parent_id","fav_size","fav_ungrouped","Favorite2ColumnModel","resetCollection","cachedColumns","resetFavoritesCollection","key_value_pairs","max_value","min_value","multi_value","required","max_length","min_length","multiline","multilingual","password","getSortByOrderUrlQuery","ClientSideBrowsableMixin","BrowsableV2ResponseMixin","Favorite2ColumnCollection","Favorite2Collection","callCounter","Favorite2GroupModel","favorite_columns","v2Url","makeSyncableFromMultipleSources","syncFromMultipleSources","promises","mergeSources","convertError","convertAjaxError","abortables","abort","when","groups","ajax","extendAjaxOptions","favoritesCollection","favoritesFetchOptions","_createMergedResponse","tabId","favorite","SyncableFromMultipleSources","Favorite2GroupsCollection","_setupEventPropagation","_propagateFavorite2CollectionOptions","_fetch","saveAll","tabs","groupName","groupId","putUrl","beforeSend","request","counter","tabsResp","remove","jqxhrTabs","errorTabs","_serverCallPreCheck","_serverCallUpdateFavorite","ajaxMethod","selected","mobile","force","err","FavoriteModel","addToFavorites","removeFromFavorites","memberId","parentId","makeBrowsableV1Request","isEmptyObject","BrowsableV1RequestMixin","MemberCollection","searchTerm","nodeId","categoryId","term","expandFields","memberFilter","memberType","limitClause","memberClause","expandClause","queryClause","finalClauses","makeNodeConnectable","makeNodeAutoFetchable","NodeConnectableMixin","NodeAutoFetchableMixin","makeNodeResource","extraIcons","NodeSpriteModel","className","NodeSpriteCollection","findClass","compareType","nodeSprite","keyValues","findTypeByNode","typeName","spriteName","findClassByNode","nodeSprites","equalsNoCase","mime_type","mimeType","startsWithNoCase","subtype","NodeResourceMixin","NodeAddableTypeCollection","__super__","apiUrl","defaultPageSize","NodeChildren2Collection","ancestors","stop","ancestor","unshift","NodeAncestorCollection","titleTranslated","NodeChildrenColumnModel","NodeChildrenColumnCollection","getColumnModels","colArray","shortColumnName","definition_short","definition_formatted","initialSortingDescending","resetColumns","getV1Columns","columnsFromDefinitionsOrder","idx","getV2Columns","align","Nodes","makeCommandable","makeDelayedCommandable","makeBrowsableV1Response","BrowsableV1ResponseMixin","includeActions","extra","NodeCollection","DelayedCommandableMixin","NodeChildrenCollection","Fetchable","require","configs","_resolveConfigs","ignoreErrors","masks","_resolveMasks","sourceModules","serverModules","ServerModuleModel","ServerModuleCollection","_resolveServerModules","missing","serverModule","sourceModule","SpecificNodeModel","AutoFetchableModel","ParentModel","enableOptions","fullOptions","AutoFetchable","ConnectableModel","Connectable","FetchableModel","IncludingAdditionalResources","NodeAutoFetchableModel","NodeAutoFetchable","NodeConnectableModel","NodeConnectable","NodeResourceModel","NodeResource","ResourceModel","Resource","UploadableModel","Uploadable","makeVersionableV2Response","parseVersionsResponse","id_expand","version_number_name","version_number_name_formatted","VersionsableV2ResponseMixin","VersionModel","ToolItemConfigCollection","ToolItemMaskCollection","manifest","WidgetModel","includeView","includeManifest","includeServerModule","includeToolItems","getDefaultData","_getDefaultPropertyValue","schema","propertySchema","propertyName","_getDefaultPrimitiveValue","serverModulesPromise","toolItemsPromise","_resolveToolItems","toolItemMasksPromise","_resolveToolItemMasks","_resolveWidget","viewPromise","_resolveView","manifestPromise","_resolveManifest","_updateServerModule","_updateActions","widgetData","getModuleData","viewPath","getViewModulePath","View","manifestPath","getManifestModulePath","_needsLocalization","manifestLocalizedPath","getLocalizedManifestModulePath","manifestLocalized","_renderLocalizedManifest","ignoreManifestErrors","toolItems","toolItemMasks","_getModulePrefix","firstSlash","lastSlash","moduleData","modulePrefix","toolbars","localizedManifest","traverseManifest","localizedManifestParent","getLocalizationKey","localizationKey","arrayItem","localizationArrayItem","hasOwnProperty","isLocalizableString","widgets","WidgetCollection","_resolveWidgets","resolvableModels","invoke","rules","ClassicNodeModel","urlQuery","ClassicNodeCollection","_getUrl","forced","isForced","isSupported","getUrl","_replaceParameters","expression","classicNodes","AuthenticatorModel","authenticator","AuthenticatorCollection","findByConnection","rule","authenticators","Connector","Authenticator","connectionTimeout","authenticationPending","waitingRequests","overrideBackboneSync","executeSync","pageUnloading","progress","notify","addAbort","isAuthenticated","executor","execute","authenticate","executeWaitingRequests","cancelWaitingRequests","reportError","getConnectionUrl","Accept-Language","setAuthenticationHeaders","timeout","reportSending","lengthComputable","reportProgress","updateAuthenticatedSession","_succeeded","reportSuccess","confirmingReload","dialogTitle","alertDialog","showWarning","buttons","Ok","always","unauthenticate","reason","formatAjaxData","getAjaxContentType","makeAjaxCall","processData","executors","loaded","total","requestContentAuthToken","extendFetchOptions","defaultActionItems","succeeded","failed","syncStorage","session","doAuthenticate","ObjectStorage","items","setItem","v","getItem","removeItem","NamedStorage","storage","os","getContent","content","saveContent","sessionStorage","NamedSessionStorage","rememberTicket","ticketHeader","ticketExpirationHeader","sender","ticket","getResponseHeader","expires","TicketAuthenticator","login","prepareRequest","updateRequestBody","makeRequest","parseResponse","textStatus","authenticateSession","parseParam","username","authenticationHeaders","RequestAuthenticator","InitialHeaderAuthenticator","_reportError","ModalAlert","showError","openSignInDialog","SignInDialog","args","InteractiveCredentialsAuthenticator","localStorage","NamedLocalStorage","routesWithSlashes","developmentPage","NodeLinkModel","NodeLinkCollection","completeUrl","serverUrl","absoluteUrl","_getApplicationUrlPrefix","nodeLinks","ensureListener","listenerRegistered","PageLeavingBlocker","isEnabled","messages","originalEvent","returnValue","forceDisabled","disable","forceDisable","SmartNodeModel","SmartNodeCollection","smartNodes","credentials","authorization","formatAuthorizationHeader","rememberCredentials","BasicAuthenticator","check","btoa","unescape","domain","CredentialsAuthenticator","rememberAuthenticationHeaders","RegularHeaderAuthenticator","enableInteractiveAuthenticator","forceBasicAuthenticator","preferBasicAuthenticator","preferRegularHeaderAuthenticator","decides","and","preferRegularHeaderAuthentication"],"mappings":"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ACA,qBACA,sBACA,6BACA,8BACA,wBACA,6BACA,8BACA,yBACA,8BACA,+BACA,6BACA,qBACA,kCACA,sCACA,sBACA,gDACA,8BACA,4CACA,4BACA,4BACA,iCACA,kCACA,2BACA,oBACA,2DACA,uDACA,qDACA,gCAGA,wCACA,0CACA,yCACA,0CACA,0CACA,uDACA,mDACA,mDACA,iDACA,+CACA,yFACA,iEACA,6DACA,uDACA,6CACA,yDACA,yFACA,iDACA,2EACA,yDACA,yEACA,uDACA,+CACA,4BACA,0BACA,wBACA,6CACA,gCACA,8BACA,2BACA,uBACA,yBACA,2BACA,sBACA,sBACA,sBACA,uCACA,kCAGA,kBACA,yCACA,uBACA,gCACA,kCACA,iCACA,0BACA,iCACA,sCACA,iBACA,2BACA,+BACA,iCACA,0BACA,mCACA,yBACA,gCACA,kCACA,kCACA,qCACA,wBACA,+BACA,0BACA,0BACA,iBAGA,0CACA,2CACA,gDACA,gDACA,sDACA,yDACA,kEACA,yDACA,kDACA,iDACA,2BACA,gCACA,iCACA,sCACA,kCAIA,sDACA,0CACA,wCACA,iDACA,kDACA,wDACA,8DACA","file":"csui-models.js","sourcesContent":["csui.define('csui/utils/log/console.re.appender',['csui/lib/log4javascript'], function (log4javascript) {\r\n  'use strict';\r\n\r\n  function ConsoleReAppender() {}\r\n\r\n  ConsoleReAppender.prototype = Object.create(log4javascript.Appender.prototype);\r\n  ConsoleReAppender.prototype.layout = new log4javascript.NullLayout();\r\n  ConsoleReAppender.prototype.threshold = log4javascript.Level.DEBUG;\r\n\r\n  ConsoleReAppender.prototype.append = function(loggingEvent) {\r\n    var Level = log4javascript.Level,\r\n        appender = this;\r\n\r\n    var getFormattedMessage = function() {\r\n      var layout = appender.getLayout();\r\n      var formattedMessage = layout.format(loggingEvent);\r\n      if (layout.ignoresThrowable() && loggingEvent.exception) {\r\n        formattedMessage += loggingEvent.getThrowableStrRep();\r\n      }\r\n      return formattedMessage;\r\n    };\r\n\r\n    if (window.console && window.console.re && window.console.re.log) {\r\n      var formattedMesage = getFormattedMessage();\r\n      // Log to Firebug using its logging methods or revert to the console.log\r\n      // method in Safari\r\n      if (window.console.re.debug && Level.DEBUG.isGreaterOrEqual(loggingEvent.level)) {\r\n        window.console.re.debug(formattedMesage);\r\n      } else if (window.console.re.info && Level.INFO.equals(loggingEvent.level)) {\r\n        window.console.re.info(formattedMesage);\r\n      } else if (window.console.re.warn && Level.WARN.equals(loggingEvent.level)) {\r\n        window.console.re.warn(formattedMesage);\r\n      } else if (window.console.re.error && loggingEvent.level.isGreaterOrEqual(Level.ERROR)) {\r\n        window.console.re.error(formattedMesage);\r\n      } else {\r\n        window.console.re.log(formattedMesage);\r\n      }\r\n    }\r\n  };\r\n\r\n  ConsoleReAppender.prototype.group = function(name) {\r\n    if (window.console && window.console.re && window.console.re.group) {\r\n      window.console.re.group(name);\r\n    }\r\n  };\r\n\r\n  ConsoleReAppender.prototype.groupEnd = function() {\r\n    if (window.console && window.console.re && window.console.re.groupEnd) {\r\n      window.console.re.groupEnd();\r\n    }\r\n  };\r\n\r\n  ConsoleReAppender.prototype.toString = function() {\r\n    return 'ConsoleReAppender';\r\n  };\r\n\r\n  return ConsoleReAppender;\r\n\r\n});\n","csui.define('csui/utils/log',['module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/lib/log4javascript', 'csui/utils/log/console.re.appender'\r\n], function (module, $, _, log4javascript, ConsoleReAppender) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    console: true,\r\n    consoleRe: false,\r\n    level: 'WARN',\r\n    page: false,\r\n    performanceTimeStamp: false,\r\n    moduleNameStamp: false,\r\n    server: false,\r\n    window: false,\r\n    modules: {}\r\n  });\r\n\r\n  var consoleEnabled = typeof console !== 'undefined' && config.console,\r\n      loggerEnabled = config.window || config.page || config.server ||\r\n                      config.consoleRe,\r\n      enabled = consoleEnabled || loggerEnabled,\r\n      thresholds = {\r\n        ERROR: 4,\r\n        WARN: 3,\r\n        INFO: 2,\r\n        DEBUG: 1,\r\n        ALL: 1\r\n      },\r\n      threshold = getThreshold(config.level);\r\n\r\n  log4javascript.setDocumentReady();\r\n  var logger = log4javascript.getLogger(),\r\n      appender;\r\n  if (loggerEnabled) {\r\n    logger = log4javascript.getLogger();\r\n    //~ if (config.console) {\r\n    //~ var appender = new log4javascript.BrowserConsoleAppender();\r\n    //~ appender.setLayout(new log4javascript.PatternLayout(\r\n    //~ '%d{HH:mm:ss.SSS} %-5p - %m{1}%n'));\r\n    //~ logger.addAppender(appender);\r\n    //~ }\r\n    if (config.window) {\r\n      appender = new log4javascript.PopUpAppender();\r\n      appender.setNewestMessageAtTop(false);\r\n      appender.setScrollToLatestMessage(true);\r\n      //~ appender.setShowHideButton(true);\r\n      //~ appender.setShowCloseButton(true);\r\n      appender.setLayout(new log4javascript.PatternLayout(\r\n          '%d{HH:mm:ss.SSS} %-5p - %m{1}'));\r\n      logger.addAppender(appender);\r\n    }\r\n    if (config.page) {\r\n      //~ var placeholderID = config.placeholder || 'csui_log';\r\n      //~ var placeholder = $(placeholderID);\r\n      //~ if (placeholder.length == 0)\r\n      //~ placeholder = $('<div id='' + placeholder + ''></div>')\r\n      //~ .appendTo($(document.body));\r\n      appender = new log4javascript.InPageAppender(config.placeholder);\r\n      appender.setNewestMessageAtTop(false);\r\n      appender.setScrollToLatestMessage(true);\r\n      appender.setShowHideButton(true);\r\n      appender.setShowCommandLine(true);\r\n      appender.setLayout(new log4javascript.PatternLayout(\r\n          '%d{HH:mm:ss.SSS} %-5p - %m{1}'));\r\n      logger.addAppender(appender);\r\n    }\r\n    if (config.consoleRe) {\r\n      appender = new ConsoleReAppender();\r\n      appender.setLayout(new log4javascript.PatternLayout(\r\n          '%d{HH:mm:ss.SSS} %-5p - %m{1}'));\r\n      logger.addAppender(appender);\r\n    }\r\n    if (config.server) {\r\n      appender = new log4javascript.AjaxAppender(config.server.url);\r\n      appender.setLayout(new log4javascript.JsonLayout());\r\n      appender.setTimed(true);\r\n      appender.setTimerInterval(500);\r\n      appender.setSendAllOnTimer(true);\r\n      appender.setBatchSize(10);\r\n      appender.setWaitForResponse(false);\r\n      appender.setSendAllOnUnload(true);\r\n      var headers = _.extend({\r\n        'content-type': 'application/json'\r\n      }, config.server.headers);\r\n      _.each(_.keys(headers), function (name) {\r\n        appender.addHeader(name, headers[name]);\r\n      });\r\n      logger.addAppender(appender);\r\n    }\r\n  }\r\n  logger.setLevel(log4javascript.Level.DEBUG);\r\n\r\n  function log(target) {\r\n    if (!(this instanceof log)) {\r\n      return new log(target);\r\n    }\r\n    this._target = target;\r\n    _.find(config.modules, function (settings, pattern) {\r\n      if (matchModule(pattern, target) && settings.level) {\r\n        this._threshold = getThreshold(settings.level);\r\n      }\r\n    }, this);\r\n  }\r\n\r\n  var prototype = {\r\n\r\n    _threshold: threshold,\r\n\r\n    config: config,\r\n\r\n    enabled: enabled,\r\n\r\n    last: undefined,\r\n\r\n    can: function (level) {\r\n      return this._threshold <= getThreshold(level);\r\n    },\r\n\r\n    debug: function () {\r\n      if (enabled && this._threshold === thresholds.DEBUG) {\r\n        var message = formatMessage.apply(this, arguments);\r\n        if (loggerEnabled) {\r\n          logger.debug(message);\r\n        }\r\n        if (consoleEnabled) {\r\n          this.last = 'DBG  ' + message;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    info: function () {\r\n      if (enabled && this._threshold <= thresholds.INFO) {\r\n        var message = formatMessage.apply(this, arguments);\r\n        if (loggerEnabled) {\r\n          logger.info(message);\r\n        }\r\n        if (consoleEnabled) {\r\n          this.last = 'INF  ' + message;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    warn: function () {\r\n      if (enabled && this._threshold <= thresholds.WARN) {\r\n        var message = formatMessage.apply(this, arguments);\r\n        if (loggerEnabled) {\r\n          logger.warn(message);\r\n        }\r\n        if (consoleEnabled) {\r\n          this.last = 'WRN  ' + message;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    error: function () {\r\n      if (enabled) {\r\n        var message = formatMessage.apply(this, arguments);\r\n        if (loggerEnabled) {\r\n          logger.error(message);\r\n        }\r\n        if (consoleEnabled) {\r\n          this.last = 'ERR  ' + message;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    getObjectName: function (object) {\r\n      return object != null ? Object.getPrototypeOf(object).constructor.name :\r\n             object === undefined ? 'undefined' : object === null ? 'null' : '';\r\n    },\r\n\r\n    getStackTrace: function (frameCountToSkip) {\r\n      var stack;\r\n      try {\r\n        throw new Error();\r\n      } catch (error) {\r\n        stack = error.stack;\r\n      }\r\n      if (stack) {\r\n        var lines = stack.split('\\n');\r\n        if (lines && lines.length>0) {\r\n          if (!lines[0].match(/\\.js/)) {\r\n            lines = lines.slice(1);\r\n          }\r\n          stack = lines.slice(frameCountToSkip === 0 ? 0 : (frameCountToSkip || 1)).join('\\n');\r\n        }\r\n      } else {\r\n        stack = 'at unknown place (no stack trace available)';\r\n      }\r\n      return stack;\r\n    }\r\n\r\n  };\r\n\r\n  function matchModule(pattern, target) {\r\n    // Handle alone wildcards separately; they are handled depending on their\r\n    // combination with slash (module path separator) below\r\n    if (pattern === '**') {\r\n      pattern = '.*';\r\n    } else if (pattern === '*') {\r\n      pattern = '[^/]*';\r\n    } else {\r\n      pattern = pattern.replace(/^\\*(?!\\*)/g, '#'); // '*some...'\r\n      pattern = pattern.replace(/([^*])\\*$/g, '$1#'); // '...some*'\r\n      pattern = pattern.replace(/\\/\\*(?!\\*)/g, '/#'); // '.../*some'\r\n      pattern = pattern.replace(/([^*])\\*\\//g, '$1#/'); // 'some*/...'\r\n      pattern = pattern.replace(/\\/\\*\\*/g, '(?:/.*)?'); // '.../**'\r\n      pattern = pattern.replace(/\\*\\*\\//g, '(?:.*/)?'); // '**/...'\r\n      // If we put the pattern with asterisks at once there, following\r\n      // replacements would process it again and it would be too complicated\r\n      // to avoid it; for example, JavaScript knows no look-behind assertions\r\n      pattern = pattern.replace(/#/g, '[^/]*'); // '[^/]+' -> '[^/]*'\r\n    }\r\n    pattern = '^' + pattern + '$';\r\n    return new RegExp(pattern).test(target);\r\n  }\r\n\r\n  function getThreshold(level) {\r\n    var threshold = thresholds[(level || 'WARN').toUpperCase()];\r\n    if (!threshold) {\r\n      throw new Error('invalid log level: \"' + level + '\".');\r\n    }\r\n    return threshold;\r\n  }\r\n\r\n  function formatMessage(message) {\r\n    if (message !== undefined) {\r\n      if (typeof message === 'string') {\r\n        message = _.str.sformat.apply(this, arguments);\r\n      } else {\r\n        message = message !== null ? message.toString() : 'null';\r\n      }\r\n      if (config.performanceTimeStamp) {\r\n        message = getTimePerformanceStamp() + message;\r\n      }\r\n      if (config.moduleNameStamp && this._target) {\r\n        message += ' (' + this._target + ')';\r\n      }\r\n    } else {\r\n      message = '';\r\n    }\r\n    return message;\r\n  }\r\n\r\n  function getTimePerformanceStamp() {\r\n    var seconds = (window.performance.now() / 1000 % 10).toFixed(3);\r\n    return '[' + seconds + '] ';\r\n  }\r\n\r\n  _.extend(log, prototype);\r\n  _.extend(log.prototype, prototype);\r\n\r\n  return log;\r\n\r\n});\r\n\n","csui.define('csui/utils/url',[\r\n  'csui/lib/underscore', 'csui/lib/jquery'\r\n], function (_, $) {\r\n  'use strict';\r\n\r\n  function Url(url) {\r\n    this.raw = url;\r\n  }\r\n\r\n  Url.prototype = {\r\n    raw: undefined,\r\n\r\n    isValid: function () {\r\n      return this.raw ? this.raw.match(Url.re_weburl) : false;\r\n    },\r\n\r\n    isAbsolute: function () {\r\n      return this.raw ? this.raw.match(/^.*\\/\\//) : false;\r\n    },\r\n\r\n    getAbsolute: function () {\r\n      return this.isAbsolute() ? this.raw :\r\n             Url.combine(window.location.origin, this.raw);\r\n    },\r\n\r\n    getProtocol: function () {\r\n      var url = this.isAbsolute() && this.raw.indexOf('//') !== 0 ?\r\n                this.raw : window.location.href;\r\n      return url.toLowerCase().substring(0, url.indexOf(':'));\r\n    },\r\n\r\n    getHost: function () {\r\n      var match = this.getAbsolute().match(/^.*\\/\\/([^:\\/]+)/);\r\n      return match && match[1];\r\n    },\r\n\r\n    getPort: function () {\r\n      var url = this.getAbsolute().toLowerCase(),\r\n          start = url.match(/^.*\\/\\/([^\\/]+)/),\r\n          port = start && start[1].match(/:([^\\/]+)/);\r\n      return port ? parseInt(port[1], 10) : url.indexOf('https') === 0 ? 443 : 80;\r\n    },\r\n\r\n    getOrigin: function () {\r\n      var match = this.getAbsolute().match(/^.*\\/\\/[^\\/]+/);\r\n      return match && match[0];\r\n    },\r\n\r\n    getPath: function () {\r\n      var match = this.getAbsolute().match(/^.*\\/\\/[^\\/]+(\\/[^?]+)/);\r\n      return match && match[1];\r\n    },\r\n\r\n    getVirtualDirectory: function () {\r\n      var match = this.getAbsolute().match(/^.*\\/\\/[^\\/]+\\/[^\\/]+/);\r\n      return match && match[0];\r\n    },\r\n\r\n    getCgiScript: function () {\r\n      var url = this.getAbsolute();\r\n      // find the index of the \"/api/v1\" suffix in the URL.\r\n      var apiSuffix = url.length - 7;\r\n      if (url.charAt(this.raw.length - 1) === '/') {\r\n        --apiSuffix;\r\n      }\r\n      if (url.lastIndexOf('/api/v1') === apiSuffix) {\r\n        return url.substr(0, apiSuffix);\r\n      }\r\n      // Original functionality expecting always\r\n      // \"/folder/script\" before \"/api/v1\" on the URL path.\r\n      var match = url.match(/^.*\\/\\/[^\\/]+\\/[^\\/]+\\/[^\\/]+/);\r\n      return match && match[0];\r\n    },\r\n\r\n    getQuery: function () {\r\n      var match = this.getAbsolute().match(/\\?(.+)/);\r\n      return match && match[1];\r\n    },\r\n\r\n    getApiBase: function (version) {\r\n      version || (version = 'v1');\r\n      typeof version === 'number' && (version = 'v' + version);\r\n      return this.getCgiScript() + '/api/' + version + '/';\r\n    },\r\n\r\n    toString: function () {\r\n      return this.raw;\r\n    }\r\n  };\r\n  Url.version = '1.0';\r\n\r\n  Url.combine = function () {\r\n    var url = '';\r\n    for (var i = 0; i < arguments.length; ++i) {\r\n      var part = arguments[i],\r\n          path = part !== undefined && part !== null ? part.toString() : '';\r\n      // IE8 does not support accessing string characters as an array (path[0]).\r\n      if (path.charAt(0) == '/') {\r\n        url += url && url.charAt(url.length - 1) == '/' ? path.substring(1) :\r\n               path;\r\n      } else {\r\n        if (i > 0 && !(url && url.charAt(url.length - 1) == '/') &&\r\n            path.length > 0) {\r\n          url += '/';\r\n        }\r\n        url += path;\r\n      }\r\n    }\r\n    return url;\r\n  };\r\n\r\n  Url.makeMultivalueParameter = function (name, values) {\r\n    if (values && values.length) {\r\n      values = _.map(values, encodeURIComponent);\r\n      return name + '=' + values.join('&' + name + '=');\r\n    }\r\n    return '';\r\n  };\r\n\r\n  // Supports either object literals {param: value, ...}\r\n  // or already serialized strings 'param=value[&...]'\r\n  Url.combineQueryString = function () {\r\n    var query = {},\r\n        i, part;\r\n    for (i = 0; i < arguments.length; ++i) {\r\n      part = arguments[i];\r\n      if (_.isObject(part)) {\r\n        _.extend(query, part);\r\n      }\r\n    }\r\n    // Use traditional array serialization - without appending\r\n    // the '[]' at the end of the property name\r\n    query = $.param(query, true);\r\n    for (i = 0; i < arguments.length; ++i) {\r\n      part = arguments[i];\r\n      if (_.isString(part) && part) {\r\n        if (query) {\r\n          query += '&';\r\n        }\r\n        query += part;\r\n      }\r\n    }\r\n    return query;\r\n  };\r\n\r\n  Url.appendQuery = function (url, query) {\r\n    if (url.indexOf('?') >= 0) {\r\n      var lastCharacter = url[url.length - 1];\r\n      if (lastCharacter !== '?' && lastCharacter !== '&') {\r\n        url += '&';\r\n      }\r\n    } else {\r\n      url += '?';\r\n    }\r\n    url += query;\r\n    return url;\r\n  };\r\n\r\n  //\r\n  // Regular Expression for URL validation\r\n  //\r\n  // Author: Diego Perini\r\n  // Updated: 2010/12/05\r\n  // License: MIT\r\n  //\r\n  // Copyright (c) 2010-2013 Diego Perini (http://www.iport.it)\r\n  //\r\n  // Permission is hereby granted, free of charge, to any person\r\n  // obtaining a copy of this software and associated documentation\r\n  // files (the \"Software\"), to deal in the Software without\r\n  // restriction, including without limitation the rights to use,\r\n  // copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n  // copies of the Software, and to permit persons to whom the\r\n  // Software is furnished to do so, subject to the following\r\n  // conditions:\r\n  //\r\n  // The above copyright notice and this permission notice shall be\r\n  // included in all copies or substantial portions of the Software.\r\n  //\r\n  // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n  // EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n  // OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n  // NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n  // HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n  // WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n  // FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n  // OTHER DEALINGS IN THE SOFTWARE.\r\n  //\r\n  // the regular expression composed & commented\r\n  // could be easily tweaked for RFC compliance,\r\n  // it was expressly modified to fit & satisfy\r\n  // these test for an URL shortener:\r\n  //\r\n  //   http://mathiasbynens.be/demo/url-regex\r\n  //\r\n  // Notes on possible differences from a standard/generic validation:\r\n  //\r\n  // - utf-8 char class take in consideration the full Unicode range\r\n  // - TLDs have been made mandatory so single names like \"localhost\" fails\r\n  // - protocols have been restricted to ftp, http and https only as requested\r\n  //\r\n  // Changes:\r\n  //\r\n  // - IP address dotted notation validation, range: 1.0.0.0 - 223.255.255.255\r\n  //   first and last IP address of each class is considered invalid\r\n  //   (since they are broadcast/network addresses)\r\n  //\r\n  // - Added exclusion of private, reserved and/or local networks ranges\r\n  //\r\n  // - Made starting path slash optional (http://example.com?foo=bar)\r\n  //\r\n  // - Allow a dot (.) at the end of hostnames (http://example.com.)\r\n  //\r\n  // Compressed one-line versions:\r\n  //\r\n  // Javascript version\r\n  //\r\n  // /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i\r\n  //\r\n  // PHP version\r\n  //\r\n  // _^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)*(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$_iuS\r\n  //\r\n  Url.re_weburl = new RegExp(\r\n      '^' +\r\n      // protocol identifier\r\n      '(?:(?:https?|ftp)://)' +\r\n      // user:pass authentication\r\n      '(?:\\\\S+(?::\\\\S*)?@)?' +\r\n      '(?:' +\r\n      // IP address exclusion\r\n      // private & local networks\r\n      '(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})' +\r\n      '(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})' +\r\n      '(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})' +\r\n      // IP address dotted notation octets\r\n      // excludes loopback network 0.0.0.0\r\n      // excludes reserved space >= 224.0.0.0\r\n      // excludes network & broacast addresses\r\n      // (first & last IP address of each class)\r\n      '(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])' +\r\n      '(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}' +\r\n      '(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))' +\r\n      '|' +\r\n      // host name\r\n      '(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)' +\r\n      // domain name\r\n      '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*' +\r\n      // TLD identifier\r\n      '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))' +\r\n      // TLD may end with dot\r\n      '\\\\.?' +\r\n      ')' +\r\n      // port number\r\n      '(?::\\\\d{2,5})?' +\r\n      // resource path\r\n      '(?:[/?#]\\\\S*)?' +\r\n      '$', 'i'\r\n  );\r\n\r\n  return Url;\r\n});\r\n\n","csui.define('csui/utils/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/utils/impl/nls/root/lang',{\r\n\r\n  // base\r\n  ColumnMemberName2: \"{1} {0}\",\r\n  ColumnMemberName3: \"{1} {2} {0}\",\r\n  sizeInBytes: \"{0} bytes\",\r\n\r\n  // errormessage, messagehelper\r\n  ErrorUnknown: \"Unknown error.\",\r\n  InvalidResponse: \"Invalid response received.\",\r\n  ErrorStatiNice: [\"Confirm\", \"Error\", \"Warning\", \"Hint\", \"Information\"],\r\n  ErrorHtmlTpl: \"<span class='msgIcon <%= statusPlain %>Icon'><%= statusNice %>: <%= msg %></span><br>\",\r\n  ErrorStringTpl: \"<%= statusNice %>: <%= msg %>;\\n\",\r\n\r\n  // connector\r\n  AuthenticationFailureDialogTitle: \"Authentication failure\",\r\n  SessionExpiredDialogTitle: \"Session expired\",\r\n  AuthenticationFailureDialogText: \"The page will be reloaded and you may need to sign in again.\",\r\n\r\n  // nodesprites - node types\r\n  NodeTypeSearchQuery: 'Search',\r\n  NodeTypeURL: 'Web address',\r\n  // nodesprites - general formats\r\n  NodeTypeAudio: 'Audio',\r\n  NodeTypeCompressed: 'Compressed File',\r\n  NodeTypeImage: 'Image',\r\n  NodeTypeText: 'Text Document',\r\n  NodeTypeHtml: 'Html Document',\r\n  NodeTypeUnknown: 'Unknown',\r\n  NodeTypeVideo: 'Video',\r\n  // nodesprites - application formats\r\n  NodeTypeDOC: 'Microsoft Word',\r\n  NodeTypePDF: 'Portable Document Format',\r\n  NodeTypePPT: 'Microsoft Powerpoint',\r\n  NodeTypePresentation: 'Presentation',\r\n  NodeTypeXLS: 'Microsoft Excel',\r\n  NodeTypeSpreadsheet: 'Spreadsheet',\r\n  NodeTypeFormula: 'Formula',\r\n  NodeTypePublisher: 'Microsoft Publisher',\r\n  NodeTypeVisio: 'Microsoft Visio',\r\n  NodeTypeMPP: 'Microsoft Project',\r\n  NodeTypeONE: 'Microsoft OneNote',\r\n\r\n  NoConnectivity: \"No connectivity\",\r\n  NetworkError: \"Network communication failed.\",\r\n  Home: 'Home'\r\n});\r\n\n","\n","csui.define('csui/utils/errormessage',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\",\r\n  \"csui/lib/backbone\", \"csui/utils/log\", \"csui/utils/url\",\r\n  'i18n!csui/utils/impl/nls/lang'\r\n], function (module, $, _, Backbone, log, Url, lang) {\r\n  \"use strict\";\r\n\r\n  // MessageType\r\n  // -----------\r\n\r\n  var Type = {\r\n    Confirm: 0,\r\n    Error: 1,\r\n    Warning: 2,\r\n    Hint: 3,\r\n    Info: 4\r\n  };\r\n\r\n  // Message\r\n  // -------\r\n\r\n  var Message = Backbone.Model.extend({\r\n\r\n    constructor: function Message(attributes) {\r\n      //debugger;\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      if (attributes instanceof Error) {\r\n        this.attributes.message = attributes.message;\r\n        this.attributes.name = attributes.name;\r\n      }\r\n    },\r\n\r\n    defaults: {\r\n      type: Type.Error,\r\n      name: '',\r\n      message: lang.ErrorUnknown\r\n    },\r\n\r\n    getType: function () {\r\n      return this.get('type');\r\n    },\r\n\r\n    getName: function () {\r\n      return this.get('name');\r\n    },\r\n\r\n    getMessage: function () {\r\n      return this.get('message');\r\n    }\r\n  });\r\n\r\n  // ErrorMessage\r\n  // ------------\r\n\r\n  var ErrorMessage = Message.extend({\r\n    constructor: function ErrorMessage(attributes) {\r\n      Message.Message.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    defaults: {\r\n      type: Type.Error,\r\n      message: lang.ErrorUnknown\r\n    }\r\n  });\r\n\r\n  // RequestErrorMessage\r\n  //--------------------\r\n\r\n  var RequestErrorMessage = ErrorMessage.extend({\r\n    defaults: {\r\n      statusCode: undefined,\r\n      statusText: undefined,\r\n      errorDetails: undefined\r\n    },\r\n\r\n    constructor: function RequestErrorMessage(error) {\r\n      Message.ErrorMessage.prototype.constructor.apply(this, arguments);\r\n      if (error) {\r\n        if (error.status != null) {\r\n          // Allow passing in a jQuery request object for convenience.\r\n          this.statusCode = error.status;\r\n          this.statusText = error.statusText;\r\n          if (error.responseText) {\r\n            try {\r\n              error.responseJSON = JSON.parse(error.responseText);\r\n            } catch (failure) {\r\n              log.warn(\"Parsing error response failed: {0}.\", failure)\r\n              && console.warn(log.last);\r\n            }\r\n          }\r\n          if (error.responseJSON) {\r\n            var data = error.responseJSON;\r\n            this.message = data && data.error;\r\n            if (!this.message) {\r\n              this.message = error.responseText;\r\n            }\r\n            this.errorDetails = data && data.errorDetail;\r\n          }\r\n          if (!this.message) {\r\n            if (this.statusCode === 0) {\r\n              this.message = lang.NetworkError;\r\n            } else {\r\n              this.message = lang.InvalidResponse;\r\n            }\r\n          }\r\n          if (error.settings && error.settings.url) {\r\n            this.method = error.settings.type;\r\n            this.url = error.settings.url;\r\n          }\r\n        } else if (typeof error.error === 'object') {\r\n          // Allow passing in a data object with error description for convenience.\r\n          this.message = error.error;\r\n          this.errorDetails = error.errorDetail;\r\n        } else if (error instanceof Backbone.Model) {\r\n          // Allow passing an Model for convenience, but this is filled with Error data. weird.\r\n          this.message = error.message || error.get('error');\r\n          this.errorDetails = error.errorDetails || error.errorDetail || error.get('errorDetails') || error.get('errorDetail');\r\n        } else if (error instanceof Error) {\r\n          // Allow passing an Error instance for convenience.\r\n          this.message = error.message;\r\n        } else {\r\n          // Expect the attributes of this error object passed in.\r\n          _.extend(this, error);\r\n        }\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  RequestErrorMessage.prototype.toString = function () {\r\n    var punctuation = /[.!?:;,]$/;\r\n    var trim = /\\s+$/;\r\n    var message = \"\";\r\n    if (this.message) {\r\n      message = this.message;\r\n      message.replace(trim, \"\");\r\n      if (!message.match(punctuation)) {\r\n        message += \".\";\r\n      }\r\n    }\r\n    if (this.errorDetails) {\r\n      if (message) {\r\n        message += \"\\r\\n\";\r\n      }\r\n      message += this.errorDetails;\r\n      message.replace(trim, \"\");\r\n      if (!message.match(punctuation)) {\r\n        message += \".\";\r\n      }\r\n    }\r\n    if (!message) {\r\n      if (this.statusText) {\r\n        if (message) {\r\n          message += \"\\r\\n\";\r\n        }\r\n        message += this.statusText;\r\n      }\r\n      if (this.statusCode > 0) {\r\n        if (message) {\r\n          message += \"\\r\\n \";\r\n        }\r\n        message += \"(\" + this.statusCode + \")\";\r\n      }\r\n    }\r\n    if (!message) {\r\n      message = lang.ErrorUnknown;\r\n    }\r\n    return message;\r\n  };\r\n\r\n  RequestErrorMessage.version = '1.0';\r\n\r\n  // Exports\r\n  // -------\r\n\r\n  Message = {\r\n    verion: '1.0',\r\n    Type: Type,\r\n    Message: Message,\r\n    ErrorMessage: ErrorMessage,\r\n    RequestErrorMessage: RequestErrorMessage\r\n  };\r\n\r\n  return Message;\r\n\r\n});\r\n\n","csui.define('csui/utils/messagehelper',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  \"csui/utils/log\", \"csui/utils/errormessage\", 'i18n!csui/utils/impl/nls/lang'\r\n], function (module, $, _, Backbone, log, Message, Lang) {\r\n  \"use strict\";\r\n\r\n  log = log(module.id);\r\n\r\n  // MessageHelper\r\n  // ------------\r\n\r\n  var ts = \"0.3s\";\r\n  // as we implement animation fix for top property, we use styles here and not css classes.\r\n  var animationShow = {\"-webkit-transition\": \"top \" + ts, \"transition\": \"top \" + ts};\r\n  var animationHide = {\"-webkit-transition\": \"top \" + ts, \"transition\": \"top \" + ts};\r\n  var animationNone = {\"-webkit-transition\": \"\", \"transition\": \"\"};\r\n  var animationFadeOut = {\r\n    \"-webkit-transition\": \"opacity \" + ts,\r\n    \"transition\": \"opacity \" + ts\r\n  };\r\n\r\n  var MessageHelper = Backbone.Collection.extend({\r\n    model: Message.Message,\r\n    title: '',\r\n\r\n    showMessages: function (reset, show) {\r\n      log.warn(\r\n          'This method has been deprecated and will be removed in future. ' +\r\n          'Please, use MoalAler or GlobalMessaage to report errors.')\r\n      && console.warn(log.last);\r\n\r\n      var title = Lang.ErrorStatiNice[this.getStatus()],\r\n          showit = (show !== undefined) ? show : true;\r\n\r\n      this.trigger(\"showErrors\", this.groupBy('type'), this.toHtml(), title,\r\n          showit);\r\n      reset && this.reset();\r\n    },\r\n\r\n    addMessage: function (txt, type, title) {\r\n      this.title = title || '';\r\n      type = type || Message.Type.Error;\r\n      var msg = new Message.Message({\r\n        type: type,\r\n        message: txt\r\n      });\r\n      return this.add([msg]);\r\n    },\r\n\r\n    showErrors: function (reset, show) {\r\n      return this.showMessages(reset, show);\r\n    },\r\n\r\n    addError: function (error) {\r\n      var errmsg = new Message.ErrorMessage();\r\n      errmsg.message = error.message;\r\n      return this.add([errmsg]);\r\n    },\r\n\r\n    addErrorMessage: function (errorts) {\r\n      return this.add([errorts]);\r\n    },\r\n\r\n    getStatus: function () {\r\n      return this.sortBy('type')[0].get('type');\r\n    },\r\n\r\n    clear: function () {\r\n      return this.reset();\r\n    },\r\n\r\n    hasMessages: function () {\r\n      return (this.length > 0);\r\n    },\r\n\r\n    getMessages: function () {\r\n      return this.groupBy('type');\r\n    },\r\n\r\n    toHtml: function () {\r\n      var template = _.template(Lang.ErrorHtmlTpl),\r\n          html = [];\r\n\r\n      _.each(this.groupBy('type'), function (msgType) {\r\n        _.each(msgType.reverse(), function (msg) {\r\n          html += template({\r\n            statusPlain: _.keys(Message.Type)[msg.get('type')],\r\n            statusNice: Lang.ErrorStatiNice[msg.get('type')],\r\n            msg: msg.get('message')\r\n          });\r\n        });\r\n      });\r\n\r\n      return html;\r\n    },\r\n\r\n    removeField: function (viewel, selector, values) {\r\n      var elem = viewel.find(selector);\r\n      values.forEach(function (oldval) {\r\n        var oldclass = selector + \"-\" + oldval;\r\n        var oldel = elem.find(oldclass);\r\n        if (!oldel.hasClass(\"binf-hidden\")) {\r\n          oldel.addClass(\"binf-hidden\");\r\n        }\r\n      });\r\n    },\r\n    switchField: function (viewel, selector, value, values) {\r\n      var elem = viewel.find(selector);\r\n      var newclass = selector + \"-\" + value;\r\n      var newel = elem.find(newclass);\r\n      var changed = false;\r\n      if (newel.hasClass(\"binf-hidden\")) {\r\n        values.forEach(function (oldval) {\r\n          var oldclass = selector + \"-\" + oldval;\r\n          if (newclass != oldclass) {\r\n            var oldel = elem.find(oldclass);\r\n            if (!oldel.hasClass(\"binf-hidden\")) {\r\n              oldel.addClass(\"binf-hidden\");\r\n            }\r\n          }\r\n        });\r\n        newel.removeClass(\"binf-hidden\");\r\n        changed = true;\r\n      }\r\n      return {changed: changed, element: newel};\r\n    },\r\n\r\n    transitionEnd: _.once(\r\n        function () {\r\n          var transitions = {\r\n                transition: 'transitionend',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                MozTransition: 'transitionend',\r\n                OTransition: 'oTransitionEnd otransitionend'\r\n              },\r\n              element = document.createElement('div'),\r\n              transition;\r\n          for (transition in transitions) {\r\n            if (typeof element.style[transition] !== 'undefined') {\r\n              return transitions[transition];\r\n            }\r\n          }\r\n        }\r\n    ),\r\n\r\n    createPanel: function (globals, Panel, options, oldPanel) {\r\n      var newPanel = new Panel(options);\r\n      newPanel.$el.removeClass(\"binf-panel binf-panel-default\");\r\n      newPanel.$el.addClass(\"csui-global-message\");\r\n      globals.classNames && newPanel.$el.addClass(globals.classNames);\r\n\r\n      // render panel\r\n      newPanel.render();\r\n\r\n      // take state from old panel\r\n      if (oldPanel) {\r\n        if (oldPanel.$el.hasClass(\"binf-hidden\") !=\r\n            newPanel.$el.hasClass(\"binf-hidden\")) {\r\n          newPanel.$el.toggleClass(\"binf-hidden\");\r\n        }\r\n        var collapsed = oldPanel.$el.hasClass(\"csui-collapsed\");\r\n        if (collapsed != newPanel.$el.hasClass(\"csui-collapsed\")) {\r\n          if (collapsed) {\r\n            newPanel.doCollapse(false);\r\n          } else {\r\n            newPanel.doExpand(false);\r\n          }\r\n        }\r\n      }\r\n      return newPanel;\r\n    },\r\n\r\n    activatePanel: function (newPanel, relatedView, parentView, oldPanel) {\r\n      if (!oldPanel && !newPanel.$el.hasClass(\"binf-hidden\")) {\r\n        // if we need to animate, add it hidden and then show it animated\r\n        newPanel.$el.addClass(\"binf-hidden\");\r\n        newPanel.$el.appendTo(parentView.el);\r\n        newPanel.doShow(relatedView, parentView);\r\n      } else {\r\n        if (relatedView) {\r\n          this.resizePanel(newPanel, relatedView);\r\n        }\r\n        newPanel.$el.appendTo(parentView.el);\r\n        if (oldPanel) {\r\n          oldPanel.destroy();\r\n        }\r\n      }\r\n      return newPanel;\r\n    },\r\n\r\n    showPanel: function (view, relatedView, parentView) {\r\n      if (view.$el.hasClass(\"binf-hidden\")) {\r\n        var self = this,\r\n            slideSize = this.getTargetSizes(parentView.$el);\r\n        var panel = _.extend({\r\n          csuiBeforeShow: function () {\r\n            if (relatedView) {\r\n              var panelSize = self.getTargetSizes(relatedView.$el);\r\n              self.setPanelHeight(view, panelSize);\r\n            }\r\n          }\r\n        }, view);\r\n        this.slidedown(panel, view.$el, view.$el, slideSize);\r\n      }\r\n    },\r\n\r\n    slidedown: function (view, elem, hidden, sizes) {\r\n      // Do not slide the element from too far; at most the element height\r\n      var distance, elemHeight;\r\n      hidden = hidden || elem;\r\n\r\n      view.$el === elem || view.$el.removeClass(\"csui-collapsed\");\r\n      view.$el.removeClass(view.$el === elem ? \"csui-hiding\" : \"csui-collapsing\");\r\n      view.$el.addClass(view.$el === elem ? \"csui-showing\" : \"csui-expanding\");\r\n      if (view.csuiBeforeShow) {\r\n        view.csuiBeforeShow();\r\n      }\r\n\r\n      var position = elem.css(\"position\");\r\n      if (hidden.hasClass(\"binf-hidden\")) {\r\n        // first be sure, that no animation delays any settings, while panel is hidden\r\n        elem.css(animationNone);\r\n        elem.addClass('position-hidden');\r\n        // prepare view for animation\r\n        if (elem !== hidden) {\r\n          elemHeight = elem.height();\r\n          distance = Math.min(sizes.height - sizes.top, elemHeight);\r\n          elem.css({\r\n            \"bottom\": \"calc(100% - \" + (sizes.top + distance) + \"px)\"\r\n          });\r\n        }\r\n        // when now making the element visible, the browser layouts the element but the bottom is\r\n        // forced where it was before\r\n        hidden.removeClass(\"binf-hidden\");\r\n        elemHeight = elem.height();\r\n        // now switch to set the top property without moving the element.\r\n        var rect = this.getTargetSizes(elem);\r\n        if (position === \"relative\") {\r\n          distance = Math.min(sizes.height - rect.height, elemHeight);\r\n          elem.css({\r\n            \"top\": distance + \"px\"\r\n          });\r\n        } else /* if (position===\"absolute\") */ {\r\n          distance = Math.min(rect.top, sizes.top + elemHeight);\r\n          elem.css({\r\n            \"top\": distance + \"px\"\r\n          });\r\n        }\r\n        elem.removeClass('position-hidden');\r\n        elem.addClass('position-show');\r\n        var pos = elem.position(); // just access property, so browser updates element\r\n      }\r\n      elem.one(this.transitionEnd(), function () {\r\n        if (view.$el === elem ? \"csui-showing\" : \"csui-expanding\") {\r\n          elem.css(animationNone);\r\n          view.$el.removeClass(view.$el === elem ? \"csui-showing\" : \"csui-expanding\");\r\n          if (view.csuiAfterShow) {\r\n            view.csuiAfterShow();\r\n          }\r\n        }\r\n      });\r\n      // trigger animation by setting the top property to its initial value\r\n      if (position === \"relative\") {\r\n        elem.css(_.extend({\"top\": \"0px\"}, animationShow));\r\n      } else /* if (position===\"absolute\") */ {\r\n        elem.css(_.extend({\"top\": sizes.top + \"px\"}, animationShow));\r\n      }\r\n\r\n      return view;\r\n    },\r\n\r\n    expandPanel: function (view, details, hidden, animated) {\r\n      hidden = hidden || details;\r\n      if (view.$el.hasClass(\"csui-collapsed\") || hidden.hasClass(\"binf-hidden\") ||\r\n          view.$el.hasClass(\"csui-collapsing\")) {\r\n        animated = (animated === true || animated === undefined) ? true : false;\r\n        if (animated) {\r\n          this.slidedown(view, details, hidden, this.getTargetSizes(details));\r\n        }\r\n        else {\r\n          view.$el.removeClass(\"csui-collapsed\");\r\n          hidden.removeClass(\"binf-hidden\");\r\n        }\r\n      }\r\n    },\r\n\r\n    hidePanel: function (view) {\r\n      if (!view.$el.hasClass(\"binf-hidden\")) {\r\n        this.slideup(view, view.$el, view.$el);\r\n      }\r\n    },\r\n\r\n    slideup: function (view, elem, hidden) {\r\n\r\n      hidden = hidden || elem;\r\n      // hide panel with slide up animation. does only make sense if element is not hidden.\r\n      var position = elem.css(\"position\");\r\n      view.$el.removeClass(view.$el === elem ? \"csui-showing\" : \"csui-expanding\");\r\n      view.$el.addClass(view.$el === elem ? \"csui-hiding\" : \"csui-collapsing\");\r\n      if (view.csuiBeforeHide) {\r\n        view.csuiBeforeHide();\r\n      }\r\n      elem.one(this.transitionEnd(), function () {\r\n        if (view.$el.hasClass(view.$el === elem ? \"csui-hiding\" : \"csui-collapsing\")) {\r\n          hidden.addClass(\"binf-hidden\");\r\n          elem.css(_.extend({\"top\": \"\", \"bottom\": \"\"}, animationNone));\r\n          view.$el.removeClass(view.$el === elem ? \"csui-hiding\" : \"csui-collapsing\");\r\n          view.$el === elem || view.$el.addClass(\"csui-collapsed\");\r\n          if (view.csuiAfterHide) {\r\n            view.csuiAfterHide();\r\n          }\r\n        }\r\n      });\r\n      var rect = this.getTargetSizes(elem);\r\n      if (position === \"relative\") {\r\n        elem.css({\"top\": \"0px\"});\r\n      } else /* if (position===\"absolute\") */ {\r\n        elem.css({\"top\": rect.top + \"px\"});\r\n      }\r\n      var pos = elem.position(); // just access property, so browser updates element\r\n      // check whether wie have a minimum height, where we should stop the slideup\r\n      var min_top = 0;\r\n      var idattr = elem.attr(\"id\");\r\n      if (idattr && elem.hasClass(\"csui-minheight\")) {\r\n        var heightSource = elem.find(\".\" + idattr + \"-heightsource\");\r\n        if (heightSource.length > 0) {\r\n          min_top = heightSource.outerHeight();\r\n        }\r\n      }\r\n      // trigger animation by setting the property\r\n      elem.css(\r\n          _.extend({\"top\": (parseInt(min_top) - rect.height) + \"px\"}, animationHide));\r\n      return elem;\r\n    },\r\n\r\n    collapsePanel: function (view, details, hidden, animated) {\r\n      hidden = hidden || view.$el;\r\n      if (!view.$el.hasClass(\"csui-collapsed\") || !hidden.hasClass(\"binf-hidden\") ||\r\n          view.$el.hasClass(\"csui-expanding\")) {\r\n        animated = (animated === true || animated === undefined) ? true : false;\r\n        if (animated) {\r\n          this.slideup(view, details, hidden);\r\n        }\r\n        else {\r\n          view.$el.addClass(\"csui-collapsed\");\r\n          hidden.addClass(\"binf-hidden\");\r\n        }\r\n      }\r\n    },\r\n\r\n    fadeoutPanel: function (view) {\r\n\r\n      // hide panel with fade out animation. does only make sense if element is not hidden.\r\n      var opacity = view.$el.css(\"opacity\") || \"1\";\r\n      view.$el.css({\"opacity\": opacity});\r\n      // prepare view for animation\r\n      view.$el.one(this.transitionEnd(), function () {\r\n        view.$el.addClass(\"binf-hidden\");\r\n        view.$el.css(_.extend({\"opacity\": \"\"}, animationNone));\r\n        if (view.csuiAfterHide) {\r\n          view.csuiAfterHide();\r\n        }\r\n      });\r\n      var opq = view.$el.css(\"opacity\"); // just access property, so browser updates element\r\n      // trigger animation by setting the property\r\n      view.$el.css(_.extend({\"opacity\": \"0.0\"}, animationFadeOut));\r\n      return view;\r\n    },\r\n\r\n    resizePanel: function (view, location) {\r\n      if (location) {\r\n        var sizes = this.getTargetSizes(location.$el);\r\n        this.setPanelHeight(view, sizes);\r\n      }\r\n      view.doResize && view.doResize();\r\n    },\r\n\r\n    getTargetSizes: function (location) {\r\n      if (location) {\r\n        var rect = location[0].getBoundingClientRect();\r\n        return _.extend({width: rect.width, height: rect.height}, location.position());\r\n      } else {\r\n        return {left: 0, top: 0, width: 333, height: 63};\r\n      }\r\n    },\r\n\r\n    setPanelHeight: function (view, sizes) {\r\n      view.$el.find(\".csui-height-target\").height(sizes.height);\r\n      return view;\r\n    }\r\n\r\n  });\r\n\r\n  MessageHelper.prototype.toString = function () {\r\n    var template = _.template(Lang.ErrorStringTpl),\r\n        html = [];\r\n\r\n    _.each(this.groupBy('type'), function (msgType) {\r\n      _.each(msgType, function (msg) {\r\n        html += template({\r\n          statusPlain: _.keys(Message.Type)[msg.get('type')],\r\n          statusNice: Lang.ErrorStatiNice[msg.get('type')],\r\n          msg: msg.get('message')\r\n        });\r\n      });\r\n    });\r\n\r\n  };\r\n\r\n  MessageHelper.version = '1.0';\r\n\r\n  // activate eventing on error handler\r\n  _.extend(MessageHelper, Backbone.Events);\r\n\r\n  // Exports\r\n  // -------\r\n\r\n  return MessageHelper;\r\n\r\n});\r\n\n","csui.define('csui/utils/types/date',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/moment',\r\n  'csui/lib/moment-timezone'\r\n], function (module, _, moment) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n    .config['csui/utils/base'] || {};\r\n  config = _.extend({\r\n    friendlyDateTime: true,\r\n    friendlyTime: true,\r\n    friendlyDate: true,\r\n    formatIsoDateTimeInUtc: false,\r\n    formatIsoDateTimeInTimeZone: undefined\r\n  }, config, module.config());\r\n\r\n  var momentDateFormat     = 'L',\r\n      momentTimeFormat     = 'LTS',\r\n      momentDateTimeFormat = momentDateFormat + ' ' + momentTimeFormat,\r\n      exactDateFormat      = getExactFormat(momentDateFormat),\r\n      exactTimeFormat      = getExactFormat(momentTimeFormat),\r\n      exactDateTimeFormat  = getExactFormat(momentDateTimeFormat);\r\n\r\n  // Moment's longDateFormat need the formatting parts like \"L\" otr \"LTS\"\r\n  // separately; it does not accept a combined string\r\n  function getExactFormat(momentFormat) {\r\n    var formatters     = /\\w+/g,\r\n        explicitFormat = momentFormat,\r\n        shift          = 0,\r\n        match, part, partFormat, index;\r\n    while ((match = formatters.exec(momentFormat))) {\r\n      part = match[0];\r\n      partFormat = moment.localeData().longDateFormat(part);\r\n      // Skip words in the format, which are not moment's tokens\r\n      if (partFormat) {\r\n        index = match.index + shift;\r\n        explicitFormat = explicitFormat.substring(0, index) + partFormat +\r\n                         explicitFormat.substring(index + part.length);\r\n        shift += partFormat.length - part.length;\r\n      }\r\n    }\r\n    // If the format was expanded, try it once more, in case moment\r\n    // placeholders were used recursively like \"LT:ss\"\r\n    return explicitFormat !== momentFormat ?\r\n      getExactFormat(explicitFormat) : explicitFormat;\r\n  }\r\n\r\n  // static helper methods\r\n\r\n  function pad(n) {\r\n    return n < 10 ? '0' + n : n;\r\n  }\r\n\r\n  // Creates a new moment object in the local (client) time zone\r\n  // from a string in the ISO 8601 format sent by the server, or\r\n  // from a Date object instance, or from a Moment instance.\r\n  function createMoment(text) {\r\n    // Checks if the text, which should be in the ISO 8601 format,\r\n    // ends with the UTC identifier or a time zone offset.\r\n    function includesTimeZone(text) {\r\n      var length = text.length;\r\n      if (length > 19) {\r\n        if (text.charAt(length - 1) === 'Z') {\r\n          return true;\r\n        }\r\n        var direction = text.charAt(length - 5);\r\n        if (direction === '+' || direction === '-') {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (text instanceof moment) {\r\n      return text;\r\n    }\r\n    if(text instanceof Date) {\r\n      return moment(text);\r\n    }\r\n    return config.formatIsoDateTimeInTimeZone && !includesTimeZone(text) ?\r\n           moment.tz(text, config.formatIsoDateTimeInTimeZone) : moment(text);\r\n  }\r\n\r\n  // Parses the text in the ISO 8601 format as sent by the server\r\n  // to a Date object instance in the local (client) time zone.\r\n  function deserializeDate(text) {\r\n    return text && createMoment(text).toDate();\r\n  }\r\n\r\n  // Formats the date in the local (client) time zone to a sub-set\r\n  // of ISO 8601 for the server.\r\n  function serializeDateTime(date, format, callback) {\r\n    function formatDateTime(date, suffix) {\r\n      // CS does not accept te standard ISO value returned\r\n      // by toISOString, which includes milliseconds.\r\n      return date.year() + '-'\r\n             + pad((date.month() + 1)) + '-'\r\n             + pad(date.date()) + 'T'\r\n             + pad(date.hours()) + ':'\r\n             + pad(date.minutes()) + ':'\r\n             + pad(date.seconds()) + suffix;\r\n    }\r\n\r\n    format || (format = exactDateTimeFormat);\r\n    var parsed = moment(date, format, true);\r\n    if (!parsed.isValid()) {\r\n      if (!!callback) {\r\n        callback();\r\n      } else {\r\n        throw new Error('Parsing date value \"' + date +\r\n                        '\" as \"' + format + '\" failed.');\r\n      }\r\n    }\r\n\r\n    if (config.formatIsoDateTimeInUtc) {\r\n      return formatDateTime(parsed.utc(), 'Z');\r\n    }\r\n\r\n    if (config.formatIsoDateTimeInTimeZone) {\r\n      return formatDateTime(parsed.tz(config.formatIsoDateTimeInTimeZone), '');\r\n    }\r\n\r\n    return formatDateTime(parsed, '');\r\n  }\r\n\r\n  // Formats the date to a sub-set of ISO 8601 - only the date part.\r\n  function serializeDate(date, format, callback) {\r\n    format || (format = exactDateFormat);\r\n    var parsed = moment(date, format, true);\r\n    if (!parsed.isValid()) {\r\n      if (!!callback) {\r\n        callback();\r\n      } else {\r\n        throw new Error('Parsing date value \"' + date +\r\n                        '\" as \"' + format + '\" failed.');\r\n      }\r\n    }\r\n    return parsed.year() + '-'\r\n           + pad((parsed.month() + 1)) + '-'\r\n           + pad(parsed.date());\r\n  }\r\n\r\n  function validateDate(date, format) {\r\n    return moment(date, format || exactDateFormat, true).isValid();\r\n  }\r\n\r\n  function validateDateTime(date, format) {\r\n    return moment(date, format || exactDateTimeFormat, true).isValid();\r\n  }\r\n\r\n  function formatDate(date) {\r\n    return config.friendlyDate ? formatFriendlyDate(date) : formatExactDate(date);\r\n  }\r\n\r\n  function formatDateTime(date) {\r\n    return config.friendlyDateTime ? formatFriendlyDateTime(date) :\r\n           formatExactDateTime(date);\r\n  }\r\n\r\n  function formatExactDate(date) {\r\n    return date ? createMoment(date).format(exactDateFormat) : '';\r\n  }\r\n\r\n  function formatExactTime(date) {\r\n    return date ? createMoment(date).format(exactTimeFormat) : '';\r\n  }\r\n\r\n  function formatExactDateTime(date) {\r\n    return date ? createMoment(date).format(exactDateTimeFormat) : '';\r\n  }\r\n\r\n  function formatFriendlyDate(date) {\r\n    return date ? createMoment(date).calendar() : \"\";\r\n  }\r\n\r\n  function formatFriendlyDateTime(date) {\r\n    return date ? createMoment(date).calendar() : \"\";\r\n  }\r\n\r\n  function formatFriendlyDateTimeNow(date) {\r\n    return date ? createMoment(date).fromNow() : \"\";\r\n  }\r\n\r\n  function formatISODate(date) {\r\n    return date ? moment.utc(date).toISOString() : \"\";\r\n  }\r\n\r\n  function formatISODateTime(date) {\r\n    return date ? moment(date).toISOString() : \"\";\r\n  }\r\n\r\n  return {\r\n    exactDateFormat: exactDateFormat,\r\n    exactTimeFormat: exactTimeFormat,\r\n    exactDateTimeFormat: exactDateTimeFormat,\r\n\r\n    deserializeDate: deserializeDate,\r\n    serializeDate: serializeDate,\r\n    serializeDateTime: serializeDateTime,\r\n\r\n    validateDate: validateDate,\r\n    validateDateTime: validateDateTime,\r\n\r\n    formatDate: formatDate,\r\n    formatDateTime: formatDateTime,\r\n    formatExactDate: formatExactDate,\r\n    formatExactTime: formatExactTime,\r\n    formatExactDateTime: formatExactDateTime,\r\n    formatFriendlyDate: formatFriendlyDate,\r\n    formatFriendlyDateTime: formatFriendlyDateTime,\r\n    formatFriendlyDateTimeNow: formatFriendlyDateTimeNow,\r\n    formatISODateTime: formatISODateTime,\r\n    formatISODate: formatISODate,\r\n  };\r\n});\r\n\n","csui.define('csui/utils/types/number',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/numeral',\r\n  'i18n!csui/utils/impl/nls/lang'\r\n], function (module, _, numeral, lang) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n    .config['csui/utils/base'] || {};\r\n  config = _.extend({\r\n    friendlyFileSize: true\r\n  }, config, module.config());\r\n\r\n  function formatInteger(value, format) {\r\n    format || '0';\r\n    return numeral(value).format(format);\r\n  }\r\n\r\n  function formatIntegerWithCommas(value) {\r\n    return formatInteger(value, '0,0');\r\n  }\r\n\r\n  function formatFileSize(size) {\r\n    return config.friendlyFileSize ? formatFriendlyFileSize(size) :\r\n           formatExactFileSize(size);\r\n  }\r\n\r\n  function formatFriendlyFileSize(size) {\r\n    if (!_.isNumber(size)) {\r\n      return '';\r\n    }\r\n    return size >= 1024 ? numeral(size).format('0 b') :\r\n           formatExactFileSize(size);\r\n  }\r\n\r\n  function formatExactFileSize(size) {\r\n    if (!_.isNumber(size)) {\r\n      return '';\r\n    }\r\n    size = formatIntegerWithCommas(size);\r\n    return _.str.sformat(lang.sizeInBytes, size);\r\n  }\r\n\r\n  return {\r\n    formatInteger: formatInteger,\r\n    formatIntegerWithCommas: formatIntegerWithCommas,\r\n\r\n    formatFileSize: formatFileSize,\r\n    formatFriendlyFileSize: formatFriendlyFileSize,\r\n    formatExactFileSize: formatExactFileSize\r\n  };\r\n});\r\n\n","csui.define('csui/utils/types/member',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n   'i18n!csui/utils/impl/nls/lang'\r\n], function (_, Backbone, lang) {\r\n  'use strict';\r\n\r\n  function formatMemberName(member) {\r\n    if (!member) {\r\n      return '';\r\n    }\r\n    if (_.isNumber(member) || _.isString(member)) {\r\n      return member.toString();\r\n    }\r\n    if (member instanceof Backbone.Model) {\r\n      member = member.attributes;\r\n    }\r\n    if (member.display_name) {\r\n      return member.display_name;\r\n    }\r\n    if (member.name_formatted) {\r\n      return member.name_formatted;\r\n    }\r\n    var firstName  = member.first_name,\r\n        lastName   = member.last_name,\r\n        middleName = member.middle_name,\r\n        name;\r\n    if (firstName) {\r\n      if (middleName) {\r\n        name = _.str.sformat(lang.ColumnMemberName3, lastName, firstName, middleName);\r\n      } else if (lastName) {\r\n        name = _.str.sformat(lang.ColumnMemberName2, lastName, firstName);\r\n      } else {\r\n        name = firstName;\r\n      }\r\n    } else {\r\n      name = lastName;\r\n    }\r\n    return name || member.name_formatted || member.name\r\n           || member.id && member.id.toString() || '';\r\n  }\r\n\r\n  return {\r\n    formatMemberName: formatMemberName\r\n  };\r\n});\r\n\n","csui.define('csui/utils/types/localizable',[\r\n  'csui/lib/underscore', 'i18n' \r\n], function (_, i18n) {\r\n  'use strict';\r\n\r\n  var locale = i18n.settings.locale,\r\n      language = locale.replace(/[-_]\\w+$/, ''),\r\n      defaultLocale = i18n.settings.defaultLocale,\r\n      defaultLanguage = defaultLocale.replace(/[-_]\\w+$/, '');\r\n\r\n  function getClosestLocalizedString(value, fallback) {\r\n    if (_.isObject(value)) {\r\n      // Normalize locale keys to 'll-cc' to be able to look up the right one;\r\n      // the CS REST API uses non-standard 'll_CC' in multilingual metadata\r\n      value = _.reduce(value, function (result, text, locale) {\r\n        locale = locale.toLowerCase().replace('_', '-');\r\n        result[locale] = text;\r\n        return result;\r\n      }, {});\r\n      value = value[locale] || value[language] ||\r\n              value[defaultLocale] || value[defaultLanguage] || fallback;\r\n    }\r\n    return value != null && value.toString() || '';\r\n  }\r\n\r\n  function localeCompareString(left, right, options) {\r\n    options || (options = {});\r\n    // Default is the search usage - ignore case, recognize transliterations\r\n    var usage = options.usage || 'search',\r\n        // Do not accept everything; this method ensures a consistent\r\n        // behaviour of the product - it should not be freely customizable\r\n        filteredOptions = {\r\n          // Passing an undefined usage would even ignore differences in\r\n          // accents, improving the search usage to the Google behaviour.\r\n          // However, it stops the transliteration support, at least in\r\n          // Chrome, unfortunately.  Transliteration is more important,\r\n          // because it is needed by grammar, while omitting accents is\r\n          // a workaround only, if you cannot type the characters with\r\n          // accents on the keyboard.\r\n          usage: usage,\r\n          // Default for the search usage should be always base sensitivity,\r\n          // but it depends on locale, which would confuse the user\r\n          sensitivity: usage === 'search' ? 'base' : 'variant',\r\n          // Number digits should not be normalized in string excerpts, when\r\n          // searching, but when sorting, they should be handled as numbers\r\n          numeric: usage !== 'search'\r\n        };\r\n\r\n    if (!left || !right) {\r\n      return !left ? (!right ? 0 : 1) : -1;\r\n    }\r\n\r\n    if (left.localeCompare) {\r\n      try {\r\n        return left.localeCompare(right, locale, filteredOptions);\r\n      } catch (error) {}\r\n    }\r\n\r\n    left = left.toLowerCase();\r\n    right = right.toLowerCase();\r\n    return left < right ? -1 : left > right ? 1 : 0;\r\n  }\r\n\r\n  function localeContainsString(hay, needle) {\r\n    return localeIndexOfString(hay, needle) >= 0;\r\n  }\r\n\r\n  function localeEndsWithString(full, end) {\r\n    // FIXME: How many maximum characters can the transliteration add?\r\n    var fullLength = full.length,\r\n        maxLength  = Math.min(fullLength, end.length * 3),\r\n        i;\r\n    for (i = 1; i <= maxLength; ++i) {\r\n      if (localeCompareString(full.substring(fullLength - i), end) === 0) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  function localeIndexOfString(hay, needle) {\r\n    var difference = hay.length - needle.length + 1,\r\n        i;\r\n    for (i = 0; i <= difference; ++i) {\r\n      if (localeStartsWithString(hay.substring(i), needle)) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  function localeStartsWithString(full, start) {\r\n    // FIXME: How many maximum characters can the transliteration add?\r\n    var maxLength = Math.min(full.length, start.length * 3),\r\n        i;\r\n    for (i = 1; i <= maxLength; ++i) {\r\n      if (localeCompareString(full.substring(0, i), start) === 0) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  // After the formats parameter there can be additionally parameters specified. They must be of type \"string\"!\r\n  //\r\n  // We need for each message type 3 or 4 sentences. In many languages for multiple items there is an additional sentence required,\r\n  // that means we need a sentence for one item (\"ForOne\"), for up to four items (\"ForTwo\") and for more items (\"ForFive\"). In english and german\r\n  // the \"ForTwo\" and \"ForFive\" sentences are normally the same. We need also a \"ForNone\" sentence, if nothing is processed.\r\n  //\r\n  // For example czech (item = soubor):\r\n  //    dn soubor        => none (s0, optional)\r\n  //    ---\r\n  //    1 soubor            => one  (s1)\r\n  //    ---\r\n  //    2 soubory           => some (s2)\r\n  //    3 soubory\r\n  //    4 soubory\r\n  //    ---\r\n  //    5 soubor           => many (s5)\r\n  //    6 soubor\r\n  //    ...\r\n  //    n soubor\r\n  //    ---\r\n  //    0 soubor           => manu (s5, fallback)\r\n  //\r\n  // formats[success].none = dn soubor ... succeeded.\r\n  // formats[success].one = 1 soubor ... succeeded.\r\n  // formats[success].two = 3 soubory ... succeeded.\r\n  // formats[success].five = 8 soubor ... succeeded.\r\n  //\r\n  // formats[failure].one = 1 soubor ... failed.\r\n  // formats[failure].two = 3 soubory ... failed.\r\n  // formats[failure].five = 8 soubor ... failed.\r\n  // formats[failure].five = 0 soubor ... failed.\r\n  //\r\n  // formats[partial].two = 1 soubor ze 3 soubor ... failed.\r\n  // formats[partial].five = 2 soubory z 15 soubor ... failed.\r\n  //\r\n  // Returns formatted message string.\r\n\r\n  function formatMessage(count, messagesObj) {\r\n    var SUCCESS_TYPE = \"success\";\r\n    var ERROR_TYPE = \"error\";\r\n\r\n    // get all additional parameters, except promises, options and formats\r\n    var params = Array.prototype.slice.call(arguments, 2);\r\n    var formatStr;\r\n\r\n    if (count > 4) {\r\n      formatStr = messagesObj.formatForFive;\r\n    } else if (count > 1) {\r\n      formatStr = messagesObj.formatForTwo;\r\n    } else if (count > 0) {\r\n      formatStr = messagesObj.formatForOne;\r\n    } else {\r\n      formatStr = messagesObj.formatForNone || messagesObj.formatForFive;\r\n    }\r\n\r\n    params.splice(0, 0, count.toString()); // insert count into params at index 0\r\n    params.splice(0, 0, formatStr);        // insert formatStr into params at index 0\r\n    var msg = _.str.sformat.apply(_.str, params);\r\n\r\n    return msg;\r\n  }\r\n\r\n  return {\r\n    getClosestLocalizedString: getClosestLocalizedString,\r\n\r\n    localeCompareString: localeCompareString,\r\n    localeContainsString: localeContainsString,\r\n    localeEndsWithString: localeEndsWithString,\r\n    localeIndexOfString: localeIndexOfString,\r\n    localeStartsWithString: localeStartsWithString,\r\n\r\n    formatMessage: formatMessage\r\n  };\r\n});\r\n\n","csui.define('csui/utils/base',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url',\r\n  'csui/utils/errormessage', 'csui/utils/messagehelper',\r\n  'csui/utils/types/date', 'csui/utils/types/number',\r\n  'csui/utils/types/member', 'csui/utils/types/localizable', 'i18n'\r\n], function (_, $, Url, Message, MessageHelper, date, number, member,\r\n    localizable, i18n) {\r\n  'use strict';\r\n\r\n  var $window = $(window);\r\n\r\n  // handler as singleton, bind dialog to handler\r\n  var messageHelper = new MessageHelper();\r\n  // TODO: Implement a component showing the errors\r\n  messageHelper.on(\"showErrors\", function (errors, html, title, showit) {\r\n    alert($(html).text());\r\n  });\r\n\r\n  var escapeHtmlHelper = $(\"<p></p>\");\r\n\r\n  function escapeHtml(text, preserveLineBreaks) {\r\n    // There's no HTML escaping function which would return a text to be\r\n    // concatenated with the rest of the raw HTML markup so that the text\r\n    // value would be the same and not interpreted as HTML markup.\r\n    // Let's use an artificial DOM element for this, wrapped with jQuery.\r\n    var html = escapeHtmlHelper.text(text).html();\r\n    if (preserveLineBreaks) {\r\n      html = html.replace(/\\r?\\n/g, \"\\r\\n<br>\");\r\n    }\r\n    return html;\r\n  }\r\n\r\n  function isBackbone(value) {\r\n    // descendant of Backbone.Events\r\n    return value && value.once;\r\n  }\r\n\r\n  function isPlaceholder(value) {\r\n    // string selector, DOM object or jQuery object\r\n    return value && (_.isString(value) || _.isElement(value) || value instanceof $);\r\n  }\r\n\r\n  function isTouchBrowser() {\r\n    return !!(('ontouchstart' in window) || (navigator.maxTouchPoints) ||\r\n              (navigator.msMaxTouchPoints));\r\n  }\r\n\r\n  function isAppleMobile() {\r\n    if (navigator && navigator.userAgent != null) {\r\n      var appleMatches = navigator.userAgent.match(/(iPhone |iPad)/i);\r\n      return (appleMatches != null);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function isMacintosh() {\r\n    return navigator.platform.indexOf('Mac') > -1;\r\n  }\r\n\r\n  function isLandscape() {\r\n    return isAppleMobile() && (window.matchMedia(\"(orientation: landscape)\").matches);\r\n  }\r\n\r\n  function isPortrait() {\r\n    return isAppleMobile() && (window.matchMedia(\"(orientation: portrait)\").matches);\r\n  }\r\n\r\n  function isIE11() {\r\n    if (navigator && navigator.userAgent) {\r\n      var isInternetExplorer11 = /Trident.*11/i.test(navigator.userAgent);\r\n      return isInternetExplorer11;\r\n    }\r\n  }\r\n\r\n  function isMozilla() {\r\n    if (navigator && navigator.userAgent) {\r\n      var isMozilla = /Mozilla/.test(navigator.userAgent);\r\n      return isMozilla;\r\n    }\r\n  }\r\n\r\n  function isEdge() {\r\n    if (navigator && navigator.userAgent) {\r\n      var isEdge = /Edge/.test(navigator.userAgent);\r\n      return isEdge;\r\n    }\r\n  }\r\n\r\n  function isFirefox() {\r\n    if (navigator && navigator.userAgent) {\r\n      var isFirefox = /Firefox/.test(navigator.userAgent);\r\n      return isFirefox;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * returns true if the current browser is either IE11\r\n   * or Edge (from Windows 10).\r\n   *\r\n   @returns {}\r\n   */\r\n  function isMSBrowser() {\r\n    return isIE11() || isEdge();\r\n  }\r\n\r\n  function isChrome() {\r\n    // please note,\r\n    // that IE11 now returns undefined again for window.chrome\r\n    // and new Opera 30 outputs true for window.chrome\r\n    // and new IE Edge outputs to true now for window.chrome\r\n    // and if not iOS Chrome check\r\n    // so use the below updated condition\r\n    var isChromium  = window.chrome,\r\n        winNav      = window.navigator,\r\n        vendorName  = winNav.vendor,\r\n        isOpera     = winNav.userAgent.indexOf(\"OPR\") > -1,\r\n        isIEedge    = winNav.userAgent.indexOf(\"Edge\") > -1,\r\n        isIOSChrome = winNav.userAgent.match(\"CriOS\"),\r\n        retVal      = false;\r\n    if (isIOSChrome ||\r\n        (isChromium != null && vendorName === \"Google Inc.\" && isOpera === false &&\r\n         isIEedge === false)) {\r\n      retVal = true;\r\n    }\r\n    return retVal;\r\n  }\r\n\r\n  function isSafari() {\r\n    if (navigator && navigator.userAgent) {\r\n      //it excludes Chrome and all Android browsers that include the Safari name in their user agent.\r\n      var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n      return isSafari;\r\n    }\r\n  }\r\n\r\n  // This shared function is used to compute the number characters can fit in a container.\r\n  // Input:\r\n  // - container width in pixels\r\n  // - element width in pixels\r\n  // Return:\r\n  // - number of elements to fill the container\r\n  function px2em(pxContainerWidth, pxElemWidth) {\r\n    var pxInEms = 0;\r\n    if (pxElemWidth > 0) {\r\n      pxInEms = Math.floor(2 * pxContainerWidth / pxElemWidth);\r\n    }\r\n    return pxInEms;\r\n  }\r\n\r\n  function isVisibleInWindowViewport(el) {\r\n    var $el = el instanceof $ ? el : $(el);\r\n    if (!$el.is(':visible')) {\r\n      return false;\r\n    }\r\n    var position = $el.offset(),\r\n        offset   = {\r\n          left: window.pageXOffset,\r\n          top: window.pageYOffset\r\n        },\r\n        extents  = {\r\n          width: $window.width(),\r\n          height: $window.height()\r\n        };\r\n    return position.left >= offset.left && position.left - offset.left < extents.width &&\r\n           position.top >= offset.top && position.top - offset.top < extents.height;\r\n  }\r\n\r\n  function isVisibleInWindowViewportHorizontally(el) {\r\n    if (el === undefined) {\r\n      return false;\r\n    }\r\n    var elem = el instanceof $ ? el[0] : el;\r\n    if (!elem || !elem.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    var elRect = elem.getBoundingClientRect();\r\n    return elRect.left >= window.pageXOffset && elRect.right - window.pageXOffset < $window.width();\r\n  }\r\n\r\n  function isVisibleInWindowViewportVertically(el) {\r\n    if (el === undefined) {\r\n      return false;\r\n    }\r\n    var elem = el instanceof $ ? el[0] : el;\r\n    if (!elem || !elem.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    var elRect = elem.getBoundingClientRect();\r\n    return elRect.top >= window.pageYOffset &&\r\n           elRect.bottom - window.pageYOffset < $window.height();\r\n  }\r\n\r\n  // Params:\r\n  // - el: element\r\n  // - levels: for performance, only check parents up to number of levels. Default: 5.\r\n  // - iPercentX: visible percentage X.  Default: 100% for full visibility.\r\n  // - iPercentY: visible percentage Y.  Default: 100% for full visibility.\r\n  // Return: true/false\r\n  // Note: credit to a guy on stackoverflow for his original code\r\n  function isElementVisibleInParents(el, levels, iPercentX, iPercentY) {\r\n    if (el === undefined) {\r\n      return false;\r\n    }\r\n    var elem = el instanceof $ ? el[0] : el;\r\n    if (!elem || !elem.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    // needed because the rects returned by getBoundingClientRect have up to 10 decimals\r\n    var tolerance = 0.01;\r\n    var percentX = iPercentX !== undefined ? iPercentX : 100;\r\n    var percentY = iPercentY !== undefined ? iPercentY : 100;\r\n    var elemRect = elem.getBoundingClientRect();\r\n    var parentRects = [];\r\n    var maxLevels = levels || 5;\r\n    var curLevel = 0;\r\n    while (elem.parentElement != null && curLevel < maxLevels) {\r\n      parentRects.push(elem.parentElement.getBoundingClientRect());\r\n      elem = elem.parentElement;\r\n      curLevel++;\r\n    }\r\n\r\n    var visibleInAllParents = parentRects.every(function (parentRect) {\r\n      var visiblePixelX = Math.min(elemRect.right, parentRect.right) -\r\n                          Math.max(elemRect.left, parentRect.left);\r\n      var visiblePixelY = Math.min(elemRect.bottom, parentRect.bottom) -\r\n                          Math.max(elemRect.top, parentRect.top);\r\n      var visiblePercentageX = visiblePixelX / elemRect.width * 100;\r\n      var visiblePercentageY = visiblePixelY / elemRect.height * 100;\r\n      return visiblePercentageX + tolerance > percentX &&\r\n             visiblePercentageY + tolerance > percentY;\r\n    });\r\n    return visibleInAllParents;\r\n  }\r\n\r\n  // Similar to isElementVisibleInParents above but this function only checks a particular parent.\r\n  // Params:\r\n  // - el: element\r\n  // - parent: parent element\r\n  // - iPercentX: visible percentage X.  Default: 100% for full visibility.\r\n  // - iPercentY: visible percentage Y.  Default: 100% for full visibility.\r\n  // Return: true/false\r\n  function isElementVisibleInParent(el, parent, iPercentX, iPercentY) {\r\n    if (el === undefined || parent === undefined) {\r\n      return false;\r\n    }\r\n    var elem = el instanceof $ ? el[0] : el;\r\n    if (!elem || !elem.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    var container = parent instanceof $ ? parent[0] : parent;\r\n    if (!container || !container.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    // needed because the rects returned by getBoundingClientRect have up to 10 decimals\r\n    var tolerance = 0.01;\r\n    var percentX = iPercentX !== undefined ? iPercentX : 100;\r\n    var percentY = iPercentY !== undefined ? iPercentY : 100;\r\n    var elemRect = elem.getBoundingClientRect();\r\n    var contRect = container.getBoundingClientRect();\r\n    var visiblePixelX = Math.min(elemRect.right, contRect.right) -\r\n                        Math.max(elemRect.left, contRect.left);\r\n    var visiblePixelY = Math.min(elemRect.bottom, contRect.bottom) -\r\n                        Math.max(elemRect.top, contRect.top);\r\n    var visiblePercentageX = visiblePixelX / elemRect.width * 100;\r\n    var visiblePercentageY = visiblePixelY / elemRect.height * 100;\r\n    return visiblePercentageX + tolerance > percentX &&\r\n           visiblePercentageY + tolerance > percentY;\r\n  }\r\n\r\n  function checkAndScrollElemToViewport(elem) {\r\n    var $elem            = $(elem),\r\n        scrollSelector   = $elem.closest('.csui-perfect-scrolling').length > 0 ?\r\n                           '.csui-perfect-scrolling' : '.csui-normal-scrolling',\r\n        elemScrollParent = $elem.closest(scrollSelector),\r\n        stickyHeader     = elemScrollParent.siblings(\".csui-tab-contents-header-wrapper\");\r\n    if (!!stickyHeader[0]) {\r\n      var elemTop       = $elem.offset().top,\r\n          viewportTop   = elemScrollParent[0].getBoundingClientRect().top + stickyHeader.height(),\r\n          isElemVisible = elemTop > viewportTop;\r\n      if (!isElemVisible) {\r\n        var currScrollTop = elemScrollParent.scrollTop();\r\n        elemScrollParent.scrollTop(currScrollTop - (viewportTop - elemTop));\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  function setScrollHandler(e) {\r\n    var eventArg = e.data;\r\n    var inputElement      = eventArg.inputElement,\r\n        view              = eventArg.view,\r\n        dropdownContainer = eventArg.dropdownContainer,\r\n        callback          = eventArg.callback;\r\n    //When dropdown is closed\r\n    inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"auto\");\r\n    //close respective drop-downs using callback\r\n    if (dropdownContainer.length > 0 && dropdownContainer[0] !== e.target &&\r\n        dropdownContainer.is(\":visible\") && callback) {\r\n      callback(view);\r\n    }\r\n  }\r\n\r\n  function adjustDropDownField(inputElement, dropdownContainer, applyWidth, view, callback,\r\n      scrollableDropdownContainer) {\r\n    var scrollEl;\r\n    var eventArg = {\r\n      inputElement: inputElement,\r\n      view: view,\r\n      dropdownContainer: dropdownContainer,\r\n      callback: callback\r\n    };\r\n\r\n    var isIEBrowser    = this.isIE11(),\r\n        isTouchBrowser = this.isTouchBrowser();\r\n\r\n    if (isTouchBrowser &&\r\n        !inputElement.closest('.csui-scrollable-writemode').hasClass('csui-dropdown-open')) {\r\n      inputElement.closest('.csui-scrollable-writemode').addClass('csui-dropdown-open');\r\n    }\r\n\r\n    // for scrollable set\r\n    if (inputElement.parents(\".csui-scrollablecols\").length > 0 &&\r\n        inputElement.parents(\".cs-form-set-container\").length >\r\n        0) {\r\n      scrollEl = inputElement.parents(\".csui-scrollablecols\").parents(\".cs-form-set-container\").find\r\n      (\".ps-container.ps-active-x\");\r\n      var isRtl            = i18n && i18n.settings.rtl,\r\n          inputElementLeft = inputElement.offset().left,\r\n          leftShadow       = inputElement.parents(\".csui-scrollablecols\").siblings(\r\n              \".csui-lockedcols\").find(\".csui-shadowleft-container\"),\r\n          leftShadowLeft   = leftShadow.offset().left,\r\n          currentLeft,\r\n          scrollUpdate;\r\n      if (isRtl) {\r\n        var inputElementRight = inputElementLeft + inputElement.outerWidth();\r\n        scrollUpdate = inputElementRight - leftShadowLeft;\r\n      }\r\n      else {\r\n        var leftShadowRight = leftShadowLeft + leftShadow.outerWidth();\r\n        scrollUpdate = leftShadowRight - inputElementLeft;\r\n      }\r\n      // for partially visible dropdownfield\r\n      if (scrollUpdate > 0) {\r\n        scrollEl.unbind('scroll', setScrollHandler);\r\n        scrollEl.one('set:scrolled', function () {\r\n          if (!!scrollEl) {\r\n            scrollEl.bind('scroll', eventArg, setScrollHandler);\r\n          }\r\n          autoAlignDropDowns(inputElement, dropdownContainer, applyWidth,\r\n              scrollableDropdownContainer, isIEBrowser);\r\n          hideDropDowns(inputElement, dropdownContainer, view, callback);\r\n        });\r\n        if (isRtl) {\r\n          currentLeft = scrollEl.scrollLeftRtl();\r\n          scrollEl.scrollLeftRtl(currentLeft + scrollUpdate);\r\n        }\r\n        else {\r\n          currentLeft = scrollEl.scrollLeft();\r\n          scrollEl.scrollLeft(currentLeft - scrollUpdate);\r\n          var that = this;\r\n          setTimeout(function () {\r\n            if (that.isTouchBrowser && !inputElement.closest('.csui-scrollable-writemode').hasClass(\r\n                '.csui-dropdown-open')) {\r\n              inputElement.closest('.csui-scrollable-writemode').addClass('csui-dropdown-open');\r\n            }\r\n          }, 100);\r\n        }\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (!!scrollEl) {\r\n      scrollEl.bind('scroll', eventArg, setScrollHandler);\r\n    }\r\n    autoAlignDropDowns(inputElement, dropdownContainer, applyWidth, scrollableDropdownContainer,\r\n        isIEBrowser);\r\n    hideDropDowns(inputElement, dropdownContainer, view, callback);\r\n\r\n  }\r\n\r\n  //This function is used to display drop-downs either top or bottom based on available space\r\n  function autoAlignDropDowns(inputElement, dropdownContainer, applyWidth,\r\n      scrollableDropdownContainer, isIEBrowser) {\r\n    var isRtl                 = i18n && i18n.settings.rtl,\r\n        elTop                 = inputElement.offset().top,\r\n        elPositionX           = inputElement.offset().left,\r\n        scrollSelector        = inputElement.closest('.csui-perfect-scrolling').length > 0 ?\r\n                                '.csui-perfect-scrolling' : '.csui-normal-scrolling',\r\n        form                  = inputElement.closest(scrollSelector),\r\n        modalContentElem      = isIEBrowser ? [] :\r\n                                (form.length > 0 ? form.parents(\".binf-modal-content\") :\r\n                                 inputElement.closest(\".binf-modal-content\")), /*For\r\n         IE, left & top position is calculated with respect to document*/\r\n        modalContentPositionX = modalContentElem.length > 0 ? (isRtl ?\r\n                                                               (modalContentElem.outerWidth() +\r\n                                                                modalContentElem.offset().left) :\r\n                                                               modalContentElem.offset().left) :\r\n                                (isRtl ? $(document).width() : 0),\r\n        modalContentTop       = modalContentElem.length > 0 ? modalContentElem.offset().top : 0,\r\n        controlheight         = inputElement.outerHeight(),\r\n        dropdownWidth         = inputElement.outerWidth(),\r\n        perspectivePanel      = $(\".cs-perspective-panel\"),\r\n        perspective           = inputElement.closest(\".cs-perspective\"),\r\n        perspectiveHeight     = perspective.length > 0 ?\r\n                                perspective.outerHeight() : $(document).height(),\r\n        perspectiveTop        = perspective.length > 0 ?\r\n                                perspective.offset().top : 0,\r\n        elemBoundingRect      = inputElement[0].getBoundingClientRect(),\r\n        contextBottom, contextTop;\r\n\r\n    if (applyWidth) {\r\n      dropdownContainer.css({\r\n        \"width\": dropdownWidth\r\n      });\r\n    }\r\n    //When dropdown is opened\r\n    if (scrollSelector != '.csui-normal-scrolling') {\r\n      inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"hidden\");\r\n    }\r\n\r\n    var perspectivePanelClientTop = perspectivePanel.length > 0 ?\r\n                                    perspectivePanel[0].getBoundingClientRect().top : 0;\r\n    if (perspectivePanelClientTop < 0) {\r\n      perspectivePanelClientTop = 0;\r\n    }\r\n    var spaceOnTop           = elemBoundingRect.top - perspectivePanelClientTop,\r\n        spaceOnBottom        = window.innerHeight - elemBoundingRect.top,\r\n        isDropdownShownOnTop = spaceOnTop > spaceOnBottom;\r\n\r\n    if (!!scrollableDropdownContainer) {\r\n      scrollableDropdownContainer.css({\r\n        'max-height': Math.abs((isDropdownShownOnTop ? spaceOnTop : spaceOnBottom) * 0.9) + 'px'\r\n      });\r\n    }\r\n    // below code used to display dropdown at top of the field.\r\n    if (isDropdownShownOnTop) {\r\n\r\n      if (isIEBrowser) {\r\n        contextBottom = document.documentElement.offsetHeight + document.documentElement.scrollTop -\r\n                        elTop;\r\n      } else {\r\n        if (modalContentElem.length > 0) {\r\n          contextBottom = modalContentElem.outerHeight() + modalContentTop - elTop;\r\n        } else {\r\n          if (perspective.length > 0 || isSafari()) {\r\n            contextBottom = perspectiveHeight + perspectiveTop - elTop;\r\n          } else {\r\n            contextBottom = document.documentElement.offsetHeight  -  elTop;\r\n          }\r\n        }\r\n      }\r\n      if (isRtl) {\r\n        dropdownContainer.css({\r\n          \"-webkit-transform\": \"translate3d(0, 0, 0)\",\r\n          \"position\": \"fixed\",\r\n          \"right\": modalContentPositionX - (elPositionX + dropdownWidth),\r\n          \"top\": \"auto\",\r\n          \"bottom\": contextBottom\r\n        });\r\n      } else {\r\n        dropdownContainer.css({\r\n          \"-webkit-transform\": \"translate3d(0, 0, 0)\",\r\n          \"position\": \"fixed\",\r\n          \"left\": elPositionX - modalContentPositionX,\r\n          \"top\": \"auto\",\r\n          \"bottom\": contextBottom\r\n        });\r\n      }\r\n      if (dropdownContainer.hasClass('binf-datetimepicker-widget')) {\r\n        dropdownContainer.addClass('binf-top').removeClass('binf-bottom');\r\n      }\r\n      // below code used to display dropdown at bottom of the field.\r\n    } else {\r\n      if (isIEBrowser) {\r\n        contextTop = elTop + controlheight - document.documentElement.scrollTop;\r\n      } else {\r\n        if (modalContentElem.length > 0) {\r\n          contextTop = elTop + controlheight - modalContentTop;\r\n        } else {\r\n          if (perspective.length > 0) {\r\n            contextTop = elTop + controlheight - perspectiveTop;\r\n          } else {\r\n            contextTop = elemBoundingRect.top + elemBoundingRect.height - perspectiveTop;\r\n          }\r\n\r\n        }\r\n      }\r\n      if (isRtl) {\r\n        dropdownContainer.css({\r\n          \"-webkit-transform\": \"translate3d(0, 0, 0)\",\r\n          \"position\": \"fixed\",\r\n          \"right\": modalContentPositionX - (elPositionX + dropdownWidth),\r\n          \"top\": contextTop,\r\n          \"bottom\": \"auto\"\r\n        });\r\n      } else {\r\n        dropdownContainer.css({\r\n          \"-webkit-transform\": \"translate3d(0, 0, 0)\",\r\n          \"position\": \"fixed\",\r\n          \"left\": elPositionX - modalContentPositionX,\r\n          \"top\": contextTop,\r\n          \"bottom\": \"auto\"\r\n        });\r\n      }\r\n      if (dropdownContainer.hasClass('binf-datetimepicker-widget')) {\r\n        dropdownContainer.addClass('binf-bottom').removeClass('binf-top');\r\n      }\r\n    }\r\n  }\r\n\r\n  function hideDropDowns(inputElement, dropdownContainer, view, callback) {\r\n    var scrollSelector = inputElement.closest('.csui-perfect-scrolling').length > 0 ?\r\n                         '.csui-perfect-scrolling' : '.csui-normal-scrolling',\r\n        form           = inputElement.closest(scrollSelector),\r\n        scrollableSet;\r\n    form.bind('scroll', view, function (e) {\r\n      //When dropdown is closed\r\n      inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"auto\");\r\n      //close respective drop-downs using callback\r\n      if (dropdownContainer.is(\":visible\") && callback) {\r\n        callback(view);\r\n      }\r\n    });\r\n    // called when the window is scrolled.\r\n    $(window).bind('scroll', function () {\r\n      //When dropdown is closed\r\n      inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"auto\");\r\n      if (dropdownContainer.is(\":visible\") && callback) {\r\n        callback(view);\r\n      }\r\n    });\r\n\r\n    // called when the window is resized.\r\n    $(window).bind('resize', function () {\r\n      //When dropdown is closed\r\n      inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"auto\");\r\n      if (dropdownContainer.is(\":visible\") && callback) {\r\n        callback(view);\r\n      }\r\n    });\r\n  }\r\n\r\n  // TODO: Deprecate and remove this method\r\n  function stringifyDate(date) {\r\n    return JSON.stringify(date);\r\n  }\r\n\r\n  // TODO: Deprecate and remove this method\r\n  function dateToLocalIsoString(date, format) {\r\n    if (format === 'YYYY-MM-DD') {\r\n      return date.serializeDate(date);\r\n    }\r\n    return date.serializeDateTime(date);\r\n  }\r\n\r\n  function findFocusables(element) {\r\n    return $(element).find('a[href], area[href], input, select, textarea, button,' +\r\n                           ' iframe, object, embed, *[tabindex], *[contenteditable]')\r\n    // Only visible and enabled\r\n        .filter(':visible:not([disabled])');\r\n  }\r\n\r\n  return {\r\n    MessageHelper: messageHelper,\r\n    ErrorHandler: messageHelper,\r\n\r\n    MessageType: Message.Type,\r\n    Message: Message.Message,\r\n    RequestErrorMessage: Message.RequestErrorMessage,\r\n\r\n    ErrorStatus: Message.Type,\r\n    ErrorToShow: Message.Message,\r\n    ErrorMessage: Message.ErrorMessage,\r\n    Error: Message.RequestErrorMessage,\r\n\r\n    exactDateFormat: date.exactDateFormat,\r\n    exactTimeFormat: date.exactTimeFormat,\r\n    exactDateTimeFormat: date.exactDateTimeFormat,\r\n\r\n    parseDate: date.deserializeDate,\r\n    stringifyDate: stringifyDate,\r\n    dateToLocalIsoString: dateToLocalIsoString,\r\n    deserializeDate: date.deserializeDate,\r\n    serializeDate: date.serializeDate,\r\n    serializeDateTime: date.serializeDateTime,\r\n    formatDate: date.formatDate,\r\n    formatDateTime: date.formatDateTime,\r\n    formatExactDate: date.formatExactDate,\r\n    formatExactTime: date.formatExactTime,\r\n    formatExactDateTime: date.formatExactDateTime,\r\n    formatFriendlyDate: date.formatFriendlyDate,\r\n    formatFriendlyDateTime: date.formatFriendlyDateTime,\r\n    formatFriendlyDateTimeNow: date.formatFriendlyDateTimeNow,\r\n    formatISODateTime: date.formatISODateTime,\r\n    formatISODate: date.formatISODate,\r\n\r\n    getReadableFileSizeString: number.formatFileSize,\r\n    formatFileSize: number.formatFileSize,\r\n    formatFriendlyFileSize: number.formatFriendlyFileSize,\r\n    formatExactFileSize: number.formatExactFileSize,\r\n\r\n    formatInteger: number.formatInteger,\r\n    formatIntegerWithCommas: number.formatIntegerWithCommas,\r\n\r\n    formatMemberName: member.formatMemberName,\r\n\r\n    getClosestLocalizedString: localizable.getClosestLocalizedString,\r\n\r\n    localeCompareString: localizable.localeCompareString,\r\n    localeContainsString: localizable.localeContainsString,\r\n    localeEndsWithString: localizable.localeEndsWithString,\r\n    localeIndexOfString: localizable.localeIndexOfString,\r\n    localeStartsWithString: localizable.localeStartsWithString,\r\n\r\n    formatMessage: localizable.formatMessage,\r\n\r\n    escapeHtml: escapeHtml,\r\n\r\n    isBackbone: isBackbone,\r\n    isPlaceholder: isPlaceholder,\r\n    Url: Url,\r\n    isTouchBrowser: isTouchBrowser,\r\n    isAppleMobile: isAppleMobile,\r\n    isMacintosh: isMacintosh,\r\n    isIE11: isIE11,\r\n    isEdge: isEdge,\r\n    isMozilla: isMozilla,\r\n    isFirefox: isFirefox,\r\n    isSafari: isSafari,\r\n    isLandscape: isLandscape,\r\n    isPortrait: isPortrait,\r\n    isMSBrowser: isMSBrowser,\r\n    isChrome: isChrome,\r\n    px2em: px2em,\r\n    isVisibleInWindowViewport: isVisibleInWindowViewport,\r\n    isVisibleInWindowViewportHorizontally: isVisibleInWindowViewportHorizontally,\r\n    isVisibleInWindowViewportVertically: isVisibleInWindowViewportVertically,\r\n    isElementVisibleInParents: isElementVisibleInParents,\r\n    isElementVisibleInParent: isElementVisibleInParent,\r\n    checkAndScrollElemToViewport: checkAndScrollElemToViewport,\r\n    setScrollHandler: setScrollHandler,\r\n    adjustDropDownField: adjustDropDownField,\r\n    autoAlignDropDowns: autoAlignDropDowns,\r\n    hideDropDowns: hideDropDowns,\r\n    findFocusables: findFocusables\r\n  };\r\n});\r\n\n","csui.define('csui/models/action',[ \"module\", \"require\", \"csui/lib/jquery\", \"csui/lib/underscore\",\r\n  \"csui/lib/backbone\", \"csui/utils/log\", \"csui/utils/base\"\r\n], function (module, _require, $, _, Backbone, log, base) {\r\n  \"use strict\";\r\n\r\n  // {\r\n  //   signature:  unique identifier of the action to refer to\r\n  //   name:       title of the action\r\n  //   children:   array of action to appear as the submenu\r\n  // }\r\n\r\n  // ActionCollection to be filled on the first usage, preventing circular\r\n  // dependency between ActionCollection and ActionModel.\r\n  var ActionCollection;\r\n\r\n  var ActionModel = Backbone.Model.extend({\r\n\r\n    idAttribute: 'signature',\r\n\r\n    constructor: function ActionModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      options && options.connector && options.connector.assignTo(this);\r\n      // Require the ActionCollection on the first use to prevent a circular\r\n      // dependency between ActionCollection and ActionModel.\r\n      if (!ActionCollection) {\r\n        ActionCollection = _require(\"csui/models/actions\");\r\n      }\r\n      // TODO: make the REST API return array or nothing; the children\r\n      // property is supposed top be a collection.  It returns an empty\r\n      // object literal if there are no children, while the clients like\r\n      // Backbone.Collection expect an array or nothing.\r\n      var children = _.isArray(attributes && attributes.children) &&\r\n                     attributes.children || [];\r\n      this.children = new ActionCollection(children);\r\n    },\r\n\r\n    // not yet working\r\n    url: function () {\r\n      return base.Url.combine(this.connector.connection.url,\r\n        \"actions\", this.get(\"signature\"));\r\n    },\r\n\r\n    fetch: function (options) {\r\n      log.debug(\"Fetching action with the ID {0}.\", this.get(\"signature\")) &&\r\n      console.log(log.last);\r\n      return Backbone.Model.prototype.fetch.call(this, options);\r\n    },\r\n\r\n    parse: function (response) {\r\n      var action = response;\r\n\r\n      //if (log.debug(\"Parsing action \\\"{0}\\\" ({1}).\", action.name, action.url)) {\r\n      //  console.log(log.last);\r\n      //  console.log(response);\r\n      //}\r\n\r\n      if (this.children) {\r\n        // TODO: make the REST API return array or nothing; the children\r\n        // property is supposed top be a collection.  It returns an empty\r\n        // object literal if there are no children, while the clients like\r\n        // Backbone.Collection expect an array or nothing.\r\n        var children = _.isArray(action.children) && action.children || [];\r\n        this.children.reset(children);\r\n      }\r\n\r\n      return action;\r\n    }\r\n\r\n  });\r\n\r\n  return ActionModel;\r\n\r\n});\r\n\n","csui.define('csui/models/actions',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  \"csui/utils/log\", \"csui/utils/base\", \"csui/models/action\"\r\n], function (module, $, _, Backbone, log, base, ActionModel) {\r\n  \"use strict\";\r\n\r\n  // ActionCollection\r\n  // ----------------\r\n\r\n  var ActionCollection = Backbone.Collection.extend({\r\n\r\n    model: ActionModel,\r\n\r\n    constructor: function ActionCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n      this.options = options || {};\r\n    },\r\n\r\n    // Finds an action by its cid or signature (id) recursively; if the\r\n    // action doesn't exist in the models of this collection, it will be\r\n    // looked for in children of those models recursively.\r\n    findRecursively: function (id) {\r\n      // search the terminal actions in the collection first\r\n      var action = this.get({ cid: id }) || this.find(function (item) {\r\n        return item.get('signature') === id;\r\n      });\r\n      // if not found, try all the submenus\r\n      if (!action)\r\n      // make an array of all action finding results produced\r\n      // recursively and pick the first action found\r\n      {\r\n        action = _.find(this.map(function (item) {\r\n          // if the submenu isn't empty handle it as another action\r\n          // collection recursively - get the action or undefined\r\n          // if it wasn't found\r\n          return item.children.findRecursively(id);\r\n          // pick the first action which is not undefined\r\n        }), function (item) {\r\n          return item;\r\n        });\r\n      }\r\n      return action;\r\n    }\r\n\r\n  });\r\n\r\n  // Module\r\n  // ------\r\n\r\n  _.extend(ActionCollection, {\r\n    version: '1.0'\r\n  });\r\n\r\n  return ActionCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/rules.matching/rules.matching.mixin',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/log'\r\n], function (module, _, Backbone, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var RulesMatchingMixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeRulesMatching: function (options) {\r\n          return this;\r\n        },\r\n\r\n        rulesToMatch: [\r\n          'equals', 'contains', 'startsWith', 'endsWith', 'matches',\r\n          'includes', 'equalsNoCase', 'containsNoCase', 'startsWithNoCase',\r\n          'endsWithNoCase', 'matchesNoCase', 'includesNoCase',  'has',\r\n          'decides', 'or', 'and', 'not'\r\n        ],\r\n\r\n        matchRules: function (model, operations, combine) {\r\n          var results = _.chain(this.rulesToMatch)\r\n                         .map(function (operation) {\r\n                           var operands = operations[operation];\r\n                           return operands === undefined ? undefined :\r\n                                  this['_evaluate-' + operation](model, operands);\r\n                         }, this)\r\n                         .filter(function (result) {\r\n                           return result !== undefined;\r\n                         })\r\n                         .value();\r\n          return !results.length ||\r\n                 _[combine || 'any'](results, function (result) {\r\n                   return result === true;\r\n                 });\r\n        },\r\n\r\n        _getRulingPropertyValue: function (model, name) {\r\n          if (typeof name !== 'string') {\r\n            if (name == null) {\r\n              name = 'null';\r\n            }\r\n            log.warn('Invalid property name in the action rule specification: {0}',\r\n                name) && console.warn(log.last);\r\n            return null;\r\n          }\r\n          var names = name.split('.'),\r\n              value = model instanceof Backbone.Model ?\r\n                      model.attributes : model || {};\r\n          _.find(names, function (name) {\r\n            value = value[name];\r\n            if (value == null) {\r\n              value = null;\r\n              return true;\r\n            }\r\n          });\r\n          return value;\r\n        },\r\n\r\n        '_evaluate-or': function (model, operations) {\r\n          if (_.isArray(operations)) {\r\n            return _.any(operations, function (operation) {\r\n              return this.matchRules(model, operation);\r\n            }, this);\r\n          }\r\n          return this.matchRules(model, operations, 'any');\r\n        },\r\n\r\n        '_evaluate-and': function (model, operations) {\r\n          if (_.isArray(operations)) {\r\n            return _.all(operations, function (operation) {\r\n              return this.matchRules(model, operation);\r\n            }, this);\r\n          }\r\n          return this.matchRules(model, operations, 'all');\r\n        },\r\n\r\n        '_evaluate-not': function (model, operations) {\r\n          return !this.matchRules(model, operations);\r\n        },\r\n\r\n        '_evaluate-equals': function (model, operands) {\r\n          return this._evaluateEquals(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-equalsNoCase': function (model, operands) {\r\n          return this._evaluateEquals(model, operands, true);\r\n        },\r\n\r\n        _evaluateEquals: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key);\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return value == actual;\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-contains': function (model, operands) {\r\n          return this._evaluateContains(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-containsNoCase': function (model, operands) {\r\n          return this._evaluateContains(model, operands, true);\r\n        },\r\n\r\n        _evaluateContains: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || '';\r\n            actual && (actual = actual.toString()) || (actual = []);\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return actual.indexOf(value) >= 0;\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-startsWith': function (model, operands) {\r\n          return this._evaluateStartsWith(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-startsWithNoCase': function (model, operands) {\r\n          return this._evaluateStartsWith(model, operands, true);\r\n        },\r\n\r\n        _evaluateStartsWith: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || '';\r\n            actual && (actual = actual.toString()) || (actual = '');\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return actual.indexOf(value) === 0;\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-endsWith': function (model, operands) {\r\n          return this._evaluateEndsWith(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-endsWithNoCase': function (model, operands) {\r\n          return this._evaluateEndsWith(model, operands, true);\r\n        },\r\n\r\n        _evaluateEndsWith: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || '';\r\n            actual && (actual = actual.toString()) || (actual = '');\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return _.str.endsWith(actual, value);\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-matches': function (model, operands) {\r\n          return this._evaluateMatches(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-matchesNoCase': function (model, operands) {\r\n          return this._evaluateMatches(model, operands, true);\r\n        },\r\n\r\n        _evaluateMatches: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || '';\r\n            actual && (actual = actual.toString()) || (actual = '');\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              if (typeof value === 'string') {\r\n                value = new RegExp(value);\r\n              }\r\n              return value.test(actual);\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-includes': function (model, operands) {\r\n          return this._evaluateIncludes(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-includesNoCase': function (model, operands) {\r\n          return this._evaluateIncludes(model, operands, true);\r\n        },\r\n\r\n        _evaluateIncludes: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || [];\r\n            if (!_.isArray(actual)) {\r\n              if (_.isObject(actual)) {\r\n                actual = Object.keys(actual);\r\n              } else {\r\n                actual = [actual];\r\n              }\r\n            }\r\n            if (!_.isArray(values)) {\r\n              values = [values];\r\n            }\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return _.contains(actual, value);\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-has': function (model, operands) {\r\n          _.isArray(operands) || (operands = [operands]);\r\n          return _.any(operands, function (name) {\r\n            return this._getRulingPropertyValue(model, name) != null;\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-decides': function (model, methods) {\r\n          _.isArray(methods) || (methods = [methods]);\r\n          return _.any(methods, function (method) {\r\n            return method(model);\r\n          });\r\n        },\r\n\r\n        _normalizeCase: function (actual, values) {\r\n          if (typeof actual === 'string') {\r\n            actual = actual.toLowerCase();\r\n          }\r\n          values = _.map(values, function (value) {\r\n            return typeof value === 'string' ? value.toLowerCase() : value;\r\n          });\r\n          return {\r\n            actual: actual,\r\n            values: values\r\n          };\r\n        }\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return RulesMatchingMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/actionitem',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin'\r\n], function (_, Backbone, RulesMatchingMixin) {\r\n  'use strict';\r\n\r\n  // {\r\n  //   type:        node type to work at (for compatibility only; use operations)\r\n  //   <operation>: selects the action, if it evaluates to true; operations are\r\n  //                equals, differs, includes, excludes, startsWith, endsWith,\r\n  //                decides, or, and, not\r\n  //   signature:   unique identifier of the command to refer to\r\n  //   name:        optional title if the action appears on a label\r\n  //   sequence:    number controlling the priority of processing\r\n  //                this item during the default action evaluation\r\n  // }\r\n\r\n  var ActionItemModel = Backbone.Model.extend({\r\n\r\n    idAttribute: null,\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      signature: null\r\n    },\r\n\r\n    constructor: function ActionItemModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    },\r\n\r\n    enabled: function (node) {\r\n      // Compatibility with the previous forms with just type property;\r\n      // not with boolean operations working on node properties\r\n      var type = this.get('type');\r\n      if (type !== undefined) {\r\n        return type == node.get('type');\r\n      }\r\n      return this.matchRules(node, this.attributes);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(ActionItemModel.prototype);\r\n\r\n  return ActionItemModel;\r\n\r\n});\r\n\n","csui.define('csui/models/actionitems',['csui/lib/underscore', 'csui/lib/backbone', 'csui/models/actionitem'\r\n], function (_, Backbone, ActionItemModel) {\r\n  'use strict';\r\n\r\n  var ActionItemCollection = Backbone.Collection.extend({\r\n\r\n    model: ActionItemModel,\r\n    comparator: 'sequence',\r\n\r\n    constructor: function ActionItemCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByNode: function (node) {\r\n      return this.find(function (item) {\r\n        return item.enabled(node);\r\n      });\r\n    },\r\n\r\n    getAllSignatures: function () {\r\n      return _.chain(this.pluck('signature'))\r\n          .unique()\r\n          .value();\r\n    },\r\n\r\n    getAllCommandSignatures: function (commands) {\r\n      return _.chain(this.getAllSignatures())\r\n          .map(function (signature) {\r\n            var command = commands.get(signature);\r\n            if (command) {\r\n              signature = command.get('command_key');\r\n              if (_.isArray(signature)) {\r\n                // If there are multiple command keys to check, take just the\r\n                // first one, which is the V2 one needed for the URL query\r\n                var result = signature[0];\r\n                // If the 'default' command key is requested, add the concrete\r\n                // key too; v1 expects 'default' and v2 'open', while the\r\n                // concrete action would be at the third place then.\r\n                if (result === 'default') {\r\n                  result = ['default', 'open', signature[2]];\r\n                }\r\n                return result;\r\n              }\r\n              return signature;\r\n            }\r\n          })\r\n          .flatten()\r\n          .compact()\r\n          .unique()\r\n          .value();\r\n    },\r\n\r\n    getPromotedCommandsSignatures: function () {\r\n      return _.chain(this.getAllSignatures())\r\n          .flatten()\r\n          .compact()\r\n          .unique()\r\n          .value();\r\n    }\r\n\r\n  });\r\n\r\n  return ActionItemCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/addabletype',[\"module\", \"csui/lib/backbone\", \"csui/utils/log\"\r\n], function (module, Backbone, log) {\r\n\r\n  var AddableTypeModel = Backbone.Model.extend({\r\n\r\n    constructor: function AddableTypeModel() {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    parse: function (response) {\r\n      //~ if (log.debug(\"Parsing addableItem \\\"{0}\\\" ({1}, {2}).\",\r\n      //~ response.name, response.id, response.type)) {\r\n      //~ console.log(log.last);\r\n      //~ console.log(response);\r\n      //~ }\r\n\r\n      return response;\r\n    }\r\n\r\n  });\r\n  AddableTypeModel.version = '1.0';\r\n  AddableTypeModel.Hidden = -1;\r\n\r\n  return AddableTypeModel;\r\n\r\n});\r\n\n","csui.define('csui/models/addabletypes',[\"module\", \"csui/lib/backbone\", \"csui/utils/log\", \"csui/models/addabletype\"\r\n], function (module, Backbone, log, AddableTypeModel) {\r\n\r\n  var AddableTypeCollection = Backbone.Collection.extend({\r\n\r\n    model: AddableTypeModel,\r\n\r\n    constructor: function AddableTypeCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.options = options || {};\r\n    }\r\n\r\n  });\r\n  AddableTypeCollection.version = '1.0';\r\n\r\n  return AddableTypeCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/connectable/connectable.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var ConnectableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      var originalPrepareModel = prototype._prepareModel;\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeConnectable: function (options) {\r\n          options && options.connector && options.connector.assignTo(this);\r\n          return this;\r\n        },\r\n\r\n        _prepareModel: function (attrs, options) {\r\n          options || (options = {});\r\n          if (!options.connector) {\r\n            options.connector = this.connector;\r\n          }\r\n          return originalPrepareModel.call(this, attrs, options);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ConnectableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/ancestor',['module', 'csui/lib/backbone',\r\n  'csui/models/mixins/connectable/connectable.mixin'\r\n], function (module, Backbone, ConnectableMixin) {\r\n\r\n  var AncestorModel = Backbone.Model.extend({\r\n\r\n    constructor: function AncestorModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeConnectable(options);\r\n    },\r\n\r\n    idAttribute: null,\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  ConnectableMixin.mixin(AncestorModel.prototype);\r\n\r\n  return AncestorModel;\r\n\r\n});\r\n\n","csui.define('csui/models/ancestors',[\"module\", \"csui/lib/backbone\", \"csui/utils/log\", \"csui/models/ancestor\"\r\n], function (module, Backbone, log, AncestorModel) {\r\n\r\n  var AncestorCollection = Backbone.Collection.extend({\r\n\r\n    model: AncestorModel,\r\n\r\n    constructor: function AncestorCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.options = options || {};\r\n    }\r\n\r\n  });\r\n  AncestorCollection.version = '1.0';\r\n\r\n  return AncestorCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/expandable/expandable.mixin',['csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  \"use strict\";\r\n\r\n  var ExpandableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeExpandable: function (options) {\r\n          var expand = options && options.expand;\r\n          if (typeof expand === 'string') {\r\n            expand = expand.split(',');\r\n          }\r\n          this.expand = expand || [];\r\n          return this;\r\n        },\r\n\r\n        setExpand: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(\",\");\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.expand, name)) {\r\n              this.expand.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetExpand: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(\",\");\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.expand, name);\r\n              if (index >= 0) {\r\n                this.expand.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.expand.splice(0, this.expand.length);\r\n          }\r\n        },\r\n\r\n        getExpandableResourcesUrlQuery: function () {\r\n          return {expand: this.expand};\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ExpandableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/fetchable/fetchable.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/base'\r\n], function (_, $, Backbone, base) {\r\n  'use strict';\r\n\r\n  var FetchableMixin = {\r\n    mixin: function (prototype) {\r\n      var originalFetch = prototype.fetch;\r\n\r\n      return _.extend(prototype, {\r\n        makeFetchable: function (options) {\r\n          this.autoreset = options && options.autoreset;\r\n          // Workaround for change/add/reset events, which are fired before\r\n          // the caller is informed by sync that fetch successed.\r\n          return this.on('reset', this._beforeFetchSucceeded, this)\r\n              .on('add', this._beforeFetchSucceeded, this)\r\n              .on('remove', this._beforeFetchSucceeded, this)\r\n              .on('change', this._beforeFetchSucceeded, this);\r\n        },\r\n\r\n        _beforeFetchSucceeded: function () {\r\n          this._fetchingOriginal && this._fetchSucceeded();\r\n        },\r\n\r\n        _fetchSucceeded: function () {\r\n          this._fetchingOriginal = this.fetching = false;\r\n          this.fetched = true;\r\n          this.error = undefined;\r\n        },\r\n\r\n        _fetchFailed: function (jqxhr) {\r\n          this._fetchingOriginal = this.fetching = false;\r\n          this.error = new base.Error(jqxhr);\r\n        },\r\n\r\n        fetch: function (options) {\r\n          var fetching = this.fetching;\r\n          if (!fetching) {\r\n            options = _.defaults(options || {}, {\r\n              cache: true,\r\n              urlBase: this.urlCacheBase? this.urlCacheBase(): undefined\r\n            });\r\n\r\n            this.fetched = false;\r\n            this.error = null;\r\n            options = this._prepareFetch(options);\r\n            // Ensure that the model is marked fetched before other events are\r\n            // triggered.  If fetching is not silent, change/add/reset will be\r\n            // triggered earlier: change/add/reset, options.*, sync, promise.\r\n            var self = this,\r\n                success = options.success,\r\n                error = options.error;\r\n            options.success = function () {\r\n              self._fetchSucceeded();\r\n              success && success.apply(this, arguments);\r\n            };\r\n            options.error = function (model, jqxhr, options) {\r\n              self._fetchFailed(jqxhr);\r\n              error && error.apply(this, arguments);\r\n            };\r\n            this._fetchingOriginal = true;\r\n            fetching = originalFetch.call(this, options);\r\n            // If the fetch or sync method are implemented synchronously,\r\n            // model or collection changing events are fired earlier than\r\n            // the original fetch call returns the promise\r\n            if (this._fetchingOriginal) {\r\n              this.fetching = fetching;\r\n            }\r\n          }\r\n          return fetching;\r\n        },\r\n\r\n        _prepareFetch: function (options) {\r\n          // Trigger just one item adding operation after fetching if wanted.\r\n          options || (options = {});\r\n          options.reset === undefined && this.autoreset && (options.reset = true);\r\n          return options;\r\n        },\r\n\r\n        ensureFetched: function (options) {\r\n          if (this.fetched) {\r\n            if (options && options.success) {\r\n              options.success(this);\r\n            }\r\n            return $.Deferred()\r\n                .resolve(this, {}, options)\r\n                .promise();\r\n          }\r\n          return this.fetch(options);\r\n        },\r\n\r\n        prefetch: function (response, options) {\r\n          var deferred = $.Deferred().resolve();\r\n          options = _.extend({parse: true}, options);\r\n          options = this._prepareFetch(options);\r\n          this.error = null;\r\n          this.fetched = false;\r\n          this.fetching = deferred.promise();\r\n          this.trigger('request', this, response, options);\r\n          setTimeout(function () {\r\n            this._fetchSucceeded();\r\n            if (this instanceof Backbone.Model) {\r\n              var attributes = options.parse ? this.parse(response, options) :\r\n                                               response;\r\n              this.set(attributes, options);\r\n            } else {\r\n              var method = options.reset ? 'reset' : 'set';\r\n              this[method](response, options);\r\n            }\r\n            if (options.success) {\r\n              options.success.call(options.context, this, response, options);\r\n            }\r\n            this.trigger('sync', this, response, options);\r\n            deferred.resolve();\r\n          }.bind(this));\r\n          return this.fetching;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return FetchableMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/autofetchable/autofetchable.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var AutoFetchableMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeAutoFetchable: function (options) {\r\n          var autofetchEvent = options && options.autofetchEvent;\r\n          if (autofetchEvent) {\r\n            this._autofetchEvent = options.autofetchEvent;\r\n          }\r\n          var autofetch = options && options.autofetch;\r\n          if (autofetch) {\r\n            this.automateFetch(autofetch);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        automateFetch: function (enable) {\r\n          var event = _.result(this, '_autofetchEvent'),\r\n              method = enable ? 'on' : 'off';\r\n          this.autofetch = !!enable;\r\n          this[method](event, _.bind(this._fetchAutomatically, this, enable));\r\n        },\r\n\r\n        isFetchable: function () {\r\n          return !!this.get('id');\r\n        },\r\n\r\n        _autofetchEvent: 'change:id',\r\n\r\n        _fetchAutomatically: function (options) {\r\n          this.isFetchable() && this.fetch(_.isObject(options) && options);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return AutoFetchableMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/resource/resource.mixin',['csui/lib/underscore', 'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/autofetchable/autofetchable.mixin'\r\n], function (_, ConnectableMixin, FetchableMixin, AutoFetchableMixin) {\r\n  'use strict';\r\n\r\n  var ResourceMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      ConnectableMixin.mixin(prototype);\r\n      FetchableMixin.mixin(prototype);\r\n      AutoFetchableMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeResource: function (options) {\r\n          return this.makeConnectable(options)\r\n              .makeFetchable(options)\r\n              .makeAutoFetchable(options);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ResourceMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/including.additional.resources/including.additional.resources.mixin',['csui/lib/underscore', 'csui/lib/jquery'\r\n], function (_, $) {\r\n\r\n  var IncludingAdditionalResourcesMixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeIncludingAdditionalResources: function (options) {\r\n          this._additionalResources = [];\r\n          if (options && options.includeResources) {\r\n            this.includeResources(options.includeResources);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        includeResources: function (names) {\r\n          if (!_.isArray(names)) {\r\n            names = names.split(',');\r\n          }\r\n          this._additionalResources = _.union(this._additionalResources, names);\r\n        },\r\n\r\n        excludeResources: function (names) {\r\n          if (names) {\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            this._additionalResources = _.reject(this._additionalResources, names);\r\n          } else {\r\n            this._additionalResources.splice(0, this._additionalResources.length);\r\n          }\r\n        },\r\n\r\n        getAdditionalResourcesUrlQuery: function () {\r\n          return _.reduce(this._additionalResources, function (result, parameter) {\r\n            result[parameter] = 'true';\r\n            return result;\r\n          }, {});\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n\r\n  };\r\n\r\n  return IncludingAdditionalResourcesMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/authenticated.user/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var apiBase = new Url(this.connector.connection.url).getApiBase('v1'),\r\n              url = Url.combine(apiBase, '/auth'),\r\n              query = Url.combineQueryString(\r\n                this.getExpandableResourcesUrlQuery(),\r\n                this.getAdditionalResourcesUrlQuery()\r\n              );\r\n          return query ? url + '?' + query : url;\r\n        },\r\n    \r\n        parse: function (response) {\r\n          var user = response.data || {};\r\n          user.perspective = response.perspective;\r\n          return user;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/authenticated.user',[\r\n  'csui/lib/backbone', 'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/including.additional.resources/including.additional.resources.mixin',\r\n  'csui/models/authenticated.user/server.adaptor.mixin'\r\n], function (Backbone, ExpandableMixin, ResourceMixin,\r\n    IncludingAdditionalResourcesMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var AuthenticatedUserModel = Backbone.Model.extend({\r\n    constructor: function AuthenticatedUserModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options)\r\n          .makeIncludingAdditionalResources(options)\r\n          .makeExpandable(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    }\r\n  });\r\n\r\n  IncludingAdditionalResourcesMixin.mixin(AuthenticatedUserModel.prototype);\r\n  ExpandableMixin.mixin(AuthenticatedUserModel.prototype);\r\n  ResourceMixin.mixin(AuthenticatedUserModel.prototype);\r\n  ServerAdaptorMixin.mixin(AuthenticatedUserModel.prototype);\r\n\r\n  return AuthenticatedUserModel;\r\n});\r\n\n","csui.define('csui/models/mixins/uploadable/uploadable.mixin',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/utils/log'\r\n], function (module, _, $, Backbone, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var config = _.extend({\r\n    useJson: false,\r\n    useMock: false,\r\n    usePatch: false,\r\n    metadataPartName: 'body'\r\n  }, module.config());\r\n\r\n  var UploadableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      var originalSync = prototype.sync;\r\n\r\n      // Mixins are applied after the prototype has been defined. This\r\n      // method is supposed to be overridden in the original prototype.\r\n      if (!prototype.prepare) {\r\n        prototype.prepare = function (data, options) {\r\n          return data;\r\n        };\r\n      }\r\n\r\n      // Let model's prototype prepare formData to post otherwise, have a default impl.\r\n      if (!prototype.prepareFormData) {\r\n        prototype.prepareFormData = function (data, options) {\r\n          return {body: JSON.stringify(data)};\r\n        };\r\n      }\r\n\r\n      return _.extend(prototype, {\r\n        makeUploadable: function (options) {\r\n          return this;\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          var useJson          = UploadableMixin.useJSON,\r\n              useMock          = UploadableMixin.mock,\r\n              usePatch         = UploadableMixin.usePatch,\r\n              metadataPartName = UploadableMixin.metadataPartName,\r\n              data             = options.data || options.attrs || this.attributes;\r\n\r\n          // Allow data \"massage\", before sending them to the server.\r\n          if (options.prepare !== false) {\r\n            data = this.prepare(data, options);\r\n          }\r\n\r\n          // Make sure, that POST and PUT urls do not contain the URL query\r\n          // part.  It is not possible to ensure it inside the url function.\r\n          function currectUpdatingUrl() {\r\n            var url = options.url || _.result(model, 'url');\r\n            return url.replace(/\\?.*$/, '');\r\n          }\r\n\r\n          if (method === 'create') {\r\n            log.debug('Creating {0} ({1}).',\r\n                log.getObjectName(this), this.cid) && console.log(log.last);\r\n            if (useMock) {\r\n              // append file, if there is\r\n              _.each(_.keys(options.files || {}), function (key) {\r\n                var files = options.files[key], i;\r\n                if (_.isArray(files) && files.length > 1) {\r\n                  // TODO: Adapt this according to the server support;\r\n                  // currently the server can consume only one file\r\n                  for (i = 0; i < files.length; ++i) {\r\n                    var name = i ? key + i : key;\r\n                    data[name] = files[i];\r\n                  }\r\n                } else if (files) {\r\n                  data[key] = files;\r\n                }\r\n              });\r\n\r\n              _.extend(options, {\r\n                data: data,\r\n                contentType: 'application/json',\r\n                url: currectUpdatingUrl()\r\n              });\r\n            } else if (!_.isEmpty(options.files)) {\r\n              var formData = new FormData();\r\n              data = JSON.stringify(data);\r\n              if (useJson) {\r\n                formData.append(metadataPartName,\r\n                    new Blob([data], {type: 'application/json'}));\r\n              } else {\r\n                formData.append(metadataPartName, data);\r\n              }\r\n\r\n              // append file, if there is\r\n              _.each(_.keys(options.files || {}), function (key) {\r\n                var files = options.files[key], i;\r\n                if (_.isArray(files) && files.length > 1) {\r\n                  // TODO: Adapt this according to the server support;\r\n                  // currently the server can consume only one file\r\n                  for (i = 0; i < files.length; ++i) {\r\n                    var name = i ? key + i : key;\r\n                    formData.append(name, files[i]);\r\n                  }\r\n                } else if (files) {\r\n                  formData.append(key, files, files.name);\r\n                }\r\n              });\r\n\r\n              _.extend(options, {\r\n                data: formData,\r\n                contentType: false,\r\n                url: currectUpdatingUrl()\r\n              });\r\n            } else {\r\n              if (useJson) {\r\n                _.extend(options, {\r\n                  data: JSON.stringify(data),\r\n                  contentType: 'application/json',\r\n                  url: currectUpdatingUrl()\r\n                });\r\n              } else {\r\n                data = this.prepareFormData(data);\r\n                _.extend(options, {\r\n                  data: $.param(data),\r\n                  contentType: 'application/x-www-form-urlencoded',\r\n                  url: currectUpdatingUrl()\r\n                });\r\n              }\r\n            }\r\n          } else if (method === 'update' || method === 'patch') {\r\n            log.debug('Updating {0} ({1}).',\r\n                log.getObjectName(this), this.cid) && console.log(log.last);\r\n            if (!usePatch) {\r\n              method = 'update';\r\n            }\r\n            if (useMock) {\r\n              _.extend(options, {\r\n                data: data,\r\n                contentType: 'application/json',\r\n                url: currectUpdatingUrl()\r\n              });\r\n            } else if (useJson) {\r\n              _.extend(options, {\r\n                data: JSON.stringify(data),\r\n                contentType: 'application/json',\r\n                url: currectUpdatingUrl()\r\n              });\r\n            } else {\r\n              data = this.prepareFormData(data);\r\n              _.extend(options, {\r\n                data: $.param(data),\r\n                contentType: 'application/x-www-form-urlencoded',\r\n                url: currectUpdatingUrl()\r\n              });\r\n            }\r\n          }\r\n          return originalSync.call(this, method, model, options);\r\n        }\r\n      });\r\n    },\r\n\r\n    // Set to true to enable tests of PUT and PATCH; once the server\r\n    // accepts application/json content type, change the default to true\r\n    useJSON: config.useJson,\r\n\r\n    // Set to true to enable unit tests of POST, PUT and PATCH; files\r\n    // have to be looked up in the jqxhr settings object\r\n    mock: config.useMock,\r\n\r\n    // Set to true to enable usage of the PATCH verb, if the server\r\n    // supports it\r\n    usePatch: config.usePatch,\r\n\r\n    // Set to true to enable usage of the PATCH verb, if the server\r\n    // supports it\r\n    metadataPartName: config.metadataPartName\r\n  };\r\n\r\n  return UploadableMixin;\r\n});\r\n\n","csui.define('csui/models/member/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        urlRoot: function () {\r\n          var apiBase = new Url(this.connector.connection.url).getApiBase('v1');\r\n          return Url.combine(apiBase, '/members');\r\n        },\r\n\r\n        url: function () {\r\n          var query = Url.combineQueryString(this.getExpandableResourcesUrlQuery()),\r\n              id = this.get('id'),\r\n              url;\r\n          if (id) {\r\n            url = Url.combine(this.urlRoot(), id);\r\n          } else {\r\n            var apiBase = new Url(this.connector.connection.url).getApiBase('v1');\r\n            url = Url.combine(apiBase, '/auth');\r\n          }\r\n          return query ? url + '?' + query : url;\r\n        },\r\n\r\n        parse: function (response) {\r\n          return response.user || response.data || response;\r\n        }\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/member',['csui/lib/backbone',\r\n'csui/models/mixins/expandable/expandable.mixin',\r\n'csui/models/mixins/resource/resource.mixin',\r\n'csui/models/mixins/uploadable/uploadable.mixin',\r\n'csui/models/mixins/including.additional.resources/including.additional.resources.mixin',\r\n'csui/models/member/server.adaptor.mixin'\r\n], function (Backbone, ExpandableMixin, ResourceMixin,\r\n  UploadableMixin, IncludingAdditionalResourcesMixin, ServerAdaptorMixin) {\r\n    'use strict';\r\n\r\n  var MemberModel = Backbone.Model.extend({\r\n    constructor: function MemberModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options)\r\n          .makeIncludingAdditionalResources(options)\r\n          .makeUploadable(options)\r\n          .makeExpandable(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    }\r\n  });\r\n\r\n  IncludingAdditionalResourcesMixin.mixin(MemberModel.prototype);\r\n  ExpandableMixin.mixin(MemberModel.prototype);\r\n  UploadableMixin.mixin(MemberModel.prototype);\r\n  ResourceMixin.mixin(MemberModel.prototype);\r\n  ServerAdaptorMixin.mixin(MemberModel.prototype);\r\n\r\n  return MemberModel;\r\n});\r\n\n","csui.define('csui/models/authentication',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/member', 'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin', 'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/including.additional.resources/including.additional.resources.mixin'\r\n], function (_, Backbone, Url, MemberModel, ConnectableMixin, FetchableMixin,\r\n    ExpandableMixin, IncludingAdditionalResourcesMixin) {\r\n  'use strict';\r\n\r\n  var AuthenticationModel = Backbone.Model.extend({\r\n\r\n    constructor: function AuthenticationModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeConnectable(options)\r\n          .makeIncludingAdditionalResources(options)\r\n          .makeFetchable(options)\r\n          .makeExpandable(options);\r\n\r\n      this.user = new MemberModel(this.get(\"user\"), options);\r\n    },\r\n\r\n    idAttribute: null,\r\n\r\n    url: function () {\r\n      var url = Url.combine(this.connector.connection.url, \"auth\"),\r\n          query = Url.combineQueryString(\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getAdditionalResourcesUrlQuery()\r\n          );\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function (response) {\r\n      // Normalize the response to have always an user there.\r\n      var user = response.user || (response.user = response.data);\r\n\r\n      // Properties out of data are not passed to the constructor.  This\r\n      // may yet get its own sub-model.\r\n      _.defaults(user, {\r\n        perspective: response.perspective\r\n      });\r\n\r\n      // Parse can be called from the parent constructor, before the\r\n      // of this functional object has finished.  In that case, the\r\n      // raw data will be returned in the parsed object; otherwise\r\n      // they will be set to the existing nested collections.\r\n      if (this.user) {\r\n        this.user.set(user);\r\n      }\r\n\r\n      return response;\r\n    }\r\n\r\n  });\r\n\r\n  IncludingAdditionalResourcesMixin.mixin(AuthenticationModel.prototype);\r\n  ExpandableMixin.mixin(AuthenticationModel.prototype);\r\n  ConnectableMixin.mixin(AuthenticationModel.prototype);\r\n  FetchableMixin.mixin(AuthenticationModel.prototype);\r\n\r\n  return AuthenticationModel;\r\n\r\n});\r\n\n","csui.define('csui/models/browsing.state/browsing.state',['csui/lib/underscore', 'csui/lib/backbone'\r\n], function (_, Backbone) {\r\n  'use strict';\r\n\r\n  //\r\n  // Base Model containing browsing state data for the URL. Subclass this one.\r\n  // Structure:\r\n  // - model.attributes.id <string> : browsing state id. E.g. 'browse', 'metadata', 'version', etc.\r\n  // - model.attributes.path <object> : browsing state URL path.\r\n  // - model.attributes.query <object> : browsing state URL query.\r\n  //\r\n  var BrowsingStateModel = Backbone.Model.extend({\r\n\r\n    idAttribute: null,\r\n\r\n    constructor: function BrowsingStateModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    // this method can be overriden in derived class\r\n    setData: function (attributes, options) {\r\n      this.set(attributes, options);\r\n    },\r\n\r\n    // to be overriden by subclass\r\n    getBaseUrlPath: function () {\r\n      // base implementation, do not change this method\r\n      return '';\r\n    }\r\n\r\n  });\r\n\r\n\r\n  return BrowsingStateModel;\r\n\r\n});\r\n\n","csui.define('csui/models/browsing.state/nodes/nodes.browsing.state',['csui/lib/underscore', 'csui/models/browsing.state/browsing.state'\r\n], function (_, BrowsingStateModel) {\r\n  'use strict';\r\n\r\n  //\r\n  // Model containing browsing state data for CSUI Node.\r\n  // Browsing state id: 'browse' or property state 'metadata'/'version'\r\n  //\r\n  var NodeBrowsingStateModel = BrowsingStateModel.extend({\r\n\r\n    metadataParams: ['perspective', 'panel', 'container_id'],\r\n\r\n    constructor: function NodeBrowsingStateModel(attributes, options) {\r\n      var attrs = _.clone(attributes);\r\n      var state = 'browse';\r\n      if (_.has(attributes.query, 'perspective')) {\r\n        state = (attrs.path && attrs.path.version_num !== undefined) ? 'version' : 'metadata';\r\n      }\r\n      attrs.query = this._trimQuery(attributes.query);\r\n\r\n      BrowsingStateModel.prototype.constructor.call(this, attrs, options);\r\n      this.set('id', state, {silent: true});\r\n    },\r\n\r\n    // override base method\r\n    setData: function (attributes, options) {\r\n      var query = this._trimQuery(attributes.query);\r\n      this.set({path: attributes.path, query: query}, options);\r\n    },\r\n\r\n    // override base method\r\n    getBaseUrlPath: function () {\r\n      var pathStr = '';\r\n      if (this.attributes.path) {\r\n        if (this.attributes.path.node_id !== undefined) {\r\n          pathStr += 'nodes/' + this.attributes.path.node_id;\r\n          if (this.attributes.path.version_num !== undefined) {\r\n            pathStr += '/versions/' + this.attributes.path.version_num;\r\n          }\r\n        }\r\n      }\r\n      return pathStr;\r\n    },\r\n\r\n    // utility method: trim query to omit metadata parameters\r\n    _trimQuery: function (query) {\r\n      var qr = query;\r\n      if (_.has(query, 'perspective') !== true) {\r\n        qr = _.omit(query, this.metadataParams);\r\n      }\r\n      return qr;\r\n    }\r\n\r\n  });\r\n\r\n  return NodeBrowsingStateModel;\r\n\r\n});\r\n\n","csui.define('csui/models/browsing.state/browsing.states',['csui/lib/underscore', 'csui/lib/backbone', 'csui/models/browsing.state/browsing.state',\r\n  'csui/models/browsing.state/nodes/nodes.browsing.state'\r\n], function (_, Backbone, BrowsingStateModel, NodeBrowsingStateModel) {\r\n  'use strict';\r\n\r\n  //\r\n  // A stack represents the collection of browsing states for the URL.\r\n  // Use 'push' and 'pop' method to add and remove a browsing state.\r\n  //\r\n  var BrowsingStateCollection = Backbone.Collection.extend({\r\n\r\n    model: BrowsingStateModel,\r\n\r\n    constructor: function BrowsingStateCollection(models, options) {\r\n      this.options = options || {};\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    resetAll: function (options) {\r\n      this.updateBrowserTitleAfterPageLoaded = false;\r\n      this.triggerStateChangeOnStateRemoval = false;\r\n      this.allowUrlUpdate = false;\r\n      this.reset(null, options);\r\n    },\r\n\r\n    clearMetadataParamsInUrlQuery: function (query) {\r\n      var queryStr = query;\r\n      if (this.allowUrlUpdate && this._routeWithSlashes()) {\r\n        if (queryStr && queryStr.length > 0) {\r\n          var metaParams = ['perspective', 'panel', 'container_id'];\r\n          queryStr.charAt(0) === '?' && (queryStr = queryStr.substring(1));\r\n          var queryObj = _.omit(this._convertQuerystringToObject(queryStr), metaParams);\r\n          queryStr = this._convertQueryObjectToQueryString(queryObj);\r\n        }\r\n      }\r\n      return queryStr;\r\n    },\r\n\r\n    // add appropriate browsing state(s) based on input parameters:\r\n    // - path: <object>; e.g. {node_id: id [, version_num: num]}\r\n    // - query: <string> the URL querystring after question mark (?)\r\n    setBrowsingStates: function (path, query) {\r\n      if (path && path.node_id !== undefined) {\r\n        this._setNodeBrowsingStates(path, query);\r\n      } else {  // add new browsing state type when needed\r\n        throw new Error(\"Not yet supported browsing state. Please add a new type.\");\r\n      }\r\n    },\r\n\r\n    _setNodeBrowsingStates: function (path, query) {\r\n      var currentBrowsingState;\r\n      var addNewState = true;\r\n      if (this.length > 0) {\r\n        var nodeStateIds = ['browse', 'metadata', 'version'];\r\n        currentBrowsingState = this.at(this.length - 1);\r\n        if (_.indexOf(nodeStateIds, currentBrowsingState.get('id')) !== -1) {\r\n          addNewState = false;\r\n        }\r\n      }\r\n\r\n      // with nextNode change:id event, there is no query sent. Check location.\r\n      var queryStr = query;\r\n      if (queryStr === undefined && this._routeWithSlashes()) {\r\n        var locationQuery = location.search;  // location.hash will be added on later\r\n        if (locationQuery.length > 0) {\r\n          var prevAllowUrlUpdate = this.allowUrlUpdate;\r\n          this.allowUrlUpdate = true;  // temporary\r\n          queryStr = this.clearMetadataParamsInUrlQuery(locationQuery);\r\n          queryStr.charAt(0) === '?' && (queryStr = queryStr.substring(1));\r\n          this.allowUrlUpdate = prevAllowUrlUpdate;  // reset back to previous value\r\n        }\r\n      }\r\n\r\n      var queryObj = this._convertQuerystringToObject(queryStr);\r\n      var attributes = {path: path, query: queryObj};\r\n      if (addNewState) {\r\n        // metadata perspective: add a 'metadata' node browsing state\r\n        if (queryObj.perspective === 'metadata' || queryObj.perspective === 'metadata.navigation') {\r\n          this.push(new NodeBrowsingStateModel(attributes), {silent: true});\r\n          // Only allow URL update when the Route includes metadata perspective override\r\n          // because the user can navigate to another object while in perspective override mode\r\n          this.allowUrlUpdate = true;\r\n          // flag to update browser's title after the page is rendered and node info is loaded\r\n          this.updateBrowserTitleAfterPageLoaded = true;\r\n        } else {\r\n          // normal default 'node' browsing state\r\n          this.push(new NodeBrowsingStateModel(attributes), {silent: true});\r\n        }\r\n      } else {\r\n        currentBrowsingState.setData(attributes, {silent: true});\r\n      }\r\n    },\r\n\r\n    getUrlPathWithQuery: function () {\r\n      // This method accumulatively includes query params of ALL browsing states.\r\n      // It is useful in scenarios such as the previous browsing state is 'browse' that its query\r\n      // params should be included so that the next browsing state like 'metadata' can have enough\r\n      // parameters to build navigational list and go back to the exact browse table state later.\r\n      var urlPath = '';\r\n      if (this.length > 0) {\r\n        var currentBrowsingState = this.at(this.length - 1);\r\n        if (currentBrowsingState) {\r\n          urlPath = currentBrowsingState.getBaseUrlPath();\r\n          urlPath += this._getCurrentStateAccumulatedQueryParamsString();\r\n        }\r\n      }\r\n\r\n      if (this._routeWithSlashes()) {\r\n        return urlPath + location.hash;\r\n      } else {\r\n        return urlPath;\r\n      }\r\n    },\r\n\r\n    _getCurrentStateAccumulatedQueryParamsString: function () {\r\n      var i, queryObj = {};\r\n      for (i = this.length - 1; i >= 0; i--) {\r\n        queryObj = _.defaults(queryObj, this.at(i).get('query') || {});\r\n      }\r\n      return this._convertQueryObjectToQueryString(queryObj);\r\n    },\r\n\r\n    // utility method: convert query object to query string\r\n    _convertQueryObjectToQueryString: function (query) {\r\n      var queryStr = '';\r\n      if (query) {\r\n        _.each(query, function (value, key) {\r\n          queryStr += queryStr.length === 0 ? '?' : '&';\r\n          queryStr += key + '=' + value;\r\n        });\r\n      }\r\n      return queryStr;\r\n    },\r\n\r\n    // utility method: convert query string to query object\r\n    _convertQuerystringToObject: function (queryStr) {\r\n      var params = {};\r\n      if (queryStr && _.isString(queryStr)) {\r\n        var match,\r\n            pl = /\\+/g,  // Regex for replacing addition symbol with a space\r\n            search = /([^&=]+)=?([^&]*)/g,\r\n            decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); };\r\n        while ((match = search.exec(queryStr)) !== null) {\r\n          params[decode(match[1])] = decode(match[2]);\r\n        }\r\n      }\r\n      return params;\r\n    },\r\n\r\n    _routeWithSlashes: function () {\r\n      return /\\/app(?:\\/.*)?$/.test(location.pathname);\r\n    }\r\n\r\n  });\r\n\r\n  return BrowsingStateCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/clientsidecollection',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/base'\r\n], function (_, Backbone, base) {\r\n  'use strict';\r\n\r\n  function ClientSideCollection() {\r\n    var prototype = {\r\n\r\n      clone: function () {\r\n        // Provide the options; they may include connector and other parameters\r\n        var clone = new this.constructor(this.models, this.options);\r\n        // Clone sub-models not covered by Backbone\r\n        if (this.columns) {\r\n          clone.columns.reset(this.columns.toJSON());\r\n        }\r\n        // Clone properties about the full (not-yet fetched) collection\r\n        clone.actualSkipCount = this.actualSkipCount;\r\n        clone.totalCount = this.totalCount;\r\n        clone.filteredCount = this.filteredCount;\r\n        return clone;\r\n      },\r\n\r\n      _cacheCollection: function () {\r\n        if (this.selfReset !== true) {\r\n          this.selfReset = false;\r\n          this.cachedCollection = this.clone();\r\n        }\r\n      },\r\n\r\n      parse: function (response) {\r\n        this.actualSkipCount = 0;\r\n        this.totalCount = response.results.length;\r\n        this.filteredCount = this.totalCount;\r\n\r\n        this._limitResponse(response.results);\r\n\r\n        this.columns && this.columns.resetColumnsV2(response, this.options);\r\n        return response.results;\r\n      },\r\n\r\n      _limitResponse: function (elements) {\r\n        if (elements && this.skipCount) {\r\n          if (elements.length > this.skipCount) {\r\n            elements.splice(0, this.skipCount);\r\n          } else {\r\n            this.actualSkipCount = 0;\r\n          }\r\n        }\r\n        if (elements && this.topCount) {\r\n          if (elements.length > this.topCount) {\r\n            elements.splice(this.topCount);\r\n          }\r\n        }\r\n      },\r\n\r\n      _resetCollection: function () {\r\n        if (!this.cachedCollection) {\r\n          this._cacheCollection();\r\n        }\r\n        this.workingModels = _.clone(this.cachedCollection.models);\r\n        this.totalCount = this.workingModels.length;\r\n        this.filteredCount = this.workingModels.length;\r\n      },\r\n\r\n      _runAllOperations: function (reset) {\r\n        this._resetCollection();\r\n        this._sortCollection();\r\n        this._filterCollection();\r\n        this._limitCollection();\r\n        this._triggerCollectionResetEvent(reset);\r\n      },\r\n\r\n      _triggerCollectionResetEvent: function (reset) {\r\n        this.models = _.clone(this.workingModels);\r\n        this.length = this.models.length;\r\n        if (reset) {\r\n          this.selfReset = true;\r\n          this.trigger(\"reset\", this);\r\n        }\r\n      },\r\n\r\n      // client-side paging\r\n      setLimit: function (skip, top, fetch) {\r\n        if (this.skipCount != skip || this.topCount != top) {\r\n          this.skipCount = skip;\r\n          this.actualSkipCount = skip;\r\n          this.topCount = top;\r\n\r\n          this._runAllOperations(true);\r\n\r\n          return true;\r\n        }\r\n      },\r\n\r\n      _limitCollection: function () {\r\n        this._limitResponse(this.workingModels);\r\n      },\r\n\r\n      resetLimit: function (fetch) {\r\n        if (this.skipCount) {\r\n          this.skipCount = 0;\r\n          this.topCount = 0;\r\n          this.actualSkipCount = 0;\r\n\r\n          this._resetCollection();\r\n          this._triggerCollectionResetEvent(true);\r\n\r\n          return true;\r\n        }\r\n      },\r\n\r\n      // client-side filtering\r\n      setFilter: function (filterObj) {\r\n        this.filterObj || (this.filterObj = {});\r\n        if (_.isEmpty(filterObj)) {\r\n          this.filterObj = {};\r\n        } else {\r\n          _.extend(this.filterObj, filterObj);\r\n        }\r\n        this._runAllOperations(true);\r\n        return true;\r\n      },\r\n\r\n      clearFilter: function (fetch) {\r\n        if (this.filterObj) {\r\n          this.filterObj = undefined;\r\n          this._resetCollection();\r\n          this._triggerCollectionResetEvent(true);\r\n          return true;\r\n        }\r\n      },\r\n\r\n      _filterCollection: function () {\r\n        for (var name in this.filterObj) {\r\n          if (_.has(this.filterObj, name)) {\r\n            var values = this.filterObj[name];\r\n            if (values != null && values !== '') {\r\n              _.isArray(values) || (values = [values]);\r\n              this.workingModels = _.filter(this.workingModels, function (node) {\r\n                var hay = parseValue(name, node.get(name));\r\n                return _.any(values, function (value) {\r\n                  var needle = parseValue(name, value);\r\n                  if (name === 'type' && needle == -1) {\r\n                    return node.get('container');\r\n                  }\r\n                  return containsValue(hay, needle);\r\n                });\r\n              });\r\n            }\r\n          }\r\n        }\r\n        this.totalCount = this.workingModels.length;\r\n        this.filteredCount = this.workingModels.length;\r\n      },\r\n\r\n      // client-side sorting\r\n      setOrder: function (attributes, fetch) {\r\n        if (this.orderBy != attributes) {\r\n          this.orderBy = attributes;\r\n          this._runAllOperations();\r\n          return true;\r\n        }\r\n      },\r\n\r\n      resetOrder: function (fetch) {\r\n        if (this.orderBy) {\r\n          this.orderBy = undefined;\r\n          this._resetCollection();\r\n          this._triggerCollectionResetEvent();\r\n          return true;\r\n        }\r\n      },\r\n\r\n      _sortCollection: function () {\r\n        if (this.orderBy) {\r\n          var criteria = _.map(this.orderBy.split(','), function (criterium) {\r\n            var parts = criterium.trim().split(' ');\r\n            return {\r\n              property: parts[0],\r\n              descending: parts[1] === 'desc'\r\n            };\r\n          });\r\n\r\n          this.workingModels.sort(function (left, right) {\r\n            var result = 0;\r\n            _.find(criteria, function (criterium) {\r\n              left = parseValue(criterium.property, left.get(criterium.property));\r\n              right = parseValue(criterium.property, right.get(criterium.property));\r\n\r\n              result = compareValues(left, right);\r\n              if (result) {\r\n                if (criterium.descending) {\r\n                  result *= -1;\r\n                }\r\n                return true;\r\n              }\r\n            });\r\n            return result;\r\n          });\r\n        }\r\n      }\r\n\r\n    };\r\n    prototype.ClientSideCollection = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  // TODO: ClientSideBrowsableMixin should be used\r\n  // and ClientSideCollection module disused\r\n\r\n  function compareValues(left, right) {\r\n    if (typeof left === 'string' && typeof right === 'string') {\r\n      // FIXME: Implement the locale-specific comparison only for localizable strings;\r\n      // not for values with internal system constants, which can be case-sensitive\r\n      return base.localeCompareString(left, right, {usage:'sort'});\r\n    }\r\n    if (left != right) {\r\n      if (left > right || right === void 0) {\r\n        return 1;\r\n      }\r\n      if (left < right || left === void 0) {\r\n        return -1;\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function containsValue(hay, needle) {\r\n    if (typeof hay === 'string' && typeof needle === 'string') {\r\n      // FIXME: Implement the locale-specific comparison only for localizable strings;\r\n      // not for values with internal system constants, which can be case-sensitive\r\n      return base.localeContainsString(hay, needle.toString());\r\n    }\r\n    return hay == needle;\r\n  }\r\n\r\n  // FIXME: Use metadata to get the correct value type for parsing\r\n  function parseValue(property, value) {\r\n    if (value != null) {\r\n      if (property === 'type') {\r\n        return +value;\r\n      }\r\n      if (property.indexOf('date') >= 0) {\r\n        return new Date(value);\r\n      }\r\n    }\r\n    return value;\r\n  }\r\n\r\n  return ClientSideCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/column',[\"module\", \"csui/lib/underscore\", \"csui/lib/backbone\", \"csui/utils/url\",\r\n  \"csui/utils/log\"\r\n], function (module, _, Backbone, Url, log) {\r\n\r\n  var ColumnModel = Backbone.Model.extend({\r\n\r\n    constructor: function ColumnModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    idAttribute: null,\r\n\r\n    parse: function (response) {\r\n      //~ if (log.debug(\"Parsing column \\\"{0}\\\" ({1}, {2}).\",\r\n      //~ response.name, response.column_key, response.id)) {\r\n      //~ console.log(log.last);\r\n      //~ console.log(response);\r\n      //~ }\r\n\r\n      // TODO: support these attributes on the server too.\r\n      switch (response.column_key) {\r\n      case \"name\":\r\n        response = _.extend(response, {\r\n          default_action: true,\r\n          contextual_menu: false,\r\n          editable: true,\r\n          filter_key: \"name\"\r\n        });\r\n        break;\r\n      case \"type\":\r\n        response = _.extend(response, {\r\n          default_action: true\r\n        });\r\n        break;\r\n      }\r\n\r\n      return response;\r\n    }\r\n\r\n  });\r\n  ColumnModel.version = '1.0';\r\n\r\n  return ColumnModel;\r\n\r\n});\r\n\n","csui.define('csui/models/columns',[\"module\", \"csui/lib/backbone\",\r\n  \"csui/utils/log\", \"csui/models/column\"\r\n], function (module, Backbone, log, ColumnModel) {\r\n\r\n  var ColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: ColumnModel,\r\n\r\n    constructor: function ColumnCollection() {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n  ColumnCollection.version = '1.0';\r\n\r\n  return ColumnCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/datadefinition',[ \"module\", \"csui/lib/backbone\", \"csui/utils/log\"\r\n],  function ( module, Backbone, log )\r\n  {\r\n    \"use strict\";\r\n\r\n    //\r\n    // Data-Definition Model.\r\n    //\r\n    var DataDefinitionModel = Backbone.Model.extend({\r\n\r\n      constructor: function DataDefinitionModel() {\r\n        Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      },\r\n\r\n      idAttribute: null,\r\n\r\n      parse: function (response) {\r\n        return response;\r\n      }\r\n\r\n    });\r\n\r\n    DataDefinitionModel.version = '1.0';\r\n\r\n    return DataDefinitionModel;\r\n\r\n  });\r\n\n","csui.define('csui/models/datadefinitions',[ \"module\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n         \"csui/utils/log\", \"csui/utils/base\", \"csui/models/datadefinition\"\r\n], function( module, _, Backbone,\r\n             log, base, DataDefinitionModel )\r\n  {\r\n    \"use strict\";\r\n\r\n    //\r\n    // Generic Data-Definition Collection.\r\n    //\r\n    // Params in constructor:\r\n    // - models: can be passed in or undefined\r\n    // - options:\r\n    //   Two possible ways with the 'options' in constructor as in the following examples:\r\n    //   1) options = {\r\n    //        connector: connector,\r\n    //        url: \"api/v1/nodes/2000\"\r\n    //      }\r\n    //   2) options = {\r\n    //        node: node,\r\n    //        [nodeResource: \"actions\"]  // optional\r\n    //      }\r\n    //\r\n    var DataDefinitionCollection = Backbone.Collection.extend({\r\n\r\n      model: DataDefinitionModel,\r\n\r\n      constructor: function DataDefinitionCollection( models, options ) {\r\n        Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n        this.setOptions( options );\r\n      },\r\n\r\n      // public\r\n      setOptions: function( options ) {\r\n        this.options = options ? options : {};\r\n        this.options.connector && this.options.connector.assignTo(this);\r\n        this.options.node && this.options.node.connector && this.options.node.connector.assignTo(this);\r\n      },\r\n\r\n      url: function() {\r\n        var url;\r\n        if( this.options.url ) {\r\n          var cgiPath = new base.Url(this.connector.connection.url).getCgiScript(true);\r\n          url = base.Url.combine( cgiPath, this.options.url );\r\n        } else {\r\n          url = this.options.node && this.options.node.urlBase();\r\n          if( this.options.nodeResource ) {\r\n            url = base.Url.combine( url, this.options.nodeResource );\r\n          }\r\n        }\r\n        return url;\r\n      },\r\n\r\n      fetch: function( options ) {\r\n        log.debug( \"Fetching data-definitions for url '{0}'.\", this.url()) &&\r\n          typeof console !== 'undefined' && console.log( log.last );\r\n\r\n        options || (options = {});\r\n        if( options.reset === undefined ) {\r\n          options.reset = true;\r\n        }\r\n\r\n        return Backbone.Collection.prototype.fetch.call( this, options );\r\n      },\r\n\r\n      parse: function( response, options ) {\r\n        this.data = response.data || {};\r\n        this.definitions = response.definitions || {};\r\n        this.definitions_map = response.definitions_map || {};\r\n        this.definitions_order = response.definitions_order || {};\r\n\r\n        // construct a flat structure\r\n        this.definitions_flat = {};\r\n        _.each( this.definitions, function( def, key ) {\r\n          var definition = _.extend(\r\n            {\r\n              signature: key,\r\n              href: this.data[key]\r\n            },\r\n            def\r\n          );\r\n          this.definitions_flat[key] = definition;\r\n        }, this);\r\n\r\n        return Backbone.Collection.prototype.parse.call( this,\r\n          this.definitions_flat, options);\r\n      },\r\n\r\n      // public\r\n      GetDefinitionsOrder: function() {\r\n        return this.definitions_order;\r\n      },\r\n\r\n      // public\r\n      GetDefinitionMap: function() {\r\n        return this.definitions_map;\r\n      },\r\n\r\n      // public\r\n      GetDefinition: function( signature ) {\r\n        return this.definitions[signature];\r\n      },\r\n\r\n      // public: get the flat definitions structure of data-definitions\r\n      GetFlatCollection: function() {\r\n        return this.definitions_flat || {};\r\n      },\r\n\r\n      // public: return a flat definition based on the requested definition key\r\n      GetFlatDefinition: function( def ) {\r\n        return this.definitions_flat[def];\r\n      }\r\n\r\n    });\r\n\r\n    _.extend( DataDefinitionCollection, { version: '1.0' } );\r\n\r\n    return DataDefinitionCollection;\r\n\r\n  });\r\n\n","csui.define('csui/models/mixins/v2.fields/v2.fields.mixin',['csui/lib/underscore'], function (_) {\r\n  'use strict';\r\n\r\n  var FieldsV2Mixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeFieldsV2: function (options) {\r\n          this.fields = options && options.fields || {};\r\n          return this;\r\n        },\r\n\r\n        setFields: function (role, names) {\r\n          if (_.isObject(role)) {\r\n            _.each(role, function (value, key) {\r\n              this._setOneFieldSet(key, value);\r\n            }, this);\r\n          } else {\r\n            this._setOneFieldSet(role, names);\r\n          }\r\n        },\r\n\r\n        resetFields: function (role, names) {\r\n          if (_.isObject(role)) {\r\n            _.each(role, function (value, key) {\r\n              this._resetOneFieldSet(key, value);\r\n            }, this);\r\n          } else {\r\n            this._resetOneFieldSet(role, names);\r\n          }\r\n        },\r\n\r\n        getResourceFieldsUrlQuery: function () {\r\n          return _.reduce(this.fields, function (result, names, role) {\r\n            var fields = result.fields || (result.fields = []),\r\n                encodedNames = _.map(names, encodeURIComponent),\r\n                field = encodeURIComponent(role);\r\n            if (encodedNames.length) {\r\n              var dot = field.indexOf('.');\r\n              if (dot > 0) {\r\n                // versions.element(0) -> versions{mime_type}.element(0)\r\n                field = field.substring(0, dot) + '{' + encodedNames.join(',') + '}' +\r\n                        field.substring(dot);\r\n              } else {\r\n                // properties -> properties{name}\r\n                field += '{' + encodedNames.join(',') + '}';\r\n              }\r\n            }\r\n            fields.push(field);\r\n            return result;\r\n          }, {});\r\n        },\r\n\r\n        _setOneFieldSet: function (role, names) {\r\n          var fields = this.fields[role] || (this.fields[role] = []);\r\n          if (names) {\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            _.each(names, function (name) {\r\n              if (!_.contains(fields, name)) {\r\n                fields.push(name);\r\n              }\r\n            }, this);\r\n          }\r\n        },\r\n\r\n        _resetOneFieldSet: function (role, names) {\r\n          if (names) {\r\n            var fields = this.fields[role] || (this.fields[role] = []);\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            _.each(names, function (name) {\r\n              var index = _.indexOf(fields, name);\r\n              if (index >= 0) {\r\n                fields.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else if (role) {\r\n            delete this.fields[role];\r\n          } else {\r\n            _.chain(this.fields)\r\n             .keys()\r\n             .each(function (key) {\r\n               delete this.fields[key];\r\n             }, this);\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    mergePropertyParameters: function (output, input) {\r\n      if (typeof input === 'string') {\r\n        input = input.split(',');\r\n      }\r\n      if (Array.isArray(input)) {\r\n        input = input.reduce(function (result, name) {\r\n          var value = result[name];\r\n          // If all fields or expands in a scope were requested, ensure,\r\n          // that an empty array is assigned to it to include app properties\r\n          if (!value || value.length) {\r\n            result[name] = [];\r\n          }\r\n          return result;\r\n        }, {});\r\n      }\r\n      output || (output = {});\r\n      _.each(input, function (values, name) {\r\n        var target = output[name];\r\n        if (target) {\r\n          _.each(values, function (value) {\r\n            if (!_.contains(target, value)) {\r\n              target.push(value);\r\n            }\r\n          });\r\n        } else {\r\n          output[name] = values;\r\n        }\r\n      });\r\n      return output;\r\n    }\r\n  };\r\n\r\n  return FieldsV2Mixin;\r\n});\r\n\n","csui.define('csui/models/mixins/v2.expandable/v2.expandable.mixin',[\r\n  'csui/lib/underscore', 'csui/models/mixins/v2.fields/v2.fields.mixin'\r\n], function (_, FieldsV2Mixin) {\r\n  'use strict';\r\n\r\n  var ExpandableV2Mixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeExpandableV2: function (options) {\r\n          this.expand = options && options.expand || {};\r\n          return this;\r\n        },\r\n\r\n        setExpand: function (role, names) {\r\n          if (_.isObject(role)) {\r\n            _.each(role, function (value, key) {\r\n              this._setOneExpand(key, value);\r\n            }, this);\r\n          } else {\r\n            this._setOneExpand(role, names);\r\n          }\r\n        },\r\n\r\n        resetExpand: function (role, names) {\r\n          if (_.isObject(role)) {\r\n            _.each(role, function (value, key) {\r\n              this._resetOneExpand(key, value);\r\n            }, this);\r\n          } else {\r\n            this._resetOneExpand(role, names);\r\n          }\r\n        },\r\n\r\n        getExpandableResourcesUrlQuery: function () {\r\n          return _.reduce(this.expand, function (result, names, role) {\r\n            var expand = result.expand || (result.expand = []),\r\n                encodedNames = _.map(names, encodeURIComponent),\r\n                expandable = encodeURIComponent(role);\r\n            if (encodedNames.length) {\r\n              expandable += '{' + encodedNames.join(',') + '}';\r\n            }\r\n            expand.push(expandable);\r\n            return result;\r\n          }, {});\r\n        },\r\n\r\n        _setOneExpand: function (role, names) {\r\n          var expand = this.expand[role] || (this.expand[role] = []);\r\n          if (names) {\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            _.each(names, function (name) {\r\n              if (!_.contains(expand, name)) {\r\n                expand.push(name);\r\n              }\r\n            }, this);\r\n          }\r\n        },\r\n\r\n        _resetOneExpand: function (role, names) {\r\n          if (names) {\r\n            var expand = this.expand[role] || (this.expand[role] = []);\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            _.each(names, function (name) {\r\n              var index = _.indexOf(expand, name);\r\n              if (index >= 0) {\r\n                expand.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else if (role) {\r\n            delete this.expand[role];\r\n          } else {\r\n            _.chain(this.expand)\r\n             .keys()\r\n             .each(function (key) {\r\n               delete this.expand[key];\r\n             }, this);\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    mergePropertyParameters: FieldsV2Mixin.mergePropertyParameters\r\n  };\r\n\r\n  return ExpandableV2Mixin;\r\n});\r\n\n","csui.define('csui/models/mixins/v2.commandable/v2.commandable.mixin',['csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  \"use strict\";\r\n\r\n  var CommandableV2Mixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeCommandableV2: function (options) {\r\n          var commands = options && options.commands;\r\n          if (typeof commands === 'string') {\r\n            commands = commands.split(',');\r\n          }\r\n          this.commands = commands || [];\r\n          return this;\r\n        },\r\n\r\n        setCommands: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(\",\");\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.commands, name)) {\r\n              this.commands.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetCommands: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(\",\");\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.commands, name);\r\n              if (index >= 0) {\r\n                this.commands.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.commands.splice(0, this.commands.length);\r\n          }\r\n        },\r\n\r\n        getRequestedCommandsUrlQuery: function () {\r\n          return this.commands.length && {actions: this.commands};\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return CommandableV2Mixin;\r\n\r\n});\r\n\n","csui.define('csui/models/node.actions/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var query;\r\n          if (!!this.parent_id) {\r\n            query = Url.combineQueryString({\r\n                  reference_id: this.parent_id,\r\n                  ids: this.nodes\r\n                },\r\n                this.getRequestedCommandsUrlQuery()\r\n            );\r\n          }\r\n          else {\r\n            query = Url.combineQueryString({\r\n                  ids: this.nodes\r\n                },\r\n                this.getRequestedCommandsUrlQuery()\r\n            );\r\n          }\r\n\r\n\r\n          return Url.combine(this.connector.connection.url.replace('/v1', '/v2'),\r\n            '/nodes/actions') + '?' + query;\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          // FIXME: Remove this, as soon as all servers support GET v2/nodes/actions.\r\n          if (_.isArray(response)) {\r\n            return response;\r\n          }\r\n          // from { node_id: { data: { command_key: { ... }, ... }, ... }\r\n          // to [ { id: node_id, actions: [ { signature: command_key, ... }, ... ] }, ... ]\r\n          return _.map(response.results, function (value, key) {\r\n            return {\r\n              id: key,\r\n              actions: _.map(value.data, function (value, key) {\r\n                value.signature = key;\r\n                return value;\r\n              })\r\n            };\r\n          }, {});\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/node.actions',['csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/models/actions',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/node.actions/server.adaptor.mixin'\r\n], function (_, Backbone, Url, ActionCollection,\r\n    ConnectableMixin, FetchableMixin, CommandableMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var NodeActionModel = Backbone.Model.extend({\r\n\r\n    constructor: function NodeActionModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      this.actions = new ActionCollection(attributes && attributes.actions);\r\n    }\r\n\r\n  });\r\n\r\n  var NodeActionCollection = Backbone.Collection.extend({\r\n\r\n    model: NodeActionModel,\r\n\r\n    constructor: function NodeActionCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      var nodes = options && options.nodes;\r\n      if (typeof nodes === 'string') {\r\n        nodes = nodes.split(',');\r\n      }\r\n      this.nodes = nodes || [];\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeCommandableV2(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    setNodes: function (nodes) {\r\n      if (!_.isArray(nodes)) {\r\n        nodes = nodes.split(',');\r\n      }\r\n      _.each(nodes, function (node) {\r\n        if (!_.contains(this.nodes, node)) {\r\n          this.nodes.push(node);\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    resetNodes: function (nodes) {\r\n      if (nodes) {\r\n        if (!_.isArray(nodes)) {\r\n          nodes = nodes.split(',');\r\n        }\r\n        _.each(nodes, function (node) {\r\n          var index = _.indexOf(this.nodes, node);\r\n          if (index >= 0) {\r\n            this.nodes.splice(index, 1);\r\n          }\r\n        }, this);\r\n      } else {\r\n        this.nodes = [];\r\n      }\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        nodes: _.clone(this.nodes),\r\n        commands: _.clone(this.includeCommands)\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  ConnectableMixin.mixin(NodeActionCollection.prototype);\r\n  FetchableMixin.mixin(NodeActionCollection.prototype);\r\n  CommandableMixin.mixin(NodeActionCollection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeActionCollection.prototype);\r\n\r\n  return NodeActionCollection;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/promoted.actionitems',[\r\n  'csui/lib/underscore', 'csui/models/actionitems',\r\n  // Load and register external default action rules\r\n  'csui-ext!csui/utils/promoted.actionitems'\r\n], function (_, ActionItemCollection, extraActions) {\r\n  'use strict';\r\n\r\n  var promotedActionItems = new ActionItemCollection([\r\n    // Default for versions is always version open command\r\n    {\r\n      signature: 'properties',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'unreserve',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'permissions',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'reserve',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'rename',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'edit',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'copy',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'move',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'download',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'comment',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'open',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'delete',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'browse',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'addversion',\r\n      sequence: 10\r\n    }\r\n  ]);\r\n\r\n  if (extraActions) {\r\n    promotedActionItems.add(_.flatten(extraActions, true));\r\n  }\r\n\r\n  return promotedActionItems;\r\n\r\n});\r\n\n","// Adds the deepClone method to _, Backbone.Model and Backbone.Collection\r\ncsui.define('csui/utils/deepClone/deepClone',['csui/lib/underscore', 'csui/lib/backbone'], function (_, Backbone) {\r\n\r\n  // See https://gist.github.com/prantlf/6d134475af24d4b2f7de\r\n\r\n  // Performs a deep clone of primitive values, arrays, object literals,\r\n  // and arbitrary objects, if requested.  It is supposed to clone object\r\n  // literals, which are going to be modified, but the original should\r\n  // stay intact.\r\n  //\r\n  // The default behaviour works well with JSON REST API responses and\r\n  // and other objects, which contain only values of native types.\r\n  // If functions or HTML elements are encountered, they will not be\r\n  // actually cloned; they will be just copied, which works well with\r\n  // the typical options objects for Backbone constructors.\r\n  // If arbitrary objects can be encountered, additional options can\r\n  // be used to specify the result:\r\n  //\r\n  // default behaviour\r\n  // : Throws an error\r\n  // cloneCloneableObjects: true\r\n  // : Uses deepClone or clone method, if available.\r\n  // cloneArbitraryObjects: true\r\n  // : Creates new objects with clones own properties of the original.\r\n  // copyArbitraryObjects\r\n  // : Copies the original.\r\n  //\r\n  // This function depends on Underscore.js.\r\n  function deepClone(source, options) {\r\n    var result = {},\r\n        key;\r\n    if (!source || typeof source !== 'object' || source instanceof HTMLElement ||\r\n        _.isBoolean(source) || _.isNumber(source) || _.isString(source)) {\r\n      return source;\r\n    }\r\n    if (_.isDate(source) || _.isRegExp(source)) {\r\n      return new source.constructor(source.valueOf());\r\n    }\r\n    if (_.isArray(source)) {\r\n      return _.map(source, function (obj) {\r\n        return _.deepClone(obj);\r\n      });\r\n    }\r\n    if (source.constructor !== Object) {\r\n      if (options) {\r\n        if (options.cloneCloneableObjects) {\r\n          if (source.deepClone) {\r\n            return source.deepClone();\r\n          }\r\n          if (source.clone) {\r\n            return source.clone();\r\n          }\r\n        }\r\n        if (options.copyArbitraryObjects) {\r\n          return source;\r\n        }\r\n        if (!options.cloneArbitraryObjects) {\r\n          throw new Error('Cannot clone an arbitrary function object instance');\r\n        }\r\n      } else {\r\n        throw new Error('Cannot clone an arbitrary function object instance');\r\n      }\r\n    }\r\n    return _.reduce(source, function (result, value, key) {\r\n      result[key] = deepClone(value);\r\n      return result;\r\n    }, {});\r\n  }\r\n\r\n  // Expose deepClone among the Underscore.js methods\r\n  _.mixin({deepClone: deepClone});\r\n\r\n  // Add deepClone to the Backbone.Model prototype\r\n  Backbone.Model.prototype.deepClone = function (options) {\r\n    return new this.constructor(deepClone(this.attributes, options));\r\n  };\r\n\r\n  // Add deepClone to the Backbone.Collection prototype\r\n  Backbone.Collection.prototype.deepClone = function (options) {\r\n    return new this.constructor(this.map(function (model) {\r\n      return deepClone(model.attributes, options);\r\n    }));\r\n  };\r\n\r\n  return deepClone;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/models/node.actions',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin', 'csui/utils/promoted.actionitems',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, $, Backbone, NodeActionCollection, CommandableV2Mixin, promotedActionItems) {\r\n  'use strict';\r\n\r\n  var DelayedCommandableV2Mixin = {\r\n    mixin: function (prototype) {\r\n      CommandableV2Mixin.mixin(prototype);\r\n\r\n      var originalPrepareModel = prototype._prepareModel;\r\n\r\n      return _.extend(prototype, {\r\n        makeDelayedCommandableV2: function (options) {\r\n          options || (options = {});\r\n          var defaultActionCommands = options.defaultActionCommands;\r\n          var promotedActionCommands = promotedActionItems.getPromotedCommandsSignatures();\r\n          var nonPromotedActionCommands = [];\r\n          if (typeof defaultActionCommands === 'string') {\r\n            defaultActionCommands = defaultActionCommands.split(',');\r\n          }\r\n          this.defaultActionCommands = defaultActionCommands || [];\r\n          this.promotedActionCommands = promotedActionCommands;\r\n          this.nonPromotedActionCommands = nonPromotedActionCommands || [];\r\n          this.delayedActions = new NodeActionCollection(undefined, {\r\n            connector: options.connector\r\n          });\r\n\r\n          this.nonPromotedActions = new NodeActionCollection(undefined, {\r\n            isNonPromoted: true,\r\n            connector: options.connector\r\n          });\r\n\r\n          this.setEnabledDelayRestCommands(options.delayRestCommands);\r\n\r\n          this.delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n\r\n          this.promotedActionItemsFromControler = promotedActionItems;\r\n\r\n          return this.makeCommandableV2(options);\r\n        },\r\n\r\n        setEnabledDelayRestCommands: function (enable) {\r\n          if (enable) {\r\n            this._enableDelayRestCommands();\r\n          } else {\r\n            this._disableDelayRestCommands();\r\n          }\r\n        },\r\n\r\n        setEnabledLazyActionCommands: function (enable) {\r\n          var deferred = $.Deferred();\r\n          if (enable) {\r\n            this._enableNonPromotedRestCommands();\r\n            this._requestsNonPromotedRestActions().done(function (node) {\r\n              deferred.resolve(node);\r\n            }).fail(function () {\r\n                  deferred.reject();\r\n                }\r\n            );\r\n\r\n          } else {\r\n            this._disableNonPromotedRestCommands();\r\n          }\r\n          return deferred.promise();\r\n        },\r\n\r\n        _enableDelayRestCommands: function () {\r\n          if (!this.delayRestCommands) {\r\n            this.delayRestCommands = true;\r\n            this.on('sync', this._requestRestActions, this);\r\n          }\r\n        },\r\n\r\n        _disableDelayRestCommands: function () {\r\n          if (this.delayRestCommands) {\r\n            this.delayRestCommands = false;\r\n            this.off('sync', this._requestRestActions, this);\r\n          }\r\n        },\r\n\r\n        _enableNonPromotedRestCommands: function () {\r\n          if (!this.enableNonPromotedCommands) {\r\n            this.enableNonPromotedCommands = true;\r\n            this.on('sync', this._requestsNonPromotedRestActions, this);\r\n          }\r\n        },\r\n\r\n        _disableNonPromotedRestCommands: function () {\r\n          this.enableNonPromotedCommands = false;\r\n          this.off('sync', this._requestsNonPromotedRestActions, this);\r\n        },\r\n\r\n        _requestRestActions: function (model, resp, options) {\r\n          // Guard against propagated sync event: if this mixin has been\r\n          // applied to a collection, only fetch of the collection should\r\n          // be handled here; fetching of models should not re-fetch actions\r\n          // for the whole collection.\r\n          // Also do nothing if the collection is empty.\r\n          if (model !== this || this instanceof Backbone.Collection && !this.length) {\r\n            return;\r\n          }\r\n          // request delayed actions only when fetching\r\n          if (options.xhr && options.xhr.settings.type !== 'GET') {\r\n            return;\r\n          }\r\n          var defaultActionCommands  = this.defaultActionCommands,\r\n              promotedActionCommands = this.promotedActionCommands;\r\n\r\n          //NonPromotedActionCommands = allCommands - defaultActionCommnads - promotedActionCommands\r\n          //DelayActions = (allCommands - defaultActionCommnads) Intersect promotedActionCommands;\r\n          var restCommands        = _.reject(this.commands, function (command) {\r\n                return _.contains(defaultActionCommands, command);\r\n              }),\r\n              promotedCommands    = [],\r\n              nonPromotedCommands = [];\r\n          _.each(restCommands, function (command) {\r\n            if (_.contains(promotedActionCommands, command)) { //CurrentPromotedActions\r\n              promotedCommands.push(command); // Delay Commands\r\n            }\r\n            else {\r\n              nonPromotedCommands.push(command); // nonpromoted Commands\r\n            }\r\n          });\r\n\r\n          this.promotedActionCommands = promotedCommands;\r\n          this.nonPromotedActionCommands = nonPromotedCommands;\r\n          ///remove other commands which are not declared in toolbarItems\r\n          if (promotedCommands.length) {\r\n            var delayedActions = this.delayedActions;\r\n            delayedActions.resetCommands();\r\n            delayedActions.setCommands(promotedCommands);\r\n            delayedActions.resetNodes();\r\n            if (this instanceof Backbone.Collection) {\r\n              var restNodes = [];\r\n              this.each(function (model) {\r\n                //update node model with promoted and nonpromoted commands list, Since we are\r\n                // not fetching every node info individually\r\n                model.nonPromotedActionCommands = nonPromotedCommands;\r\n                model.promotedActionCommands = promotedCommands;\r\n                if (!model.get('csuiDelayedActionsRetrieved')) {\r\n                  restNodes.push(model.get('id'));\r\n                }\r\n              });\r\n              delayedActions.setNodes(restNodes);\r\n            } else {\r\n              model.nonPromotedActionCommands = nonPromotedCommands;\r\n              model.promotedActionCommands = promotedCommands;\r\n              delayedActions.setNodes([this.get('id')]);\r\n            }\r\n            delayedActions.parent_id = !!this.node ? this.node.get(\"id\") : this.get(\"id\");\r\n            if (delayedActions.nodes.length > 0) {\r\n              if (!delayedActions.connector) {\r\n                this.connector.assignTo(delayedActions);\r\n              }\r\n              delayedActions\r\n                  .fetch({\r\n                    reset: true,\r\n                    // Update the actions as soon as possible; event\r\n                    // and promise can be watched by someone else\r\n                    success: _.bind(this._updateOriginalActions, this)\r\n                  });\r\n            }\r\n          } else {\r\n            //update node with promoted and non-promoted commands list If there are no promoted\r\n            // commands\r\n            if (this instanceof Backbone.Collection) {\r\n              this.each(function (model) {\r\n                model.nonPromotedActionCommands = nonPromotedCommands;\r\n                model.promotedActionCommands = promotedCommands;\r\n              });\r\n            } else {\r\n              model.nonPromotedActionCommands = nonPromotedCommands;\r\n              model.promotedActionCommands = promotedCommands;\r\n            }\r\n          }\r\n        },\r\n\r\n        _requestsNonPromotedRestActions: function () {\r\n          var deferred = $.Deferred();\r\n          var nonPromotedActions        = this.nonPromotedActions,\r\n              nonPromotedActionCommands = this.nonPromotedActionCommands.length ?\r\n                                          this.nonPromotedActionCommands :\r\n                                          this.collection.nonPromotedActionCommands;\r\n          nonPromotedActions.resetCommands();\r\n          nonPromotedActions.setCommands(nonPromotedActionCommands);\r\n          nonPromotedActions.resetNodes();\r\n          if (this instanceof Backbone.Collection) {\r\n            var restNodes = [];\r\n            this.each(function (model) {\r\n              if (!model.get('csuiLazyActionsRetrieved') && !model.isLocallyCreated) {\r\n                restNodes.push(model.get('id'));\r\n              }\r\n            });\r\n            nonPromotedActions.parent_id = this.length && this.models[0].get(\"reference_id\");\r\n            nonPromotedActions.setNodes(restNodes);\r\n          } else {\r\n            nonPromotedActions.setNodes([this.get('id')]);\r\n            nonPromotedActions.parent_id = this.get(\"reference_id\");\r\n          }\r\n\r\n          if (!nonPromotedActions.connector) {\r\n            this.connector.assignTo(nonPromotedActions);\r\n          }\r\n          if (nonPromotedActions.commands.length && nonPromotedActions.nodes.length) {\r\n            nonPromotedActions\r\n                .fetch({\r\n                  reset: true,\r\n                  // Update the actions as soon as possible; event\r\n                  // and promise can be watched by someone else\r\n                  success: _.bind(function () {\r\n                    this._updateOriginalActionsAfterLazyActions();\r\n                    //this.attributes.csuiLazyActionsRetrieved =  true;\r\n                    deferred.resolve(this);\r\n                  }, this),\r\n                  fail: function () {\r\n                    this.attributes.csuiLazyActionsRetrieved = true;\r\n                    deferred.reject();\r\n                  }\r\n                });\r\n          } else {\r\n            this.set('csuiLazyActionsRetrieved', true);\r\n            deferred.resolve(this);\r\n          }\r\n          return deferred.promise();\r\n        },\r\n\r\n        _updateOriginalActions: function () {\r\n          var delayedActions = this.delayedActions;\r\n\r\n          function updateNodeActions(node) {\r\n            var actionNode = delayedActions.get(node.get('id'));\r\n            if (actionNode) {\r\n              node.actions.add(actionNode.actions.models);\r\n              node.set('csuiDelayedActionsRetrieved', true);\r\n            }\r\n          }\r\n\r\n          if (this instanceof Backbone.Collection) {\r\n            this.each(updateNodeActions);\r\n          } else {\r\n            updateNodeActions(this);\r\n          }\r\n        },\r\n\r\n        _updateOriginalActionsAfterLazyActions: function () {\r\n          var nonPromotedActions = this.nonPromotedActions,\r\n              updateNodeActions  = function (node) {\r\n                node.attributes.csuiLazyActionsRetrieved = true;\r\n                var actionNode = nonPromotedActions.get(node.get('id'));\r\n                if (actionNode) {\r\n                  _.each(actionNode.actions.models, function (action) {\r\n                    action.attributes.csuiNonPromotedAction = true;\r\n                  });\r\n                  node.actions.add(actionNode.actions.models);\r\n                }\r\n              };\r\n\r\n          if (this instanceof Backbone.Collection) {\r\n            this.each(updateNodeActions);\r\n          } else {\r\n            updateNodeActions(this);\r\n          }\r\n        },\r\n\r\n        setDefaultActionCommands: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(',');\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.defaultActionCommands, name)) {\r\n              this.defaultActionCommands.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetDefaultActionCommands: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(',');\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.defaultActionCommands, name);\r\n              if (index >= 0) {\r\n                this.defaultActionCommands.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.defaultActionCommands.splice(0, this.defaultActionCommands.length);\r\n          }\r\n        },\r\n\r\n        getRequestedCommandsUrlQuery: function () {\r\n          var commands = this.delayRestCommands ?\r\n                         this.defaultActionCommands : this.commands;\r\n          return commands.length && {actions: commands};\r\n        },\r\n\r\n        getAllCommandsUrlQuery: function () {\r\n          var commands = this.commands;\r\n          return commands.length && {actions: commands};\r\n        },\r\n\r\n        // Stop the delayed action enabling for child models and collections.\r\n        // If they want it, they can do so in the constructors, which creates\r\n        // them. Immediate child models of this collection can be enabled by\r\n        // the delayRestCommandsForModels option.\r\n        _prepareModel: function (attrs, options) {\r\n          var delayRestCommands, delayRestCommandsForModels;\r\n          options || (options = {});\r\n          // If the collection is populated after the constructor has\r\n          // finished, we can use parameters passed to the constructor\r\n          // as defaults, if the population options are empty.\r\n          if (this.delayedActions) {\r\n            delayRestCommands = options.delayRestCommands;\r\n            if (delayRestCommands === undefined) {\r\n              delayRestCommands = this.delayRestCommands;\r\n            }\r\n            delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n            if (delayRestCommandsForModels === undefined) {\r\n              delayRestCommandsForModels = this.delayRestCommandsForModels;\r\n            }\r\n          } else {\r\n            delayRestCommands = options.delayRestCommands;\r\n            delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n          }\r\n          options.delayRestCommands = delayRestCommandsForModels;\r\n          options.delayRestCommandsForModels = false;\r\n          var model = originalPrepareModel.call(this, attrs, options);\r\n          options.delayRestCommands = delayRestCommands;\r\n          options.delayRestCommandsForModels = delayRestCommandsForModels;\r\n          return model;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return DelayedCommandableV2Mixin;\r\n});\r\n\n","csui.define('csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',['csui/lib/underscore', 'csui/lib/jquery'\r\n], function (_, $) {\r\n\r\n  var AdditionalResourcesV2Mixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeAdditionalResourcesV2Mixin: function (options) {\r\n          this._additionalResources = [];\r\n          if (options && options.includeResources) {\r\n            this.includeResources(options.includeResources);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        includeResources: function (names) {\r\n          if (names && !_.isArray(names)) {\r\n            names = names.split(',');\r\n          }\r\n          this._additionalResources = _.union(this._additionalResources, names);\r\n        },\r\n\r\n        excludeResources: function (names) {\r\n          if (names) {\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            this._additionalResources = _.reject(this._additionalResources, names);\r\n          } else {\r\n            this._additionalResources.splice(0, this._additionalResources.length);\r\n          }\r\n        },\r\n\r\n        getAdditionalResourcesUrlQuery: function () {\r\n          return _.reduce(this._additionalResources, function (result, parameter) {\r\n            result[parameter] = '';\r\n            return result;\r\n          }, {});\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n\r\n  };\r\n\r\n  return AdditionalResourcesV2Mixin;\r\n\r\n});\r\n\n","csui.define('csui/models/node.columns2',['csui/lib/backbone'], function (Backbone) {\r\n  'use strict';\r\n\r\n  var NodeColumn2Model = Backbone.Model.extend({\r\n    id: 'column_key',\r\n\r\n    constructor: function NodeColumn2Model(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n    }\r\n  });\r\n\r\n  var NodeColumn2Collection = Backbone.Collection.extend({\r\n    model: NodeColumn2Model,\r\n\r\n    constructor: function NodeColumn2Collection(models, options) {\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    }\r\n  });\r\n\r\n  return NodeColumn2Collection;\r\n});\r\n\n","csui.define('csui/models/node/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/models/node/impl/nls/root/lang',{\r\n  sizeColumnTitle: 'Size'\r\n});\r\n\n","\n","csui.define('csui/models/utils/v1tov2',[],function () {\r\n  'use strict';\r\n\r\n  var nodeExpands = ['original_id', 'parent_id', 'volume_id'],\r\n      userExpands = ['create_user_id', 'modify_user_id', 'owner_user_id',\r\n                     'reserved_user_id'],\r\n      groupExpands = ['owner_group_id'],\r\n      memberExpands = userExpands.concat(groupExpands);\r\n\r\n  // Returns a v2 expand scope string or an object with key-array pairs.\r\n  function includeExpandsV1toV2(expands) {\r\n    // An array can be converted to an object with key-array pairs.\r\n    if (Array.isArray(expands)) {\r\n      return expands.reduce(function (result, expand) {\r\n        if (expand === 'node') {\r\n          mergeProperties(result, nodeExpands);\r\n        } else if (expand === 'member') {\r\n          mergeProperties(result, memberExpands);\r\n        } else if (expand === 'user') {\r\n          mergeProperties(result, userExpands);\r\n        } else if (expand === 'group') {\r\n          mergeProperties(result, groupExpands);\r\n        } else {\r\n          result[expand] || (result[expand] = []);\r\n        }\r\n        return result;\r\n      }, {});\r\n    // A v1 string can be converted an object with a single key-array pair.\r\n    } else if (expands === 'node') {\r\n      return {\r\n        properties: nodeExpands.slice()\r\n      };\r\n    // A v1 string can be converted an object with a single key-array pair.\r\n    } else if (expands === 'member') {\r\n      return {\r\n        properties: memberExpands.slice()\r\n      };\r\n    } else if (expands === 'user') {\r\n      return {\r\n        properties: userExpands.slice()\r\n      };\r\n    } else if (expands === 'group') {\r\n      return {\r\n        properties: groupExpands.slice()\r\n      };\r\n    }\r\n    // Leave an object or a v2 string intact.\r\n    return expands;\r\n\r\n    function mergeProperties(result, expands) {\r\n      var properties = result.properties || (result.properties = []);\r\n      expands.forEach(function (property) {\r\n        if (properties.indexOf(property) < 0) {\r\n          properties.push(property);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Returns a v2 expand scope string or an array of them.\r\n  function excludeExpandsV1toV2(expands) {\r\n    if (Array.isArray(expands)) {\r\n      return expands.reduce(function (result, expand) {\r\n        if (expand === 'node' || expand === 'user'  || expand === 'group' ||\r\n            expand === 'member') {\r\n          expand = 'properties';\r\n        }\r\n        if (result.indexOf(expand) < 0) {\r\n          result.push(expand);\r\n        }\r\n        return result;\r\n      }, []);\r\n    } else if (expands === 'node') {\r\n      return nodeExpands.slice();\r\n    } else if (expands === 'member') {\r\n      return memberExpands.slice();\r\n    } else if (expands === 'user' || expands === 'member') {\r\n      return userExpands.slice();\r\n    } else if (expands === 'group') {\r\n      return groupExpands.slice();\r\n    }\r\n    return expands;\r\n  }\r\n\r\n  // Returns a v1 expand scope string or an array with them.\r\n  function expandsV2toV1(expands) {\r\n    // An array can be converted to an array.\r\n    if (Array.isArray(expands)) {\r\n      return expands.reduce(function (result, expand) {\r\n        if (nodeExpands.indexOf(expand) >= 0) {\r\n          result.push('node');\r\n        } else if (userExpands.indexOf(expand) >= 0) {\r\n          result.push('user');\r\n        } else if (groupExpands.indexOf(expand) >= 0) {\r\n          result.push('group');\r\n        }\r\n        return result;\r\n      }, []);\r\n    // An object can be converted to an array with v1 scopes.\r\n    } else if (typeof expands === 'object') {\r\n      var properties = expands.properties;\r\n      if (properties) {\r\n        if (!properties.length) {\r\n          return ['node', 'member'];\r\n        }\r\n        return properties.reduce(function (result, expand) {\r\n          if (nodeExpands.indexOf(expand) >= 0) {\r\n            expand = 'node';\r\n          } else if (userExpands.indexOf(expand) >= 0) {\r\n            expand = 'user';\r\n          } else if (groupExpands.indexOf(expand) >= 0) {\r\n            expand = 'group';\r\n          }\r\n          if (result.indexOf(expand) < 0) {\r\n            result.push(expand);\r\n          }\r\n          return result;\r\n        }, []);\r\n      }\r\n      return [];\r\n    // A v2 string can be converted to a v1 string.\r\n    } else if (expands === 'properties') {\r\n      return ['node', 'member'];\r\n    }\r\n    // Leave a v1 string intact.\r\n    return expands;\r\n  }\r\n\r\n  return {\r\n    includeExpandsV1toV2: includeExpandsV1toV2,\r\n    excludeExpandsV1toV2: excludeExpandsV1toV2,\r\n    expandsV2toV1: expandsV2toV1,\r\n    nodeExpands: nodeExpands,\r\n    userExpands: userExpands\r\n  };\r\n});\r\n\n","csui.define('csui/models/node/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url',\r\n  'i18n!csui/models/node/impl/nls/lang', 'csui/models/utils/v1tov2'\r\n], function (_, $, Url, lang, v1tov2) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        isFetchableDirectly: function () {\r\n          return this.get('id') > 0;\r\n        },\r\n\r\n        // TODO: Remove this method and make the cache layer aware of node URLs.\r\n        urlCacheBase: function () {\r\n          var url = this.urlBase();\r\n          if (url.indexOf('/volumes') < 0) {\r\n            url = url.replace('/api/v1/', '/api/v2/');\r\n          }\r\n          return url + '?';\r\n        },\r\n\r\n        urlBase: function () {\r\n          var id  = this.get('id'),\r\n              url = this.connector.connection.url;\r\n          if (!id) {\r\n            // Create a new node by POST /nodes\r\n            url = Url.combine(url, 'nodes');\r\n          } else if (id === 'volume') {\r\n            // Access an existing volume by VERB /volumes/:type\r\n            url = Url.combine(url, 'volumes', this.get('type'));\r\n          } else if (!_.isNumber(id) || id > 0) {\r\n            // Access an existing node by VERB /nodes/:id\r\n            url = Url.combine(url, 'nodes', id);\r\n          } else {\r\n            throw new Error('Unsupported id value');\r\n          }\r\n          if (this.options.apiVersion) {\r\n            url.getApiBase(this.options.apiVersion);\r\n          }\r\n          return url;\r\n        },\r\n\r\n        url: function () {\r\n          var url = this.urlBase(),\r\n              query;\r\n          if (!this.isNew()) {\r\n            if (this.get('id') === 'volume') {\r\n              var expands = v1tov2.expandsV2toV1(this.expand);\r\n              if (expands.length) {\r\n                query = $.param({expand: expands}, true);\r\n              }\r\n            } else {\r\n              if (this.collection) {\r\n                query = this._getCombinedUrlQuery();\r\n              } else {\r\n                query = Url.combineQueryString(\r\n                    this.getExpandableResourcesUrlQuery(),\r\n                    this.getAdditionalResourcesUrlQuery(),\r\n                    this.getResourceFieldsUrlQuery(),\r\n                    this.getRequestedCommandsUrlQuery()\r\n                );\r\n              }\r\n              // Request just common properties by default; do not waste server\r\n              // resources, because it would return all it could by default.\r\n              // If somebody set fields to a subset of properties already, they\r\n              // are responsible for including all needed information.\r\n              if (!/\\bfields=properties\\b/.test(query)) {\r\n                query = Url.combineQueryString(query, 'fields=properties');\r\n              }\r\n            }\r\n          }\r\n\r\n          return query ? url + '?' + query : url;\r\n        },\r\n\r\n        _getCombinedUrlQuery: function () {\r\n          var collection     = this.getV2ParameterSource(),\r\n              queryParts     = [\r\n                'getExpandableResourcesUrlQuery',\r\n                'getAdditionalResourcesUrlQuery',\r\n                'getResourceFieldsUrlQuery'\r\n              ].map(function (method) {\r\n                var parameters = this[method]();\r\n                if (_.isEmpty(parameters)) {\r\n                  // If no data limits were specified in the node\r\n                  // model, try to inherit them from the collection\r\n                  method = collection[method];\r\n                  if (method) {\r\n                    return method.call(collection);\r\n                  }\r\n                }\r\n                return parameters;\r\n              }, this),\r\n              method         = this.delayRestCommands ?\r\n                               'getRequestedCommandsUrlQuery' :\r\n                               'getAllCommandsUrlQuery',\r\n              commands       = this[method](),\r\n              commandOptions = {};\r\n          if (_.isEmpty(commands)) {\r\n            // No delayed actions could be enabled for the node\r\n            // model, unless specifying the default action command.\r\n            // The collection can give non-delayed commands only;\r\n            // if it supports delayed actions or not.\r\n            method = collection.getAllCommandsUrlQuery ||\r\n                     collection.getRequestedCommandsUrlQuery;\r\n            if (method) {\r\n              commands = method.call(collection);\r\n            }\r\n          }\r\n          // TODO: Remove this horrible code breaking componentisation.\r\n          if (!!this.refernce_id || !!this.attributes.reference_id) {\r\n            commandOptions.reference_id = this.refernce_id || this.attributes.reference_id;\r\n          }\r\n          return Url.combineQueryString.apply(Url, queryParts.concat(commands, commandOptions));\r\n        },\r\n\r\n        parse: function (response) {\r\n          // A node obtained from a collection has the properties directly\r\n          // in the object, while if obtained by a single call, they are\r\n          // nested in the data sub-object.\r\n          // node from v2/nodes/:id or v1/nodes/:id\r\n          var results    = response.results || response,\r\n              // If node attributes are re-parsed, they will contain the \"data\"\r\n              // object with properties from additional roles. Detect only \"data\"\r\n              // from a v1 or a v2 response here.\r\n              resultData = results.data,\r\n              data       = resultData && (resultData.id || resultData.properties) && resultData,\r\n              // node from v2/nodes/:id or v2/nodes\r\n              // node from v1/nodes/:id or v1/nodes\r\n              node       = data && data.properties || data || response;\r\n\r\n          // However, some properties are scattered in the response object\r\n          // directly, or even in artificial sub-objects like type_info,versions;\r\n          // speak about developing API serving clients' needs, sigh.\r\n          if (response.type !== undefined) {\r\n            node.type = response.type;\r\n          }\r\n          if (response.type_name !== undefined) {\r\n            node.type_name = response.type_name;\r\n          }\r\n          if (data && data.versions) {\r\n            node.versions = data.versions;\r\n          }\r\n          _.extend(node, response.type_info);\r\n          if (node.versions) {\r\n            var version = node.versions;\r\n            if (_.isArray(version)) {\r\n              version = version[version.length - 1];\r\n            }\r\n            if (version) {\r\n              _.extend(node, _.pick(version, ['file_size', 'mime_type',\r\n                'version_id', 'version_number',\r\n                'version_number_major',\r\n                'version_number_minor']));\r\n            }\r\n          }\r\n\r\n          // Properties out of data are not passed to the constructor.  This\r\n          // may yet get its own sub-model.\r\n          _.defaults(node, {\r\n            perspective: results && results.perspective || response.perspective\r\n          });\r\n\r\n          // Normalize V1 actions and V2 commands to [{signature}, ...]\r\n          this._parseActions(node, results, response);\r\n\r\n          // Normalize actions in the shortcut target sub-node\r\n          var original = node.original_id && node.original_id.id ?\r\n                         node.original_id : node.original_id_expand;\r\n          if (original) {\r\n            this._parseActions(original, {}, {});\r\n            // No faking default action permissions for shortcut originals;\r\n            // only 'open' was not enough - all default acions are permitted\r\n            // in DefaultActionController\r\n          }\r\n\r\n          // Normalize actions in the parent location sub-node\r\n          var parent = node.parent_id && node.parent_id.id ?\r\n                       node.parent_id : node.parent_id_expand;\r\n          if (parent) {\r\n            this._parseActions(parent, {}, {});\r\n            if (!parent.actions.length) {\r\n              // TODO: Remove this, as soon as the actions for parent\r\n              // locations are returned by the server\r\n              // Add (default) actions used for hyperlinks\r\n              this._makeAccessible(parent);\r\n            }\r\n          }\r\n\r\n          // V1 does not send the URL; if the 'default' command is available,\r\n          // we can red it from there, otherwise it is not possible\r\n          if (node.type === 140 && !node.url) {\r\n            var defaultAction = _.findWhere(node.actions, {signature: 'default'});\r\n            node.url = defaultAction && defaultAction.href;\r\n          }\r\n\r\n          // Make addable types available in the node constructor\r\n          node.addable_types = response.addable_types;\r\n          // Make columns available in the node constructor\r\n          var columns = data && data.columns;\r\n          if (columns) {\r\n            node.columns = this._parseColumns(columns, response);\r\n          }\r\n          // Make definitions available in the node constructor\r\n          var definitions = response.definitions || results.metadata &&\r\n                                                    results.metadata.properties;\r\n          if (definitions) {\r\n            node.definitions = this._parseDefinitions(definitions, columns);\r\n          }\r\n          // Make additional v2 data accessible in the model attributes;\r\n          // data.properties are accessible as the flat node attributes\r\n          // and columns with metadata are pre-parsed by helper methods\r\n          if (data && data.properties) {\r\n            node.data = _.omit(data, 'columns', 'metadata', 'properties');\r\n          } else {\r\n            node.data = {};\r\n          }\r\n\r\n          // add reference_id to node for children under collection (ie., subtype 298) container.\r\n          if (this.collection && this.collection.node && this.collection.node.get('type') === 298) {\r\n            node.reference_id = this.collection.node.get('id');\r\n          }\r\n          // If node is getting updated by any of its actions, we are fetching entire node info\r\n          // which includes promoted and non-promoted actions also. So to avoid re-fetch\r\n          // nonpromoted actions from inline and toolbar setting 'csuiLazyActionsRetrieved'\r\n          // attribute to node.\r\n          if (this.get('csuiLazyActionsRetrieved') === undefined &&\r\n              !!this.get('csuiDelayedActionsRetrieved') && !_.isEmpty(this.changed)) {\r\n            node.csuiLazyActionsRetrieved = true;\r\n          }\r\n          return node;\r\n        },\r\n\r\n        _parseColumns: function (columns, response) {\r\n          var columnKeys = response.definitions_order ||\r\n                           columns && _.pluck(columns, 'key');\r\n          return _.map(columnKeys, function (key) {\r\n            return {key: key};\r\n          });\r\n        },\r\n\r\n        _parseDefinitions: function (definitions, columns) {\r\n          if (!definitions.size &&\r\n              (definitions.container_size || definitions.file_size)) {\r\n            definitions.size = definitions.container_size ||\r\n                               definitions.file_size;\r\n            definitions.size.key = 'size';\r\n            definitions.size.name = lang.sizeColumnTitle;\r\n          }\r\n          if (columns) {\r\n            _.each(columns, function (column) {\r\n              var columnKey  = column.key,\r\n                  definition = definitions[columnKey];\r\n              if (!definition) {\r\n                definition = definitions[columnKey] = {\r\n                  name: column.name,\r\n                  type: column.data_type,\r\n                  sort: column.sortable\r\n                };\r\n              }\r\n\r\n              // for all user related column attributes let's add definition type as 14.\r\n              var supportedPersonas = ['user', 'group', 'member'];\r\n              if ($.inArray(definition.persona, supportedPersonas) !== -1) {\r\n                definition.type = 14;\r\n              }\r\n\r\n              // Take fileds=columns from v2 into account.\r\n              var sortKey = column.sort_key;\r\n              if (sortKey) {\r\n                definition.sort_key = sortKey;\r\n                definition.sort = true;\r\n              }\r\n            });\r\n            // Update the real value-carrying column, which does not end with\r\n            // \"_formatted\", if only the \"_formatted\" one is present and not\r\n            // the real one. \"_formatted\"  columns should not be used, because\r\n            // they do not provide the real value for sorting, filtering, saving\r\n            // or other scenarios, where it is needed. Also the right formatting\r\n            // is specified in Smart UI. \"_formatted\" columns are for AJAX calls\r\n            // from Classic UI, because they for at according to its design.\r\n            _.each(columns, function (column) {\r\n              var columnKey      = column.key,\r\n                  formattedIndex = columnKey.lastIndexOf('_formatted');\r\n              if (formattedIndex >= 0) {\r\n                var realColumnKey = columnKey.substr(0, columnKey.length - 10),\r\n                    definition    = definitions[realColumnKey];\r\n                if (!definition) {\r\n                  definition = definitions[realColumnKey] = {\r\n                    name: column.name,\r\n                    type: column.data_type,\r\n                    sort: column.sortable\r\n                  };\r\n                }\r\n                // Take fileds=columns from v2 into account.\r\n                var sortKey = column.sort_key;\r\n                if (sortKey) {\r\n                  definition.sort_key = sortKey;\r\n                  definition.sort = true;\r\n                }\r\n              }\r\n            });\r\n          }\r\n          return _.map(definitions, function (definition, key) {\r\n            if (!definition.key) {\r\n              definition.key = key;\r\n            }\r\n            return definition;\r\n          });\r\n        },\r\n\r\n        _parseActions: function (node, results, response) {\r\n          // Normalize V1 actions and V2 commands to [{signature}, ...]\r\n          var actions = node.actions || response.actions ||\r\n                        // v1/volumes/:type actions\r\n                        response.available_actions,\r\n              commands;\r\n          if (_.isArray(actions)) {\r\n            // v1 actions\r\n            _.each(actions, function (action) {\r\n              // normalize the v1/volumes/:type actions\r\n              if (!action.signature) {\r\n                action.signature = action.type;\r\n                action.name = action.type_name;\r\n                delete action.type;\r\n                delete action.type_name;\r\n              }\r\n            });\r\n            commands = _.reduce(actions, function (result, action) {\r\n              result[action.signature] = {};\r\n              return result;\r\n            }, {});\r\n            node.actions = actions;\r\n          } else {\r\n            // v2-like commands added to v1 and v2 commands\r\n            commands = node.commands || response.commands || response.actions ||\r\n                       // v2 actions\r\n                       results && results.actions || {};\r\n            // v2 moved the content of actions to actions.data and left\r\n            // the actions object with the three keys only\r\n            if (commands.data && commands.order && commands.map) {\r\n              commands = commands.data;\r\n            }\r\n            node.actions = _.chain(commands)\r\n                .keys()\r\n                .map(function (key) {\r\n                  var attributes = commands[key];\r\n                  attributes.signature = key;\r\n                  return attributes;\r\n                })\r\n                .value();\r\n            delete node.commands;\r\n            delete node.commands_map;\r\n            delete node.commands_order;\r\n          }\r\n        },\r\n\r\n        // TODO: Remove this, as soon as the actions for shortcut\r\n        // targets, parents or other expanded nodes  are returned\r\n        //  by the server\r\n        _makeAccessible: function (original) {\r\n          original.actions = [\r\n            {signature: 'open'}\r\n          ];\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/node/node.model',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/actions', 'csui/models/addabletypes',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/node.columns2', 'csui/models/node/server.adaptor.mixin',\r\n  'i18n!csui/models/node/impl/nls/lang', 'csui/models/utils/v1tov2',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, ActionCollection, AddableTypesCollection,\r\n    ResourceMixin, UploadableMixin, FieldsV2Mixin, ExpandableV2Mixin,\r\n    DelayedCommandableV2Mixin, AdditionalResourcesV2Mixin,\r\n    NodeColumn2Collection, ServerAdaptorMixin, lang, v1tov2) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    idAttribute: null,\r\n    // ID should be always handles as a black box. The client should send\r\n    // it to the server the same, as it was received. The server should send\r\n    // IDs in object properties; it should not send URLs, which the client\r\n    // would have to parse and extract the ID from them.\r\n    //\r\n    // This flag can be used in the code, that does not follow the best\r\n    // practice and parses an integer ID out of some string.\r\n    usesIntegerId: true\r\n  }, module.config());\r\n\r\n  var NodeDefinition2Collection = Backbone.Collection.extend({\r\n    model: Backbone.Model.extend({\r\n      id: 'key',\r\n      constructor: function NodeDefinition2Model(attributes, options) {\r\n        Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n      }\r\n    }),\r\n    constructor: function NodeDefinition2Collection(models, options) {\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    }\r\n  });\r\n\r\n  var NodeModel = Backbone.Model.extend({\r\n    idAttribute: config.idAttribute,\r\n\r\n    constructor: function NodeModel(attributes, options) {\r\n      attributes || (attributes = {});\r\n      options || (options = {});\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.options = _.pick(options, ['connector']);\r\n\r\n      this.makeResource(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeDelayedCommandableV2(options)\r\n          .makeUploadable(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      // Ensure sub-models; these set by _setCollectionProperty should\r\n      // be always available, but this.set called from Backbone.Model\r\n      // constructor creates them only, if they are in the attributes\r\n      if (!attributes.actions) {\r\n        this._setCollectionProperty('actions', ActionCollection,\r\n            attributes, options);\r\n      }\r\n      if (!attributes.addable_types) {\r\n        this._setCollectionProperty('addable_types', AddableTypesCollection,\r\n            attributes, options);\r\n      }\r\n      if (!attributes.definitions) {\r\n        this._setCollectionProperty('definitions', NodeDefinition2Collection,\r\n            attributes, options);\r\n      }\r\n      if (!attributes.columns) {\r\n        this._setCollectionProperty('columns', NodeColumn2Collection,\r\n            attributes, options);\r\n      }\r\n      // Ensure sub-models; these set by _setNodeProperty are optional\r\n      // and if this.set called from Backbone.Model didn't create them,\r\n      // because they are not in the attributes, we won't do it here\r\n    },\r\n\r\n    clone: function () {\r\n      var clone = new this.constructor(this.attributes, {\r\n        connector: this.connector,\r\n        fields: _.deepClone(this.fields),\r\n        expand: _.deepClone(this.expand),\r\n        includeResources: _.clone(this._additionalResources),\r\n        commands: _.clone(this.commands),\r\n        defaultActionCommands: _.clone(this.defaultActionCommands),\r\n        delayRestCommands: this.delayRestCommands\r\n      });\r\n      clone.actions.reset(this.actions.models);\r\n      clone.fetching = this.fetching;\r\n      clone.fetched = this.fetched;\r\n      clone.error = this.error;\r\n      return clone;\r\n    },\r\n\r\n    isNew: function () {\r\n      return !this.has('id');\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return !!this.get('id');\r\n    },\r\n\r\n    getV2ParameterSource: function () {\r\n      var collection = this.collection;\r\n      // If the collection suports v2 REST API, use it directly\r\n      // as a URL query source\r\n      if (collection && collection.makeFieldsV2) {\r\n        return collection;\r\n      }\r\n      // Otherwise use a v2 node node model as a URL query source\r\n      // and include parameters from the v1 collection there\r\n      var node = this.clone();\r\n      if (collection) {\r\n        var additionalResources = collection._additionalResources;\r\n        if (additionalResources) {\r\n          node.includeResources(additionalResources);\r\n        }\r\n        var defaultActionCommands = collection.defaultActionCommands;\r\n        if (defaultActionCommands) {\r\n          node.setDefaultActionCommands(defaultActionCommands);\r\n        }\r\n        var commands = collection.includeCommands;\r\n        if (commands) {\r\n          node.setCommands(commands);\r\n        }\r\n        var expand = collection.expand;\r\n        if (expand) {\r\n          node.setExpand(v1tov2.includeExpandsV1toV2(expand));\r\n        }\r\n      }\r\n      return node;\r\n    },\r\n\r\n    set: function (key, val, options) {\r\n      var attrs;\r\n      if (key == null) {\r\n        return this;\r\n      }\r\n\r\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\r\n      if (typeof key === 'object') {\r\n        attrs = key;\r\n        options = val;\r\n      } else {\r\n        (attrs = {})[key] = val;\r\n      }\r\n\r\n      options || (options = {});\r\n      // Using 'skipSetValue' to skip \"sync\" call in case of rename for Grid-view\r\n      if (val && val.skipSetValue) {\r\n        return;\r\n      }\r\n\r\n      // TODO: Support sub-models and sub-collections in general\r\n      if (attrs.actions) {\r\n        this._setCollectionProperty('actions', ActionCollection, attrs, options);\r\n      }\r\n      if (attrs.addable_types) {\r\n        this._setCollectionProperty('addable_types', AddableTypesCollection, attrs,\r\n            options);\r\n      }\r\n      if (attrs.definitions) {\r\n        this._setCollectionProperty('definitions', NodeDefinition2Collection, attrs, options);\r\n      }\r\n      if (attrs.columns) {\r\n        this._setCollectionProperty('columns', NodeColumn2Collection, attrs, options);\r\n      }\r\n      if (attrs.original_id !== undefined) {\r\n        this._setNodeProperty('original', attrs, options);\r\n      }\r\n      if (attrs.parent_id !== undefined) {\r\n        this._setNodeProperty('parent', attrs, options);\r\n      }\r\n      if (attrs.volume_id !== undefined) {\r\n        this._setNodeProperty('volume', attrs, options);\r\n      }\r\n\r\n      // do the usual set\r\n      return Backbone.Model.prototype.set.call(this, attrs, options);\r\n    },\r\n\r\n    _setCollectionProperty: function (attribute, Class, attributes, options) {\r\n      var property   = _.str.camelize(attribute),\r\n          models     = attributes[attribute],\r\n          collection = this[property];\r\n      if (collection) {\r\n        collection.reset(models);\r\n      } else {\r\n        this[property] = new Class(models, {\r\n          // When this.set is called from the Backbome.Model constructor,\r\n          // the current node hasn't been conected yet.  Sub-nodes would\r\n          // be disconnected, if just this.connector would be used.  The\r\n          // connector may be in the constructor options, if the caller\r\n          // wanted to connect the node right away.\r\n          connector: this.connector || options && options.connector\r\n        });\r\n      }\r\n    },\r\n\r\n    _setNodeProperty: function (name, source, options) {\r\n      // v1 expands the _id property directly, v2 adds an additional\r\n      // one _id_expand\r\n      var value = source[name + '_id_expand'] || source[name + '_id'];\r\n      // If the property was not expanded, initialize the model just\r\n      // with the object identifier\r\n      if (value && !_.isObject(value)) {\r\n        value = {id: value};\r\n      }\r\n      if (_.isObject(value)) {\r\n        if (this[name]) {\r\n          this[name].set(value);\r\n        } else {\r\n          this[name] = new NodeModel(value, {\r\n            // When this.set is called from the Backbome.Model constructor,\r\n            // the current node hasn't been conected yet.  Sub-nodes would\r\n            // be disconnected, if just this.connector would be used.  The\r\n            // connector may be in the constructor options, if the caller\r\n            // wanted to connect the node right away.\r\n            connector: this.connector || options && options.connector\r\n          });\r\n        }\r\n      } else {\r\n        delete this[name];\r\n      }\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      var parameterSource = this.getV2ParameterSource();\r\n      return _.deepClone({\r\n        fields: _.isEmpty(this.fields) ? parameterSource.fields : this.fields,\r\n        expand: _.isEmpty(this.expand) ? parameterSource.expand : this.expand,\r\n        includeResources: _.isEmpty(this._additionalResources) ?\r\n                          parameterSource._additionalResources :\r\n                          this._additionalResources,\r\n        commands: _.isEmpty(this.commands) ? parameterSource.commands : this.commands,\r\n        defaultActionCommands: this.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n      this.resetDefaultActionCommands();\r\n      scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n    },\r\n\r\n    toString: function () {\r\n      // Format a string for logging purposes\r\n      var id = this.get('id');\r\n      if (id === 'volume') {\r\n        return 'volume:' + this.get('type');\r\n      } else if (id != null) {\r\n        return 'node:' + id;\r\n      }\r\n      return 'node:invalid';\r\n    }\r\n  }, {\r\n    usesIntegerId: config.usesIntegerId\r\n  });\r\n\r\n  AdditionalResourcesV2Mixin.mixin(NodeModel.prototype);\r\n  FieldsV2Mixin.mixin(NodeModel.prototype);\r\n  ExpandableV2Mixin.mixin(NodeModel.prototype);\r\n  DelayedCommandableV2Mixin.mixin(NodeModel.prototype);\r\n  UploadableMixin.mixin(NodeModel.prototype);\r\n  ResourceMixin.mixin(NodeModel.prototype);\r\n  ServerAdaptorMixin.mixin(NodeModel.prototype);\r\n\r\n  var originalFetch = NodeModel.prototype.fetch;\r\n  NodeModel.prototype.fetch = function (options) {\r\n    options || (options = {});\r\n\r\n    // If not overridden, Use the v2 URL for GET requests.\r\n    // If not overridden and the target collection has been specified,\r\n    // let the url method use its data-limiting parameters.\r\n    if (!options.url) {\r\n      var originalCollection = this.collection,\r\n          newCollection      = options.collection;\r\n      if (newCollection) {\r\n        this.collection = newCollection;\r\n      }\r\n      var url = _.result(this, 'url');\r\n      if (newCollection) {\r\n        this.collection = originalCollection;\r\n      }\r\n      if (url.indexOf('/volumes') < 0) {\r\n        url = url.replace('/api/v1/', '/api/v2/');\r\n      }\r\n      options.url = url;\r\n    }\r\n\r\n    return originalFetch.call(this, options);\r\n  };\r\n\r\n  return NodeModel;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/favorite2.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      var superParseMethod = prototype.parse;\r\n      var superSyncMethod = prototype.sync;\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          if (response.results) {\r\n            response = response.results;\r\n          }\r\n          if (_.isEmpty(response)) {\r\n            return {};\r\n          } else {\r\n            if (options.attrs) {\r\n              var updatedAttributes = {};\r\n              _.each(_.keys(options.attrs), function (attr) {\r\n                updatedAttributes['favorite_' + attr] = options.attrs[attr];\r\n              }, this);\r\n              return updatedAttributes;\r\n            } else {\r\n              if (response.data && response.data.properties && response.data.favorites) {\r\n                response.data.properties.favorite_name = response.data.favorites.name;\r\n                response.data.properties.favorite_tab_id = response.data.favorites.tab_id;\r\n              }\r\n\r\n              var m = superParseMethod.call(this, response);\r\n\r\n              if (m.actions) {\r\n                m.actions = _.reject(m.actions,\r\n                  function (action) {\r\n                    return action.signature == 'rename' || action.signature == 'delete';\r\n                  });\r\n                m.actions.push({signature: 'favorite_rename'});\r\n\r\n                // console.log(\"NODE ACTIONS\");\r\n                // _.each(m.actions, function(a) {\r\n                //   console.log(a.signature);\r\n                // });\r\n              }\r\n              return m;\r\n            }\r\n          }\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          var useFavoritesUrl = false;\r\n          if (method === 'update' || method === 'patch') {\r\n\r\n            // if attr key starts with 'favorite_' do the update on the /members/favorites url but\r\n            // remove the prefix to have the original attribute-name from the favorite model\r\n            // otherwise, just pass the attribute-to-update as it is and use the url from he\r\n            // original node model\r\n            var prefix = 'favorite_';\r\n            var attributesToUpdate = {};\r\n            _.each(_.keys(options.attrs), function (k) {\r\n              var newKey = k;\r\n              if (k.indexOf(prefix) === 0) {\r\n                useFavoritesUrl = true;\r\n                newKey = k.substr(prefix.length);\r\n              }\r\n              attributesToUpdate[newKey] = options.attrs[k];\r\n            });\r\n            options.attrs = attributesToUpdate;\r\n            if (useFavoritesUrl) {\r\n              var url = this.connector.connection.url.replace('/v1', '/v2');\r\n              url = Url.combine(url, '/members/favorites');\r\n              url = Url.combine(url, model.id);\r\n\r\n              options.url = url;\r\n            }\r\n          }\r\n          return superSyncMethod.call(this, method, model, options);\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/favorite2',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url', 'csui/models/node/node.model',\r\n  'csui/models/server.adaptors/favorite2.mixin', 'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, NodeModel, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var Favorite2Model = NodeModel.extend({\r\n\r\n    mustRefreshAfterPut: false,\r\n\r\n    idAttribute: 'id',\r\n\r\n    constructor: function Favorite2Model(attributes, options) {\r\n      NodeModel.prototype.constructor.apply(this, arguments);\r\n      this.makeServerAdaptor(options);\r\n    }\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(Favorite2Model.prototype);\r\n\r\n  return Favorite2Model;\r\n});\r\n\n","csui.define('csui/models/browsable/browsable.mixin',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url'\r\n], function (_, Backbone, Url) {\r\n\r\n  var BrowsableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeBrowsable: function (options) {\r\n          options || (options = {});\r\n          this.skipCount = options.skip || 0;\r\n          this.topCount = options.top || 0;\r\n          this.filters = options.filter || {};\r\n          this.orderBy = options.orderBy;\r\n          return this;\r\n        },\r\n\r\n        setFilter: function (value, attributes, options) {\r\n          // TODO: Simplify filer merging and detection of changes.\r\n          var filter = value,\r\n              name, modified;\r\n          if (_.isObject(value) && !_.isArray(value)) {\r\n            options = attributes;\r\n          } else {\r\n            filter = {};\r\n            filter[attributes] = value;\r\n          }\r\n          if (typeof options !== 'object') {\r\n            options = {fetch: options};\r\n          }\r\n          if (!_.isEmpty(filter)) {\r\n            for (name in filter) {\r\n              if (_.has(filter, name)) {\r\n                value = filter[name];\r\n                if (makeFilterValue(this.filters[name], name) !==\r\n                    makeFilterValue(value, name)) {\r\n                  if (value !== undefined) {\r\n                    this.filters[name] = value;\r\n                  }\r\n                  else {\r\n                    delete this.filters[name];\r\n                  }\r\n                  modified = true;\r\n                }\r\n              }\r\n            }\r\n            if (options.clear) {\r\n              for (name in this.filters) {\r\n                if (_.has(this.filters, name) && !_.has(filter, name)) {\r\n                  if (makeFilterValue(this.filters[name], name) !== undefined) {\r\n                    delete this.filters[name];\r\n                    modified = true;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (modified) {\r\n              if (options.fetch !== false) {\r\n                this.fetch();\r\n              }\r\n              return true;\r\n            }\r\n          } else {\r\n            if (options.clear) {\r\n              return this.clearFilter(options.fetch);\r\n            }\r\n          }\r\n        },\r\n\r\n        clearFilter: function (fetch) {\r\n          var modified;\r\n          if (!_.isEmpty(this.filters)) {\r\n            for (var name in this.filters) {\r\n              if (_.has(this.filters, name)) {\r\n                if (makeFilterValue(this.filters[name], name) !== undefined) {\r\n                  delete this.filters[name];\r\n                  modified = true;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          if (modified) {\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        setOrder: function (attributes, fetch) {\r\n          if (this.orderBy != attributes) {\r\n            this.orderBy = attributes;\r\n            if (fetch !== false) {\r\n              this.fetch({skipSort: false});\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        resetOrder: function (fetch) {\r\n          if (this.orderBy) {\r\n            this.orderBy = undefined;\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        setSkip: function (skip, fetch) {\r\n          if (this.skipCount != skip) {\r\n            this.skipCount = skip;\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        setTop: function (top, fetch) {\r\n          if (this.topCount != top) {\r\n            this.topCount = top;\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        setLimit: function (skip, top, fetch) {\r\n          if (this.skipCount != skip || this.topCount != top) {\r\n            this.skipCount = skip;\r\n            this.topCount = top;\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        resetLimit: function (fetch) {\r\n          if (this.skipCount) {\r\n            this.skipCount = 0;\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  function makeFilterValue(value, name) {\r\n    if (value !== undefined && value !== null && value !== '') {\r\n      if (_.isArray(value)) {\r\n        value = Url.makeMultivalueParameter('where_' + name, value);\r\n      } else {\r\n        value = 'where_' + name + '=' + encodeURIComponent(value.toString());\r\n      }\r\n      if (value.length > 0) {\r\n        return value;\r\n      }\r\n    }\r\n  }\r\n\r\n  return BrowsableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/browsable/client-side.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/base',\r\n  'csui/models/browsable/browsable.mixin'\r\n], function (_, $, Backbone, base, BrowsableMixin) {\r\n\r\n  var ClientSideBrowsableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      BrowsableMixin.mixin(prototype);\r\n\r\n      var originalFetch = prototype.fetch;\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeClientSideBrowsable: function (options) {\r\n          this.listenTo(this, 'add', this._modelAdded)\r\n              .listenTo(this, 'remove', this._modelRemoved)\r\n              .listenTo(this, 'reset', this._modelsReset);\r\n\r\n          if (!this.allModels) {\r\n            this.allModels = [];\r\n          }\r\n          this._filling = 0;\r\n\r\n          return this.makeBrowsable(options);\r\n        },\r\n\r\n        setOrderOnRequest: function (arg) {\r\n          this.orderOnRequest = arg;\r\n        },\r\n\r\n        getBrowsableUrlQuery: function () {\r\n          var query = {};\r\n\r\n          if (this.orderBy && this.orderOnRequest) {\r\n            var first = this.orderBy.split(',')[0].split(' ');\r\n            query.sort = (first[1] || 'asc') + '_' + first[0];\r\n          }\r\n          return $.param(query);\r\n        },\r\n\r\n        fetch: function (options) {\r\n          options = options ? _.clone(options) : {};\r\n          _.defaults(options, {skipSort: this.orderOnRequest});\r\n\r\n          var self = this;\r\n          var partialResponse;\r\n          if (!options.reload && this.lastFilteredAndSortedModels !== undefined) {\r\n            this.trigger('request', this, {}, options);\r\n            // Make the rest of the client side fetch async to behave like real ajax call\r\n            var deferred = $.Deferred();\r\n            setTimeout(function () {\r\n              partialResponse = self._fill(options);\r\n              self._notify(partialResponse, options);\r\n              deferred.resolve(partialResponse);\r\n            }, 0);\r\n            return deferred.promise();\r\n          }\r\n\r\n          var originalSilent = options.silent,\r\n              originalReset  = options.reset;\r\n          options.silent = true;\r\n          options.reset = true;\r\n\r\n          var originalSuccess = options.success,\r\n              originalError   = options.error;\r\n          options.success = function (collection, response, options) {\r\n            self.allModels = _.clone(self.models);\r\n            var originalParse = options.parse;\r\n            options.parse = false;\r\n            self.reset([], options);\r\n            if (originalSilent !== undefined) {\r\n              options.silent = originalSilent;\r\n            } else {\r\n              delete options.silent;\r\n            }\r\n            if (originalReset !== undefined) {\r\n              options.reset = originalReset;\r\n            } else {\r\n              delete options.reset;\r\n            }\r\n            partialResponse = self._fill(options);\r\n            --self._filling;\r\n            if (originalParse !== undefined) {\r\n              options.parse = originalParse;\r\n            } else {\r\n              delete options.parse;\r\n            }\r\n            options.success = originalSuccess;\r\n            if (originalSuccess) {\r\n              originalSuccess.call(options.context, collection, response, options);\r\n            }\r\n          };\r\n          options.error = function (collection, response, options) {\r\n            --self._filling;\r\n            if (originalError) {\r\n              originalError.call(options.context, collection, response, options);\r\n            }\r\n          };\r\n\r\n          ++this._filling;\r\n          this.lastFilteredAndSortedModels = undefined;\r\n          this._lastFilterAndSortCriteria = undefined;\r\n          var pr =  originalFetch.call(this, options).then(function () {\r\n            return partialResponse;\r\n          });\r\n          return pr;\r\n        },\r\n\r\n        populate: function (models, options) {\r\n          options = _.extend({parse: true}, options);\r\n          var originalSilent = options.silent,\r\n              originalReset  = options.reset;\r\n          options.silent = true;\r\n          options.reset = true;\r\n          options.skipSort = this.orderOnRequest;\r\n\r\n          ++this._filling;\r\n\r\n          this.lastFilteredAndSortedModels = [];\r\n          this._lastFilterAndSortCriteria = undefined;\r\n          // Reset the filtering, sorting and paging parameters\r\n          this.skipCount = 0;\r\n          // this.topCount = 0;\r\n          this.filters = {};\r\n          this.orderBy = undefined;\r\n          this.reset(models, options);\r\n          this.allModels = _.clone(this.models);\r\n          var originalParse = options.parse;\r\n          options.parse = false;\r\n          this.reset([], options);\r\n          this.trigger('request', this, {}, options);\r\n          options.silent = originalSilent;\r\n          if (this.allModels.length === 0) {\r\n            options.reset = true;\r\n          } else {\r\n            options.reset = originalReset;\r\n          }\r\n          var deferred = $.Deferred();\r\n          var self = this;\r\n          setTimeout(function () {\r\n            self.fetched = true; // this prevents the table from doing a collection.fetch\r\n            var partialResponse = self._fill(options);\r\n            --self._filling;\r\n            options.parse = originalParse;\r\n            self._notify(partialResponse, options);\r\n            deferred.resolve(partialResponse);\r\n          });\r\n          return deferred.promise();\r\n        },\r\n\r\n        // Set the allModels without doing a fetch or reset\r\n        setAllModels: function (models) {\r\n          // make the collection empty\r\n          var options = {};\r\n          options.parse = false;\r\n          var topCount = this.topCount;\r\n          this.reset([], options);\r\n          this.topCount = topCount; // topCount gets lost in reset...\r\n\r\n          this.allModels = _.clone(models);\r\n          this.totalCount = this.allModels.length;\r\n          // Mark this collection as \"fetched\" the actual content will be\r\n          // populated first, when it is needed for the fetch method\r\n          this.lastFilteredAndSortedModels = [];\r\n          this._lastFilterAndSortCriteria = undefined;\r\n          // Reset the filtering, sorting and paging parameters\r\n          this.skipCount = 0;\r\n          // this.topCount = 0;\r\n          this.filters = {};\r\n          this.orderBy = undefined;\r\n        },\r\n\r\n        compareObjectsForSort: function (property, left, right) {\r\n          left = this._parseValue(property, left.get(property));\r\n          right = this._parseValue(property, right.get(property));\r\n          return this._compareValues(property, left, right);\r\n        },\r\n\r\n        _fill: function (options) {\r\n          var filterAndSortCriteria = {\r\n                orderBy: this.orderBy,\r\n                filters: _.clone(this.filters)\r\n              },\r\n              models;\r\n          if (this._lastFilterAndSortCriteria &&\r\n              _.isEqual(this._lastFilterAndSortCriteria, filterAndSortCriteria)) {\r\n            models = this.lastFilteredAndSortedModels;\r\n          } else {\r\n            models = _.clone(this.allModels);\r\n            models = this._filter(models);\r\n            models = options.skipSort ? models : this._sort(models);\r\n            this.lastFilteredAndSortedModels = models;\r\n            this._lastFilterAndSortCriteria = filterAndSortCriteria;\r\n          }\r\n          this.totalCount = this.allModels.length;\r\n          this.filteredCount = models.length;\r\n          models = this._limit(models);\r\n\r\n          var method = options.reset ? 'reset' : 'set';\r\n          // Prevent the 'add' and 'reset' event handlers triggered by\r\n          // filling models from allModels here modify allModels again\r\n          ++this._filling;\r\n          this[method](models, options);\r\n          --this._filling;\r\n\r\n          return models;\r\n        },\r\n\r\n        _notify: function (response, options) {\r\n          if (options.success) {\r\n            options.success.call(options.context, this, response, options);\r\n          }\r\n          this.trigger('sync', this, response, options);\r\n        },\r\n\r\n        _limit: function (models) {\r\n          if (this.skipCount) {\r\n            this.actualSkipCount = Math.min(this.skipCount, models.length);\r\n            models = models.slice(this.skipCount);\r\n          } else {\r\n            this.actualSkipCount = 0;\r\n          }\r\n          if (this.topCount) {\r\n            models = models.slice(0, this.topCount);\r\n          }\r\n          return models;\r\n        },\r\n\r\n        _sort: function (models) {\r\n          var self = this;\r\n          if (this.orderBy) {\r\n            var criteria = _.map(this.orderBy.split(','), function (criterion) {\r\n              var parts = criterion.trim().split(' ');\r\n              return {\r\n                property: parts[0],\r\n                descending: parts[1] === 'desc'\r\n              };\r\n            });\r\n\r\n            models = models.sort(function (left, right) {\r\n              var result = 0;\r\n              _.find(criteria, function (criterion) {\r\n                result = self.compareObjectsForSort(criterion.property, left, right);\r\n                if (result) {\r\n                  if (criterion.descending) {\r\n                    result *= -1;\r\n                  }\r\n                  return true;\r\n                }\r\n              });\r\n              return result;\r\n            });\r\n          }\r\n          return models;\r\n        },\r\n\r\n        _filter: function (models) {\r\n          var self = this;\r\n          for (var name in this.filters) {\r\n            if (_.has(this.filters, name)) {\r\n              var values = this.filters[name];\r\n              if (values != null && values !== '') {\r\n                _.isArray(values) || (values = [values]);\r\n                models = _.filter(models, function (node) {\r\n                  var hay = self._parseValue(name, node.get(name));\r\n                  return _.any(values, function (value) {\r\n                    var needle = self._parseValue(name, value);\r\n                    if (name === 'type' && needle == -1) {\r\n                      return node.get('container');\r\n                    }\r\n                    return self._containsValue(name, hay, needle);\r\n                  });\r\n                });\r\n              }\r\n            }\r\n          }\r\n          return models;\r\n        },\r\n\r\n        _modelAdded: function (model, collection, options) {\r\n          if (this._populate(options)) {\r\n            this.allModels.push(model);\r\n            ++this.totalCount;\r\n            this._lastFilterAndSortCriteria = undefined;\r\n          }\r\n        },\r\n\r\n        _modelRemoved: function (model, collection, options) {\r\n          if (this._populate(options)) {\r\n            var index = _.findIndex(this.allModels, model);\r\n            if (index >= 0) {\r\n              this.allModels.splice(index, 1);\r\n              --this.totalCount;\r\n              this._lastFilterAndSortCriteria = undefined;\r\n            }\r\n          }\r\n        },\r\n\r\n        _modelsReset: function (collection, options) {\r\n          if (this._populate(options)) {\r\n            this.allModels = _.clone(this.models);\r\n            this.totalCount = this.allModels.length;\r\n            // Mark this collection as \"fetched\" the actual content will be\r\n            // populated first, when it is needed for the fetch method\r\n            this.lastFilteredAndSortedModels = [];\r\n            this._lastFilterAndSortCriteria = undefined;\r\n            // Reset the filtering, sorting and paging parameters\r\n            this.skipCount = this.topCount = 0;\r\n            this.filters = {};\r\n            this.orderBy = undefined;\r\n          }\r\n        },\r\n\r\n        _populate: function (options) {\r\n          return !(this._filling || options && options.populate === false);\r\n        },\r\n\r\n        _compareValues: function (property, left, right) {\r\n          //STRING Comparision.\r\n          if (typeof left === 'string' && typeof right === 'string') {\r\n            // FIXME: Implement the locale-specific comparison only for localizable strings;\r\n            // not for values with internal system constants, which can be case-sensitive\r\n            return base.localeCompareString(left, right, {usage: 'sort'});\r\n          } else if (_.isArray(left) || _.isArray(right)) { //ARRAY Comparision.\r\n            if (!_.isArray(left)) {\r\n              left = [left];\r\n            } else if (!_.isArray(right)) {\r\n              right = [right];\r\n            }\r\n            return this._compareArrays(left, right);\r\n          }\r\n          return this._compareObjects(left, right); //OBJECT Comparision.\r\n        },\r\n\t\t\r\n        _compareObjects: function (left, right) {\r\n          if (left != right) {\r\n            if (left > right || right === void 0) {\r\n              return 1;\r\n            }\r\n            if (left < right || left === void 0) {\r\n              return -1;\r\n            }\r\n          }\r\n          return 0;\r\n        },\r\n\r\n        _compareArrays: function (left, right) {\r\n          var result = 0,\r\n            len = Math.min(left.length, right.length),\r\n            i=0;\r\n          while(i <= len) {\r\n            if (i === left.length && i === right.length) {\r\n              result = 0;\r\n              break;\r\n            } else if (i === left.length) {\r\n              result = -1;\r\n              break;\r\n            } else if (i === right.length) {\r\n              result = 1;\r\n              break;\r\n            } else {\r\n              if (typeof left[i] === 'string' && typeof right[i] === 'string') {\r\n                result = base.localeCompareString(left[i], right[i], {usage: 'sort'});\r\n              } else {\r\n                result = this._compareObjects(left[i], right[i]);\r\n              }\r\n              if (result !== 0) {\r\n                break;\r\n              }\r\n            }\r\n            i++;\r\n          }\r\n          return result;\r\n        },\r\n\t\t\r\n        _containsValue: function (property, hay, needle) {\r\n          if (typeof hay === 'string' && typeof needle === 'string') {\r\n            // FIXME: Implement the locale-specific comparison only for localizable strings;\r\n            // not for values with internal system constants, which can be case-sensitive\r\n            return base.localeContainsString(hay, needle.toString());\r\n          } else if (_.isArray(hay) && typeof needle === 'string') {\r\n            return _.some(hay, function (blade) {\r\n              if (typeof blade === 'string') {\r\n                return base.localeContainsString(blade, needle.toString());\r\n              } else {\r\n                return blade == needle;\r\n              }\r\n            });\r\n          }\r\n\r\n\r\n          return hay == needle;\r\n        },\r\n\r\n        // FIXME: Use metadata to get the correct value type for parsing\r\n        _parseValue: function (property, value) {\r\n          if (value != null) {\r\n            if (property === 'type') {\r\n              return +value;\r\n            }\r\n            if (property.indexOf('date') >= 0) {\r\n              if (_.isArray(value)) {\r\n                return value.map(function(val) {\r\n                  return  new Date(val);\r\n                });\r\n              } else {\r\n                return new Date(value);\r\n              }\r\n            }\r\n          }\r\n          return value;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ClientSideBrowsableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/browsable/v2.response.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  'use strict';\r\n\r\n  var BrowsableV2ResponseMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeBrowsableV2Response: function (options) {\r\n          this.orderBy = options.orderBy;\r\n          return this;\r\n        },\r\n\r\n        parseBrowsedState: function (response, options) {\r\n          var collection = response.collection || response,\r\n              paging = collection.paging,\r\n              sorting = collection.sorting,\r\n              searching = collection.searching;\r\n          if (paging) {\r\n            this.actualSkipCount = (paging.page - 1) * (paging.limit || 0);\r\n            this.totalCount = paging.total_count;\r\n            this.filteredCount = paging.filtered_count || paging.total_count;\r\n          } else {\r\n            // Support limited v2 collections like favorites\r\n            this.actualSkipCount = 0;\r\n            this.filteredCount = this.totalCount = response.results.length;\r\n          }\r\n          if (sorting) {\r\n            this.sorting = sorting;\r\n          }\r\n          if (searching) {\r\n            this.searching = searching;\r\n          }\r\n        },\r\n\r\n        parseBrowsedItems: function (response, options) {\r\n          return response.results;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return BrowsableV2ResponseMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/models/impl/nls/root/lang',{\r\n  serverCallPrecheckFailedMissingConnector: 'Missing connector data for server call.',\r\n  serverCallPrecheckFailedModelIsNew: 'Model is new.',\r\n\r\n  fav_parent_id: 'Location',\r\n  fav_size: 'Size',\r\n  fav_ungrouped: 'Ungrouped'\r\n});\r\n\n","\n","csui.define('csui/models/favorite2column',['csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/url',\r\n  'i18n!csui/models/impl/nls/lang'\r\n], function (_, Backbone,\r\n    Url,\r\n    lang) {\r\n  'use strict';\r\n\r\n  var Favorite2ColumnModel = Backbone.Model.extend({\r\n\r\n    idAttribute: null,\r\n\r\n    constructor: function Favorite2ColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var columnKey = 'fav_' + attributes.column_key;\r\n        attributes.title = lang[columnKey];\r\n      }\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  return Favorite2ColumnModel;\r\n});\r\n\n","csui.define('csui/models/favorite2columns',['csui/lib/underscore', 'csui/lib/backbone', 'csui/models/favorite2column'\r\n], function (_, Backbone, Favorite2ColumnModel) {\r\n  'use strict';\r\n\r\n  var Favorite2ColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: Favorite2ColumnModel,\r\n\r\n    // Reset the collection.  For performance purpose and prevent UI table redraw, this\r\n    // method will not reset if the models is the same as the cached one.\r\n    resetCollection: function (models, options) {\r\n      if (this.cachedColumns && _.isEqual(models, this.cachedColumns)) {\r\n        return;\r\n      }\r\n      // Make a clone of the model array for the cache to let it be equal even if attributes are\r\n      // added to objects of the array\r\n      this.cachedColumns = _.map(models, function (model) {\r\n        return _.clone(model);\r\n      });\r\n\r\n      this.reset(models, options);\r\n      this.fetched = true;\r\n    },\r\n\r\n    resetFavoritesCollection: function (response, options) {\r\n      var models;\r\n      if (response && response.columns && response.columns instanceof Array) {\r\n        // columns from server\r\n        models = _.map(response.columns, function (column) {\r\n          return new Favorite2ColumnModel(column);\r\n        });\r\n      } else {\r\n        // client-side columns\r\n        models = [\r\n          new Favorite2ColumnModel({\r\n            \"default_action\": true,\r\n            \"column_key\": \"type\",\r\n            \"key_value_pairs\": false,\r\n            \"max_value\": null,\r\n            \"min_value\": null,\r\n            \"multi_value\": false,\r\n            \"name\": \"Type\",\r\n            \"required\": false,\r\n            \"type\": 2,\r\n            \"type_name\": \"Integer\"\r\n          }),\r\n          new Favorite2ColumnModel({\r\n            \"default_action\": true,\r\n            \"column_key\": \"favorite_name\",\r\n            \"max_length\": null,\r\n            \"min_length\": null,\r\n            \"multi_value\": false,\r\n            \"multiline\": false,\r\n            \"multilingual\": false,\r\n            \"name\": \"Name\",\r\n            \"password\": false,\r\n            \"required\": false,\r\n            \"type\": -1,\r\n            \"type_name\": \"String\"\r\n          }),\r\n          new Favorite2ColumnModel({\r\n            \"column_key\": \"reserved\",\r\n            \"key_value_pairs\": false,\r\n            \"multi_value\": false,\r\n            \"name\": \"Reserved\",\r\n            \"required\": false,\r\n            \"type\": 5,\r\n            \"type_name\": \"Boolean\"\r\n          }),\r\n          new Favorite2ColumnModel({\r\n            \"column_key\": \"parent_id\",\r\n            \"key_value_pairs\": false,\r\n            \"max_value\": null,\r\n            \"min_value\": null,\r\n            \"multi_value\": false,\r\n            \"name\": \"Parent ID\",\r\n            \"required\": false,\r\n            \"type\": 2,\r\n            \"type_name\": \"Integer\"\r\n          }),\r\n          new Favorite2ColumnModel({\r\n            \"column_key\": \"favorite\",\r\n            \"key_value_pairs\": false,\r\n            \"multi_value\": false,\r\n            \"name\": \"Favorite\",\r\n            \"required\": false,\r\n            \"type\": 5,\r\n            \"type_name\": \"Boolean\"\r\n          })\r\n        ];\r\n      }\r\n\r\n      this.resetCollection(models, options);\r\n    }\r\n\r\n  });\r\n\r\n  return Favorite2ColumnCollection;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/favorites2.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          // this.setExpand('favorites', 'tab_id');\r\n          var url   = this.connector.connection.url.replace('/v1', '/v2'),\r\n            query = Url.combineQueryString(\r\n              this.getAdditionalResourcesUrlQuery(),\r\n              this.getResourceFieldsUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getRequestedCommandsUrlQuery(),\r\n              this.getSortByOrderUrlQuery()\r\n            );\r\n          url = Url.combine(url, '/members/favorites');\r\n          return query ? url + '?' + query : url;\r\n        },\r\n\r\n        getSortByOrderUrlQuery: function () {\r\n          return {sort: 'order'};\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          this.parseBrowsedState({results: response}, options);\r\n          this.columns && this.columns.resetFavoritesCollection(response, this.options);\r\n          return this.parseBrowsedItems(response, options);\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/favorites2',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url', 'csui/utils/base',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin',\r\n  'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/favorite2',\r\n  'csui/models/favorite2columns',\r\n  'csui/models/server.adaptors/favorites2.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, base,\r\n    ConnectableMixin,\r\n    FetchableMixin,\r\n    AdditionalResourcesV2Mixin,\r\n    FieldsV2Mixin,\r\n    ExpandableV2Mixin,\r\n    CommandableV2Mixin,\r\n    ClientSideBrowsableMixin,\r\n    BrowsableV2ResponseMixin,\r\n    DelayedCommandableV2Mixin,\r\n    Favorite2Model,\r\n    Favorite2ColumnCollection,\r\n    ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var Favorite2Collection = Backbone.Collection.extend({\r\n\r\n    model: Favorite2Model,\r\n\r\n    constructor: function Favorite2Collection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.callCounter = 0;\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand', 'commands']);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeCommandableV2(options)\r\n          .makeClientSideBrowsable(options)\r\n          .makeBrowsableV2Response(options)\r\n          .makeDelayedCommandableV2(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      this.columns = new Favorite2ColumnCollection(options.columns);\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        fields: _.deepClone(this.fields),\r\n        expand: _.deepClone(this.expand),\r\n        includeResources: _.clone(this._additionalResources),\r\n        skip: this.skipCount,\r\n        top: this.topCount,\r\n        filter: _.deepClone(this.filters),\r\n        orderBy: this.orderBy,\r\n        commands: _.clone(this.commands),\r\n        defaultActionCommands: _.clone(this.defaultActionCommands),\r\n        delayRestCommands: this.delayRestCommands\r\n      });\r\n\r\n      // Clone sub-models not covered by Backbone\r\n      if (this.columns) {\r\n        clone.columns.reset(this.columns.toJSON());\r\n      }\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      return clone;\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands,\r\n        defaultActionCommands: this.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n      this.resetDefaultActionCommands();\r\n      scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n    }\r\n\r\n  });\r\n\r\n  ClientSideBrowsableMixin.mixin(Favorite2Collection.prototype);\r\n  BrowsableV2ResponseMixin.mixin(Favorite2Collection.prototype);\r\n  ConnectableMixin.mixin(Favorite2Collection.prototype);\r\n  FetchableMixin.mixin(Favorite2Collection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(Favorite2Collection.prototype);\r\n  FieldsV2Mixin.mixin(Favorite2Collection.prototype);\r\n  ExpandableV2Mixin.mixin(Favorite2Collection.prototype);\r\n  CommandableV2Mixin.mixin(Favorite2Collection.prototype);\r\n  DelayedCommandableV2Mixin.mixin(Favorite2Collection.prototype);\r\n  ServerAdaptorMixin.mixin(Favorite2Collection.prototype);\r\n\r\n  return Favorite2Collection;\r\n\r\n});\r\n\n","csui.define('csui/models/favorite2group',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/favorites2', 'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, ResourceMixin, UploadableMixin,\r\n   Favorite2Collection) {\r\n  'use strict';\r\n\r\n  var Favorite2GroupModel = Backbone.Model.extend({\r\n    mustRefreshAfterPut: false,\r\n\r\n    idAttribute: 'tab_id',\r\n\r\n    constructor: function Favorite2GroupModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options);\r\n      this.makeUploadable(options);\r\n\r\n      // initialize favorites of this group with provided favorites and columns\r\n      attributes || (attributes = {});\r\n\r\n      this.favorites = new Favorite2Collection(attributes.favorites, {\r\n        connector: options.connector,\r\n        autoreset: true,\r\n        tab_id: this.get('tab_id'),\r\n        columns: attributes.favorite_columns,\r\n        commands: options && options.commands\r\n      });\r\n    },\r\n\r\n    urlRoot: function () {\r\n      var v2Url = this.connector.connection.url.replace('/v1', '/v2');\r\n      var url = Url.combine(v2Url, \"/members/favorites/tabs/\");\r\n      return url;\r\n    },\r\n\r\n    parse: function (resp, options) {\r\n      if (resp.results && resp.results.data) {\r\n        return {tab_id: resp.results.data.tab_id};\r\n      } else {\r\n        return resp;\r\n      }\r\n    }\r\n  });\r\n\r\n  ResourceMixin.mixin(Favorite2GroupModel.prototype);\r\n  UploadableMixin.mixin(Favorite2GroupModel.prototype);\r\n\r\n  return Favorite2GroupModel;\r\n});\r\n\n","csui.define('csui/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery'\r\n], function (_, $) {\r\n  'use strict';\r\n\r\n  var SyncableFromMultipleSources = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeSyncableFromMultipleSources: function (options) {\r\n          return this;\r\n        },\r\n\r\n        syncFromMultipleSources: function (promises, mergeSources,\r\n            convertError, options) {\r\n          // Convert $.ajax rejected value by default\r\n          function convertAjaxError(result) {\r\n            return Array.isArray(result) ? result[0] : result;\r\n          }\r\n\r\n          // The convertError parameter is optional\r\n          if (options === undefined && typeof convertError === 'object') {\r\n            options = convertError;\r\n            convertError = convertAjaxError;\r\n          } else if (convertError == null) {\r\n            convertError = convertAjaxError;\r\n          }\r\n\r\n          var model = this,\r\n              // Pick only jQuery objects, which support the abort() method,\r\n              // from all promises.\r\n              abortables = promises.filter(function (promise) {\r\n                return promise.abort;\r\n              }),\r\n              deferred = $.Deferred(),\r\n              promise = deferred.promise();\r\n          // Propagate jQuery object aborting interface, if the promises\r\n          // come from $.ajax calls; add inject the abort() method.\r\n          if (abortables.length) {\r\n            promise.abort = function (statusText) {\r\n              statusText || (statusText = 'canceled');\r\n              abortables.forEach(function (promise) {\r\n                promise.abort(statusText);\r\n              });\r\n              return this;\r\n            };\r\n          }\r\n          // Implement Backbone event flow - 'request', callback,\r\n          // promise. (Populating the model and triggering 'sync' or\r\n          // 'error' events takes place in the fetch method.)\r\n          model.trigger('request', model, {}, options);\r\n          $.when.apply($, promises)\r\n           .done(function () {\r\n             var response = mergeSources.apply(model, arguments),\r\n                 success = options.success;\r\n             if (success) {\r\n               success.call(options.context, response, 'success', {});\r\n             }\r\n             deferred.resolve(response, 'success', {});\r\n           })\r\n           .fail(function () {\r\n             var object = convertError.apply(model, arguments),\r\n                 error = options.error;\r\n             if (error) {\r\n               error.call(options.context, object, 'error', object.statusText);\r\n             }\r\n             // Return only the first error for simplicity; the others\r\n             // will be logged by the connector, if they come from\r\n             // failing $.ajax calls.\r\n             deferred.reject.call(deferred, object, 'error', object.statusText);\r\n           });\r\n          return promise;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return SyncableFromMultipleSources;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/favorite2groups.mixin',[\r\n  'csui/lib/jquery', 'csui/lib/underscore', 'csui/utils/url', 'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Url, lang) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          if (method !== 'read') {\r\n            throw new Error('Only fetching groups with favorites is supported.');\r\n          }\r\n          var groups = $.ajax(this.connector.extendAjaxOptions({url: this.url()}))\r\n            .then(function (response) {\r\n              return response;\r\n            });\r\n\r\n          var favoritesCollection = this.favorites;\r\n          var favoritesFetchOptions = _.omit(options, ['success', 'error']);\r\n          var favorites = favoritesCollection.fetch(favoritesFetchOptions)\r\n            .then(function (response) {\r\n              return favoritesCollection; // need full object, including columns when merging\r\n            });\r\n\r\n          // Groups will be parsed by _createMergedResponse,\r\n          // favorites were parsed by Favorite2Collection.\r\n          options.parse = false;\r\n\r\n          return this.syncFromMultipleSources([groups, favorites], this._createMergedResponse, options);\r\n        },\r\n\r\n        _createMergedResponse: function (groups, favoritesCollection, options) {\r\n          var favorites = favoritesCollection.toJSON();\r\n          var columns = favoritesCollection.columns;\r\n          // add \"Unspecified group\"\r\n          groups.results.push({data: {name: lang.fav_ungrouped, order: -1, tab_id: -1}});\r\n          var merged = groups.results.map(function (group) {\r\n            group = group.data;\r\n\r\n            var tabId = group.tab_id;\r\n            group.favorites = favorites.filter(function (favorite) {\r\n              return favorite.favorite_tab_id === tabId || tabId === -1 && favorite.favorite_tab_id ===\r\n                null;\r\n            });\r\n            group.favorite_columns = columns.toJSON(); //\r\n            return group;\r\n          });\r\n\r\n          return merged;\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          return response;\r\n        },\r\n\r\n        url: function () {\r\n          // this.setExpand('favorites', 'tab_id');\r\n          var url = this.connector.connection.url.replace('/v1', '/v2'),\r\n            query = Url.combineQueryString(\r\n              this.getAdditionalResourcesUrlQuery(),\r\n              this.getResourceFieldsUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getSortByOrderUrlQuery()\r\n              // this.getRequestedCommandsUrlQuery()\r\n            );\r\n          url = Url.combine(url, '/members/favorites/tabs');\r\n          return query ? url + '?' + query : url;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/favorite2groups',['csui/lib/jquery',\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/utils/base',\r\n  'csui/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/favorite2group', 'csui/models/favorites2',\r\n  'csui/models/server.adaptors/favorite2groups.mixin',\r\n  'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Backbone, Url, base, ConnectableMixin, FetchableMixin,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, SyncableFromMultipleSources,\r\n    Favorite2GroupModel, Favorite2Collection, ServerAdaptorMixin, lang) {\r\n  'use strict';\r\n\r\n  var Favorite2GroupsCollection = Backbone.Collection.extend({\r\n    model: Favorite2GroupModel,\r\n\r\n    constructor: function Favorite2GroupsCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand' /*, 'commands'*/]);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      if (options) {\r\n        this.favorites = options.favorites;\r\n        this.commands = options.commands;\r\n      }\r\n      if (!this.favorites) {\r\n        this.favorites = new Favorite2Collection(undefined, {\r\n          connector: this.connector,\r\n          autoreset: true,\r\n          commands: this.commands\r\n        });\r\n      }\r\n      this.on('sync', this._setupEventPropagation, this);\r\n      this.on('add', this._propagateFavorite2CollectionOptions, this);\r\n      this.on('reset', function (groups, options) {\r\n        var self = this;\r\n        groups.each(function (group) {\r\n          self._propagateFavorite2CollectionOptions(group, groups, options);\r\n        });\r\n      }, this);\r\n    },\r\n\r\n    _fetch: function (options) {\r\n      options || (options = {});\r\n      options.originalSilent = options.silent;\r\n      // make this fetch silent, because another fetch is done at then reset\r\n      //  event is triggered\r\n      options.silent = true;\r\n\r\n      return this.originalFetch.call(this, options);\r\n    },\r\n\r\n    _prepareModel: function (attrs, options) {\r\n      options || (options = {});\r\n      options.commands = this.commands;\r\n      return Backbone.Collection.prototype._prepareModel.call(this, attrs, options);\r\n    },\r\n\r\n    _setupEventPropagation: function () {\r\n      var self = this;\r\n      this.each(function (group) {\r\n        group.favorites.listenTo(group.favorites, \"reset update\",\r\n            function (favoritesCollection, options) {\r\n              self.trigger('update', self, options);\r\n            });\r\n\r\n      }, this);\r\n    },\r\n\r\n    // Note: this.favorites is the collection that was used to set the resource scope and when group\r\n    // plus the favorites are being merged, reset is triggered for all groups, which then\r\n    // already have the favorites. Then the options get copied or cloned from the original\r\n    // collection to each favorite collection of each group.\r\n    // This is necessary, because if a model of those favorite collections is saved and fetched\r\n    // again, the options from the collection are used if not set at the single model. Otherwise\r\n    // a single favorite model would be fetched without commands, expands, etc.\r\n    _propagateFavorite2CollectionOptions: function (group, collection, options) {\r\n      group.favorites.setFilter(_.deepClone(this.favorites.filters), false);\r\n      group.favorites.setOrder(this.favorites.orderBy, false);\r\n      group.favorites.setExpand(_.deepClone(this.favorites.expand));\r\n      if (this.favorites.commands) {\r\n        group.favorites.setCommands(this.favorites.commands);\r\n      }\r\n    },\r\n\r\n    clone: function () {\r\n      var clone = new this.constructor(this.models, {\r\n        // node: this.node,\r\n        // skip: this.skipCount,\r\n        // top: this.topCount,\r\n        connector: this.connector,\r\n        filter: _.deepClone(this.filters),\r\n        orderBy: this.orderBy,\r\n        expand: _.clone(this.expand),\r\n        commands: _.clone(this.commands),\r\n        favorites: this.favorites.clone()\r\n      });\r\n\r\n      return clone;\r\n    },\r\n\r\n    getSortByOrderUrlQuery: function () {\r\n      return {sort: 'order'};\r\n    },\r\n\r\n    // private: reset the collection\r\n    resetCollection: function (models, options) {\r\n      this.reset(models, options);\r\n      this.fetched = true;\r\n    },\r\n\r\n    // todo: this should be a PUT to /members/favorites/tabs with the following hierarchical\r\n    // structure (and it should be moved to the favorites2groups model):\r\n\r\n    // var tabs = [\r\n    //   {\r\n    //     name: \"first group\",\r\n    //     favorites: [\r\n    //       {\r\n    //         name: \"Document for review\",\r\n    //         size: 20099790,\r\n    //         favorite_name: \"Favorite of Document for review\"\r\n    //         // more attributes follow ...\r\n    //       },\r\n    //       {\r\n    //         name: \"Specification\",\r\n    //         size: 98898690,\r\n    //         favorite_name: \"Pump Specification\"\r\n    //         // more attributes follow ...\r\n    //       }\r\n    //     ]\r\n    //   },\r\n    //   {\r\n    //     name: \"second group\",\r\n    //     favorites: [\r\n    //       {\r\n    //         name: \"My Presentation\",\r\n    //         size: 987078,\r\n    //         favorite_name: \"The Presentation for all Managers\"\r\n    //         // more attributes follow ...\r\n    //       }\r\n    //     ]\r\n    //   }\r\n    // ];\r\n\r\n    saveAll: function () {\r\n      var self = this;\r\n      var tabs = this.map(function (group) {\r\n        var groupName;\r\n        var groupId = group.get('tab_id');\r\n        if (groupId == -1) {\r\n          groupName = null; // the ungrouped group has no name\r\n        } else {\r\n          groupName = group.get('name');\r\n        }\r\n        return {\r\n          name: groupName, tab_id: groupId, favorites: group.favorites.map(function (favorite) {\r\n            return {\r\n              id: favorite.get('id'),\r\n              name: favorite.get('favorite_name')\r\n            };\r\n          })\r\n        };\r\n      });\r\n\r\n      // this makes a formdata request\r\n      var putUrl = this.connector.connection.url.replace('/v1', '/v2');\r\n      putUrl = Url.combine(putUrl, '/csui/favorites');\r\n\r\n      // callCounter is for detecting parallel REST calls and to use only response from latest\r\n      this.callCounter++;\r\n\r\n      var options = {\r\n        type: 'PUT',\r\n        url: putUrl,\r\n        data: {body: JSON.stringify(tabs)},\r\n        beforeSend: function (request, settings) {\r\n          request.counter = self.callCounter;\r\n        }\r\n      };\r\n      this.connector.extendAjaxOptions(options);  // among others, add OTCS ticket to options\r\n\r\n      var deferred = Backbone.$.Deferred();\r\n      var jqxhr = Backbone.ajax(options);\r\n      jqxhr.then(function (response) {\r\n        if (jqxhr.counter < self.callCounter) {\r\n          // let the caller ignore the results, because a new save operation was already started\r\n          deferred.reject();\r\n        } else {\r\n          // get new tab_ids because with bulk update call, the server invalidates all tab_ids\r\n          options = {\r\n            type: 'GET',\r\n            url: self.url()\r\n          };\r\n          self.connector.extendAjaxOptions(options);  // among others, add OTCS ticket to options\r\n          var jqxhrTabs = Backbone.ajax(options)\r\n              .then(function (tabsResp) {\r\n                if (tabsResp.results && tabsResp.results instanceof Array) {\r\n                  // merge the retrieved tab_id and order attributes with the existing models: the\r\n                  // order of the returned list is the same as the order in this collection.\r\n                  // Associate the models one by one, because the sequence is the same (if\r\n                  // nothing changed them again in the meanwhile at the server)\r\n                  // Note, this collection has at the end an additional group with tab_id = -1,\r\n                  // which is the Ungrouped favorite group. This never changes. It's always at\r\n                  // the end.\r\n\r\n                  tabsResp.results.forEach(function (elem, index) {\r\n                    if (elem.data) {\r\n                      var group = self.at(index);\r\n                      // must remove the group from the collection and add it again before\r\n                      // changing the id (in this case tab_id) to let backbone update the byId\r\n                      // structure correctly. this is a hack!\r\n                      self.remove(group, {silent: true});\r\n                      group.set('tab_id', elem.data.tab_id, {silent: true});\r\n                      self.add(group, {at: index, silent: true});\r\n\r\n                      group.set('order', elem.data.order, {silent: true});\r\n                      // also update the tab_id stored in each favorite too, just in case\r\n                      // anybody is using this...\r\n                      for (var i = 0; i < group.favorites.length; i++) {\r\n                        var favorite = group.favorites.at(i);\r\n                        // do the hack also here to let backbone update the byId structure\r\n                        group.favorites.remove(favorite, {silent: true});\r\n                        favorite.set('favorite_tab_id', elem.data.tab_id, {silent: true});\r\n                        group.favorites.add(favorite, {at: i, silent: true});\r\n                      }\r\n                    }\r\n                  });\r\n\r\n                }\r\n                deferred.resolve(response);\r\n                self.trigger('bulk:update:succeed');\r\n              }, function (jqxhrTabs, statusText) {\r\n                var errorTabs = new base.RequestErrorMessage(jqxhrTabs);\r\n                deferred.reject(errorTabs);\r\n                self.trigger('bulk:update:fail');\r\n              });\r\n        }\r\n      }, function (jqxhr, statusText) {\r\n        // if self.callCounter is already higher than the stored value of this request, then\r\n        // a newer request was already started -> ignore the error in that case.\r\n        if (jqxhr.counter < self.callCounter) {\r\n          deferred.reject();\r\n        } else {\r\n          var error = new base.RequestErrorMessage(jqxhr);\r\n          deferred.reject(error);\r\n        }\r\n        self.trigger('bulk:update:fail');\r\n      });\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(Favorite2GroupsCollection.prototype);\r\n  FetchableMixin.mixin(Favorite2GroupsCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(Favorite2GroupsCollection.prototype);\r\n  FieldsV2Mixin.mixin(Favorite2GroupsCollection.prototype);\r\n  ExpandableV2Mixin.mixin(Favorite2GroupsCollection.prototype);\r\n  SyncableFromMultipleSources.mixin(Favorite2GroupsCollection.prototype);\r\n  ServerAdaptorMixin.mixin(Favorite2GroupsCollection.prototype);\r\n\r\n  return Favorite2GroupsCollection;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/favorite.model.mixin',[\r\n  'csui/lib/jquery', 'csui/lib/underscore', 'csui/utils/url', 'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Url, lang) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.options.connector.connection.url.replace('/v1', '/v2'),\r\n            'members/favorites', this.get('id'));\r\n        },\r\n\r\n        _serverCallPreCheck: function () {\r\n          if (this.isNew()) {\r\n            return {error: lang.serverCallPrecheckFailedModelIsNew};\r\n          }\r\n          if (!this.options || !this.options.connector) {\r\n            return {error: lang.serverCallPrecheckFailedMissingConnector};\r\n          }\r\n          return undefined;\r\n        },\r\n\r\n        _serverCallUpdateFavorite: function (ajaxMethod, deferred, selected) {\r\n          var error = this._serverCallPreCheck();\r\n          if (error !== undefined) {\r\n            deferred.reject(error);\r\n            return;\r\n          }\r\n\r\n          var options = {\r\n            type: ajaxMethod,\r\n            url: this.url()\r\n          };\r\n          this.options.connector.extendAjaxOptions(options);\r\n\r\n          if (ajaxMethod === 'POST') {\r\n            var tabId = this.get('tab_id');\r\n            var name = this.get('name');\r\n            // do this check for code backward compatibility\r\n            if (tabId !== undefined || name !== undefined) {\r\n              var data = {};\r\n              name !== undefined && _.extend(data, {name: name});\r\n              (tabId !== undefined && tabId !== -1) && _.extend(data, {tab_id: tabId});\r\n              _.extend(options, {data: {body: JSON.stringify(data)}});\r\n            }\r\n          }\r\n\r\n          $.ajax(options)\r\n            .done(_.bind(function (resp) {\r\n              this.set('selected', selected);\r\n              if (window.csui && window.csui.mobile) {\r\n                // LPAD-59888: update the favorites list properly by fetching the update node model\r\n                // change does not affect Smart UI\r\n                var selectedNode = this.get('node');\r\n                selectedNode.fetch({\r\n                  force: true\r\n                });\r\n              }\r\n              deferred.resolve(resp);\r\n            }, this))\r\n            .fail(function (err) {\r\n              deferred.reject(err);\r\n            });\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/favorite.model',['csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/base',\r\n  'csui/utils/url', 'csui/models/server.adaptors/favorite.model.mixin', 'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Backbone, base, Url, ServerAdaptorMixin, lang) {\r\n  \"use strict\";\r\n\r\n  var FavoriteModel = Backbone.Model.extend({\r\n\r\n    constructor: function FavoriteModel(attributes, options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeServerAdaptor(options);\r\n    },\r\n\r\n    isNew: function () {\r\n      return this.get('id') === undefined;\r\n    },\r\n\r\n    addToFavorites: function () {\r\n      var deferred = $.Deferred();\r\n      this._serverCallUpdateFavorite('POST', deferred, true);\r\n      return deferred.promise();\r\n    },\r\n\r\n    removeFromFavorites: function () {\r\n      var deferred = $.Deferred();\r\n      this._serverCallUpdateFavorite('DELETE', deferred, false);\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(FavoriteModel.prototype);\r\n  return FavoriteModel;\r\n\r\n});\r\n\n","csui.define('csui/models/member/member.model',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/resource/resource.mixin'\r\n], function (_, Backbone, Url, ResourceMixin) {\r\n  'use strict';\r\n\r\n  var MemberModel = Backbone.Model.extend({\r\n    constructor: function MemberModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n      this.groupId = attributes.groupId;\r\n      this.makeResource(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    },\r\n    url: function () {\r\n      var id  = this.get(\"id\"),\r\n          url = this.connector.connection.url;\r\n      url = url.replace('/api/v1', '/api/v2');\r\n      if (id) {\r\n        url = Url.combine(url, \"members/\" + id + \"/members\");\r\n      } else {\r\n        url = Url.combine(url, \"members\");\r\n      }\r\n      return url;\r\n    },\r\n    parse: function (response) {\r\n      var that = this;\r\n      if (response.data !== undefined) {\r\n        var memberId = this.get(\"id\");\r\n        _.each(response.data, function (member) {\r\n          member.parentId = memberId;\r\n        });\r\n\r\n        return response;\r\n      }\r\n      return response;\r\n    }\r\n  });\r\n\r\n  ResourceMixin.mixin(MemberModel.prototype);\r\n\r\n  return MemberModel;\r\n});\r\n\n","csui.define('csui/models/browsable/v1.request.mixin',['csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url'\r\n], function (_, $, Url) {\r\n\r\n  var BrowsableV1RequestMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeBrowsableV1Request: function (options) {\r\n          return this;\r\n        },\r\n\r\n        getBrowsableUrlQuery: function () {\r\n          var query = {};\r\n          var limit = this.topCount || 0;\r\n          if (limit) {\r\n            query.limit = limit;\r\n            query.page = Math.floor((this.skipCount || 0) / limit) + 1;\r\n          }\r\n          if (this.orderBy) {\r\n            // TODO: Implement sorting by multiple columns on the server\r\n            var first = this.orderBy.split(',')[0].split(' ');\r\n            query.sort = (first[1] || 'asc') + '_' + first[0];\r\n          }\r\n          query = $.param(query);\r\n          if (!$.isEmptyObject(this.filters)) {\r\n            for (var name in this.filters) {\r\n              if (_.has(this.filters, name)) {\r\n                var value = makeFilterValue(this.filters[name], name);\r\n                if (value !== undefined) {\r\n                  if (query) {\r\n                    query += '&';\r\n                  }\r\n                  query += value;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          return query;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  function makeFilterValue(value, name) {\r\n    if (value !== undefined && value !== null && value !== \"\") {\r\n      if ($.isArray(value)) {\r\n        value = Url.makeMultivalueParameter(\"where_\" + name, value);\r\n      }\r\n      else {\r\n        value = \"where_\" + name + \"=\" + encodeURIComponent(value.toString());\r\n      }\r\n      if (value.length > 0) {\r\n        return value;\r\n      }\r\n    }\r\n  }\r\n\r\n  return BrowsableV1RequestMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/member/membercollection',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/browsable/v1.request.mixin', 'csui/models/member/member.model'\r\n], function (_, Backbone, Url, ResourceMixin, BrowsableMixin, BrowsableV1RequestMixin,\r\n    MemberModel) {\r\n  'use strict';\r\n\r\n  ////-------------- MemberCollection ---------------------------------\r\n  var MemberCollection = Backbone.Collection.extend({\r\n\r\n    model: MemberModel,\r\n\r\n    searchTerm: \"\",\r\n\r\n    constructor: function MemberCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeResource(options);\r\n      this.makeBrowsable(options);\r\n\r\n      if (options !== undefined && options.member !== undefined && options.member !== null) {\r\n        this.parentId = options.member.get(\"id\");\r\n        this.nodeId = options.member.get(\"nodeId\");\r\n        this.categoryId = options.member.get(\"categoryId\");\r\n        this.groupId = options.member.get(\"groupId\");\r\n      } else {\r\n        this.nodeId = options.nodeId;\r\n        this.categoryId = options.categoryId;\r\n        this.groupId = options.groupId;\r\n      }\r\n      this.query = options.query || \"\";\r\n      this.type = options.type;\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        parentId: this.parentId,\r\n        nodeId: this.nodeId,\r\n        categoryId: this.categoryId,\r\n        groupId: this.groupId,\r\n        query: this.query\r\n      });\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.totalCount = this.totalCount;\r\n      return clone;\r\n    },\r\n\r\n    url: function () {\r\n\r\n      var url = this.connector.connection.url;\r\n      var id = this.groupId;\r\n      //var id = 1001;\r\n      if (id === undefined || id === null) {\r\n        id = this.parentId;\r\n        //TODO: need to remove topCount once v2/members supports limit and pagination support\r\n        this.topCount = 20;\r\n      }\r\n\r\n      if (!this.topCount) {\r\n        this.topCount = 20;\r\n      }\r\n\r\n      var query = Url.combineQueryString(\r\n          this.getBrowsableUrlQuery()\r\n      );\r\n\r\n      //TODO: 'where_name' is not supported for now hence replacing it with 'query'\r\n      //TODO: Must be removed once 'where_name' is supported\r\n      query = query.replace('where_name', 'query');\r\n\r\n      url = url.replace('/api/v1', '/api/v2');\r\n\r\n      if (this.type && this.type === 'GroupsOfCurrentUser') {\r\n        url = Url.combine(url, \"members/memberof?\" + query);\r\n      } else if (this.type === 1 && id) {\r\n        url = Url.combine(url, \"members/\" + id + \"/members?where_type=1&\" + query);\r\n      } else if (this.type === 1) {\r\n        url = Url.combine(url, \"members?where_type=1&\" + query);\r\n      } else if (id) {\r\n        url = Url.combine(url, \"members/\" + id + \"/members?\" + query);\r\n      } else {\r\n        url = Url.combine(url, \"members?\" + query);\r\n      }\r\n\r\n      return url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      if (!_.isEmpty(response.results)) {\r\n        var self = this;\r\n        this.totalCount = (response.collection && response.collection.paging) ?\r\n                          response.collection.paging.total_count :\r\n                          response.results.length;\r\n        _.each(response.results, function (member) {\r\n          member.parentId = self.parentId;\r\n          member = _.extend(member, member.data.properties);\r\n        });\r\n\r\n        return response.results;\r\n      }\r\n      this.totalCount = 0;\r\n      return null;\r\n    },\r\n\r\n    search: function (term) {\r\n      this.searchTerm = term;\r\n      this.fetch();\r\n    }\r\n\r\n  });\r\n\r\n  ResourceMixin.mixin(MemberCollection.prototype);\r\n  BrowsableMixin.mixin(MemberCollection.prototype);\r\n  BrowsableV1RequestMixin.mixin(MemberCollection.prototype);\r\n\r\n  return MemberCollection;\r\n});\r\n\n","csui.define('csui/models/members',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/models/member', 'csui/models/mixins/resource/resource.mixin'\r\n], function (_, $, Backbone, Url, MemberModel, ResourceMixin) {\r\n  'use strict';\r\n\r\n  var MemberCollection = Backbone.Collection.extend({\r\n\r\n    constructor: function MemberCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeResource(options);\r\n\r\n      options || (options = {});\r\n\r\n      this.limit = options.limit || 10;\r\n      this.query = options.query || \"\";\r\n      this.expandFields = options.expandFields || [];\r\n      if (options.memberFilter && options.memberFilter.type) {\r\n        this.memberType = options.memberFilter.type;\r\n      }\r\n      // Default is to search users and groups\r\n      this.memberType || (this.memberType = [0, 1]);\r\n    },\r\n\r\n    model: MemberModel,\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        limit: this.limit,\r\n        query: this.query,\r\n        expandFields: _.clone(this.expandFields),\r\n        memberFilter: {type: this.memberType}\r\n      });\r\n    },\r\n\r\n    urlRoot: function () {\r\n      var apiBase = new Url(this.connector.connection.url).getApiBase('v2');\r\n      return Url.combine(apiBase, \"/members\");\r\n    },\r\n\r\n    url: function () {\r\n      var limitClause  = \"limit=\" + this.limit,\r\n          // There can be many where_type clauses in the REST API call, add each.\r\n          // Unsupported types will be ignored by the REST API if they are integers.\r\n          memberClause = this.memberType.length &&\r\n                         \"where_type=\" + this.memberType.join(\"&where_type=\") || \"\",\r\n          // Also multiple expand fields like group_id and leader_id can be configured in\r\n          // one REST API call.\r\n          expandClause = this.expandFields.length &&\r\n                         \"expand=properties{\" + this.expandFields.join(\",\") + \"}\" ||\r\n                         \"\",\r\n          // The filter query.\r\n          queryClause  = \"query=\" + encodeURIComponent(this.query),\r\n          finalClauses = Url.combineQueryString(limitClause, memberClause,\r\n              expandClause, queryClause);\r\n\r\n      // Return the query\r\n      return Url.appendQuery(_.result(this, \"urlRoot\"), finalClauses);\r\n    },\r\n\r\n    parse: function (response) {\r\n      if (!_.isEmpty(response.results)) {\r\n        _.each(response.results, function (member) {\r\n          member = _.extend(member, member.data.properties);\r\n          delete member.data;\r\n        });\r\n        return response.results;\r\n      }\r\n      return null;\r\n    }\r\n\r\n  });\r\n\r\n  ResourceMixin.mixin(MemberCollection.prototype);\r\n\r\n  return MemberCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/node.connectable/node.connectable.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var NodeConnectableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      var originalPrepareModel = prototype._prepareModel;\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeNodeConnectable: function (options) {\r\n          if (options && options.node) {\r\n            this.node = options.node;\r\n            options.node.connector && options.node.connector.assignTo(this);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        _prepareModel: function (attrs, options) {\r\n          options || (options = {});\r\n          var node = options.node || this.node;\r\n          options.connector = node && node.connector;\r\n          return originalPrepareModel.call(this, attrs, options);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return NodeConnectableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/node.autofetchable/node.autofetchable.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var NodeAutoFetchableMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeNodeAutoFetchable: function (options) {\r\n          var autofetchEvent = options && options.autofetchEvent;\r\n          if (autofetchEvent) {\r\n            this._autofetchEvent = options.autofetchEvent;\r\n          }\r\n          var autofetch = options && options.autofetch;\r\n          if (autofetch) {\r\n            this.automateFetch(autofetch);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        automateFetch: function (enable) {\r\n          var event = _.result(this, '_autofetchEvent'),\r\n              method = enable ? 'on' : 'off';\r\n          this.autofetch = !!enable;\r\n          this.node[method](event, _.bind(this._fetchAutomatically, this, enable));\r\n        },\r\n\r\n        isFetchable: function () {\r\n          return this.node.isFetchableDirectly();\r\n        },\r\n\r\n        _autofetchEvent: 'change:id',\r\n\r\n        _fetchAutomatically: function (options) {\r\n          this.isFetchable() && this.fetch(_.isObject(options) && options);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return NodeAutoFetchableMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/node.resource/node.resource.mixin',['csui/lib/underscore', 'csui/models/mixins/node.connectable/node.connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/node.autofetchable/node.autofetchable.mixin'\r\n], function (_, NodeConnectableMixin, FetchableMixin, NodeAutoFetchableMixin) {\r\n\r\n  var NodeResourceMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      NodeConnectableMixin.mixin(prototype);\r\n      FetchableMixin.mixin(prototype);\r\n      NodeAutoFetchableMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeNodeResource: function (options) {\r\n          return this.makeNodeConnectable(options)\r\n              .makeFetchable(options)\r\n              .makeNodeAutoFetchable(options);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return NodeResourceMixin;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/nodesprites',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  'i18n!csui/utils/impl/nls/lang',\r\n  // Load and register external cell views\r\n  'csui-ext!csui/utils/nodesprites'\r\n], function (_, Backbone, RulesMatchingMixin, lang, extraIcons) {\r\n\r\n  var NodeSpriteModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      className: null\r\n    },\r\n\r\n    constructor: function NodeSpriteModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(NodeSpriteModel.prototype);\r\n\r\n  var NodeSpriteCollection = Backbone.Collection.extend({\r\n\r\n    model: NodeSpriteModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function NodeSpriteCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findClass: function (compareType, key, val) {\r\n      var nodeSprite = this.find(function (item) {\r\n        var values = item.get(compareType);\r\n        if (values === undefined) {\r\n          return undefined;\r\n        }\r\n        if (_.isArray(values[key])) {\r\n          var keyValues = values[key];\r\n          for (var i = 0; i < keyValues.length; i++) {\r\n            if (keyValues[i] === val) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n\r\n        return (values[key] === val);\r\n      });\r\n      return nodeSprite ? nodeSprite.get('className') : undefined;\r\n    },\r\n\r\n    findTypeByNode: function (node) {\r\n      var typeName = node.get('type_name') || lang.NodeTypeUnknown;\r\n\r\n      var nodeSprite = this.findByNode(node);\r\n      if (nodeSprite) {\r\n        var spriteName = _.result(nodeSprite.attributes, 'mimeType');\r\n        if (spriteName) {\r\n          typeName = spriteName;\r\n        }\r\n      }\r\n\r\n      return typeName;\r\n    },\r\n\r\n    findClassByNode: function (node) {\r\n      var nodeSprite = this.findByNode(node);\r\n      return nodeSprite && _.result(nodeSprite.attributes, 'className') || '';\r\n    },\r\n\r\n    findByNode: function (node) {\r\n      // FIXME: Show the original icon with a shortcut overlay, as soon as agreed\r\n      // If the node is a shortcut and the original_id is expanded to contain\r\n      // the node data, we can show the original icon with a small arrow overlay.\r\n      //if (node.original && node.original.has('type')) {\r\n      //  node = node.original;\r\n      //}\r\n      return this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  // MS Office: http://filext.com/faq/office_mime_types.php\r\n  // OpenOffice: https://www.openoffice.org/framework/documentation/mimetypes/mimetypes.html\r\n\r\n  var nodeSprites = new NodeSpriteCollection([\r\n    {\r\n      // excel\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.ms-excel',\r\n          'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n          'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\r\n          'application/vnd.ms-excel.sheet.macroEnabled.12',\r\n          'application/vnd.ms-excel.template.macroEnabled.12',\r\n          'application/vnd.ms-excel.addin.macroEnabled.12',\r\n          'application/vnd.ms-excel.sheet.binary.macroEnabled.12'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_excel',\r\n      mimeType: lang.NodeTypeXLS,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // visio\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/visio',\r\n          'application/x-visio',\r\n          'application/vnd.visio',\r\n          'application/visio.drawing',\r\n          'application/vsd',\r\n          'application/x-vsd',\r\n          'image/x-vsd',\r\n          'application/vnd.visio2013',\r\n          'application/vnd.ms-visio.drawing',\r\n          'application/vnd.ms-visio.viewer',\r\n          'application/vnd.ms-visio.stencil',\r\n          'application/vnd.ms-visio.template'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_visio',\r\n      mimeType: lang.NodeTypeVisio,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // spreadsheets\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.oasis.opendocument.spreadsheet',\r\n          'application/vnd.oasis.opendocument.spreadsheet-template',\r\n          'application/vnd.sun.xml.calc',\r\n          'application/vnd.sun.xml.calc.template',\r\n          'application/vnd.stardivision.calc',\r\n          'application/x-starcalc'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_spreadsheet',\r\n      mimeType: lang.NodeTypeSpreadsheet,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // powerpoint\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.ms-powerpoint',\r\n          'application/vnd.openxmlformats-officedocument.presentationml.presentation',\r\n          'application/vnd.openxmlformats-officedocument.presentationml.template',\r\n          'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\r\n          'application/vnd.ms-powerpoint.addin.macroEnabled.12',\r\n          'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\r\n          'application/vnd.ms-powerpoint.template.macroEnabled.12',\r\n          'application/vnd.ms-powerpoint.slideshow.macroEnabled.12'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_powerpoint',\r\n      mimeType: lang.NodeTypePPT,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // presentations\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.google-apps.presentation', // GSLIDE - Google Drive Presentation\r\n          'application/x-iwork-keynote-sffkey', // KEY, KEYNOTE  Apple Keynote Presentation\r\n          'application/vnd.wolfram.mathematica', // NB  Mathematica Slideshow\r\n          'application/vnd.wolfram.player', // NBP  Mathematica Player slideshow\r\n          'application/vnd.oasis.opendocument.presentation', // ODP  OpenDocument Presentation\r\n          'application/vnd.oasis.opendocument.presentation-template', // OTP - ODP Template\r\n          'application/vnd.sun.xml.impress',\r\n          'application/vnd.sun.xml.impress.template',\r\n          'application/vnd.stardivision.impress',\r\n          'application/vnd.stardivision.impress-packed',\r\n          'application/x-starimpress',\r\n          'application/vnd.lotus-freelance', // PRZ  Lotus Freelance Graphics\r\n          'application/vnd.stardivision.impress', // SDD - Star Office's StarImpress\r\n          'application/vnd.corel-presentations', // SHW  Corel Presentations slide show creation\r\n          'application/vnd.sun.xml.impress', // SXI  OpenOffice.org XML (obsolete) Presentation\r\n          'application/vnd.ms-officetheme', // THMX  Microsoft PowerPoint theme template\r\n          'application/vnd.sun.xml.impress.template '// STI  OpenOffice Impress template\r\n\r\n          // the following extensions could not mapped to a mime-type\r\n          // todo: intro mapping to file extensions\r\n          // WATCH  Dataton Watchout Presentation\r\n          // PEZ  Prezi Desktop Presentation\r\n          // SHF  ThinkFree Show\r\n          // SHOW  Haansoft(Hancom) Presentation software document\r\n          // SLP  Logix-4D Manager Show Control Project\r\n          // SSPSS  SongShow Plus Slide Show\r\n\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_presentation',\r\n      mimeType: lang.NodeTypePresentation,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // MS Office publisher\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.ms-publisher',\r\n          'application/x-mspublisher'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_publisher',\r\n      mimeType: lang.NodeTypePublisher,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // formulas\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.oasis.opendocument.formula',\r\n          'application/vnd.sun.xml.math',\r\n          'application/vnd.stardivision.math',\r\n          'application/x-starmath'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_formula',\r\n      mimeType: lang.NodeTypeFormula,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // pdf\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.pdf',\r\n          'application/x-pdf',\r\n          'application/pdf'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_pdf',\r\n      mimeType: lang.NodeTypePDF,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // word\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/msword',\r\n          'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n          'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\r\n          'application/vnd.ms-word.document.macroEnabled.12',\r\n          'application/vnd.ms-word.template.macroEnabled.12'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_word',\r\n      mimeType: lang.NodeTypeDOC,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // MS OneNote\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/onenote',\r\n          'application/msonenote'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_onenote',\r\n      mimeType: lang.NodeTypeONE,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // MS project\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.ms-project',\r\n          'application/msproj',\r\n          'application/msproject',\r\n          'application/x-msproject',\r\n          'application/x-ms-project',\r\n          'application/mpp'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_project',\r\n      mimeType: lang.NodeTypeMPP,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // image\r\n      startsWithNoCase: {mime_type: 'image/'},\r\n      className: 'csui-icon mime_image',\r\n      mimeType: lang.NodeTypeImage,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // audio\r\n      startsWithNoCase: {mime_type: 'audio/'},\r\n      className: 'csui-icon mime_audio',\r\n      mimeType: lang.NodeTypeAudio,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // text\r\n      startsWithNoCase: {mime_type: 'text/'},\r\n      className: 'csui-icon mime_paper',\r\n      mimeType: lang.NodeTypeText,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // text\r\n      equalsNoCase: {mime_type: 'text/html'},\r\n      className: 'csui-icon mime_html',\r\n      mimeType: lang.NodeTypeHtml,\r\n      // startsWith 'text/' operation happens first, which would decide the icon otherwise;\r\n      // it has the sequence number 50 in common\r\n      // do not set sequence to 30 that would take over the 'type' that has this MIME type\r\n      // and do not set to 50 because this object with this MIME type would have a different icon\r\n      sequence: 40\r\n    },\r\n    {\r\n      // video\r\n      startsWithNoCase: {mime_type: 'video/'},\r\n      className: 'csui-icon mime_video',\r\n      mimeType: lang.NodeTypeVideo,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // zip\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/x-rar-compressed',\r\n          'application/zip',\r\n          'application/x-zip',\r\n          'application/x-zip-compressed'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_zip',\r\n      mimeType: lang.NodeTypeCompressed,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // compound document\r\n      equals: {type: 136},\r\n      className: 'csui-icon compound_document',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // document\r\n      equals: {type: 144},\r\n      className: 'csui-icon mime_document',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // CAD\r\n      equals: {type: 736},\r\n      className: 'csui-icon mime_drawing',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // saved search query\r\n      equals: {type: 258},\r\n      className: 'csui-icon csui-icon-saved-search-query',\r\n      mimeType: lang.NodeTypeSearchQuery,\r\n      sequence: 100\r\n    },\r\n    {\r\n      // URL link\r\n      equals: {type: 140},\r\n      className: 'csui-icon url1',\r\n      mimeType: lang.NodeTypeURL,\r\n      sequence: 100\r\n    },\r\n    {\r\n      // shortcut\r\n      equals: {type: 1},\r\n      className: 'csui-icon shortcut1',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // generation\r\n      // note: since the RestAPI at the moment does not return the document version, showing the\r\n      // latest document mime-type icon with the shortcut overlay is incorrect.  Use the\r\n      // generation icon for now.  When the RestAPI and UI supports Generation, switch this to\r\n      // generation-overlay.\r\n      equals: {type: 2},\r\n      className: 'csui-icon mime_generation',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // category\r\n      equals: {type: 131},\r\n      className: 'csui-icon category1',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // project\r\n      equals: {type: 202},\r\n      className: 'csui-icon csui-icon-project',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // collection\r\n      equals: {type: 298},\r\n      className: 'csui-icon collection',\r\n      sequence: 100\r\n    },\r\n    {\r\n      equals: {type: 141},\r\n      className: 'csui-icon csui-icon-enterprise-volume',\r\n      sequence: 100\r\n    },\r\n    {\r\n      equals: {type: 142},\r\n      className: 'csui-icon csui-icon-personal-volume',\r\n      sequence: 100\r\n    },\r\n    {\r\n      equals: {type: 133},\r\n      className: 'csui-icon csui-icon-category-volume',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Category Folder\r\n      equals: {type: 132},\r\n      className: 'csui-icon csui-icon-node-category-folder',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // LiveReport\r\n      equals: {type: 299},\r\n      className: 'csui-icon csui-icon-node-livereport',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Milestone\r\n      equals: {type: 212},\r\n      className: 'csui-icon csui-icon-node-milestone',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Poll\r\n      equals: {type: 218},\r\n      className: 'csui-icon csui-icon-node-poll',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Prospector\r\n      equals: {type: 384},\r\n      className: 'csui-icon csui-icon-node-prospector',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Task\r\n      equals: {type: 206},\r\n      className: 'csui-icon csui-icon-node-task',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Task Group\r\n      equals: {type: 205},\r\n      className: 'csui-icon csui-icon-node-task-group',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Task List\r\n      equals: {type: 204},\r\n      className: 'csui-icon csui-icon-node-task-list',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Perspective Assets Folder\r\n      equals: {type: 955},\r\n      className: 'csui-icon csui-icon-perspective-assets-folder',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Perspective Assets Volume\r\n      equals: {type: 954},\r\n      className: 'csui-icon csui-icon-perspective-assets-volume',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Virtual Folder\r\n      equals: {type: 899},\r\n      className: 'csui-icon csui-icon-node-virtual-folder',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Custom View\r\n      equals: {type: 146},\r\n      className: 'csui-icon mime_custom_view',\r\n      // Custom View has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence: 30\r\n    },\r\n    {\r\n      // Workflow Step\r\n      equals: {type: 153},\r\n      className: 'csui-icon assignment-workflow',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Workflow Map\r\n      equals: {type: 128},\r\n      className: 'csui-icon mime_workflow_map',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Workflow Status\r\n      equals: {type: 190},\r\n      className: 'csui-icon mime_workflow_status',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Channel\r\n      equals: {type: 207},\r\n      className: 'csui-icon mime_channel',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // News item\r\n      equals: {type: 208},\r\n      className: 'csui-icon mime_news',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Discussion\r\n      equals: {type: 215},\r\n      className: 'csui-icon mime_discussion',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // XML DTD\r\n      equals: {type: 335},\r\n      className: 'csui-icon mime_xml_dtd',\r\n      // XML DTD has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence: 30\r\n    },\r\n    {\r\n      // form\r\n      equals: {type: 223},\r\n      className: 'csui-icon mime_form',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // form template\r\n      equals: {type: 230},\r\n      className: 'csui-icon mime_form_template',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // pulse comments\r\n      equals: {type: 1281},\r\n      className: 'csui-icon icon-pulse-comment',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // wiki pages\r\n      equals: {type: 5574},\r\n      className: 'csui-icon mime_wiki_page',\r\n      sequence: 10\r\n    },\r\n    // wikis\r\n    {\r\n      equals: {type: 5573},\r\n      className: 'csui-icon mime_wiki',\r\n      sequence: 10\r\n    },\r\n    {\r\n      // default container\r\n      equals: {container: 'nonselectable'},\r\n      className: 'csui-icon mime_folder_nonselectable',\r\n      sequence: 1000\r\n    },\r\n    {\r\n      // default container; covers folder-like nodes too\r\n      equals: {container: true},\r\n      className: 'csui-icon mime_folder',\r\n      sequence: 1000\r\n    },\r\n    {\r\n      // default node\r\n      className: 'csui-icon mime_document',\r\n      sequence: 10000\r\n    }\r\n  ]);\r\n\r\n  if (extraIcons) {\r\n    nodeSprites.add(_.flatten(extraIcons, true));\r\n  }\r\n\r\n  return nodeSprites;\r\n\r\n});\r\n\n","csui.define('csui/models/node.addable.type/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url', 'csui/models/node/node.model', 'csui/utils/nodesprites'\r\n], function (_, Url, NodeModel, NodeSpriteCollection) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.node.urlBase(), 'addablenodetypes');\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          // The server returns very inconvenient structure, where the types\r\n          // have textual keys and no subtype numbers.  An array of object\r\n          // literals describing the addable type is put together from the\r\n          // number parsed out of the form URL (!) from the data object\r\n          // and the name from the definition object.\r\n          var data        = response.data,\r\n            definitions = response.definitions;\r\n          var self = this;\r\n          return _.chain(data)\r\n            .keys()\r\n            .map(function (key) {\r\n              var url        = data[key],\r\n                definition = definitions[key];\r\n              if (url && definition) {\r\n                var match = url && /[?&]type=([^&]+)(?:&.*)?$/.exec(url);\r\n                if (match) {\r\n                  var subtype = parseInt(match[1], 10);\r\n                  var type_name = NodeSpriteCollection.findTypeByNode(\r\n                    new NodeModel({type: subtype, type_name: definition.name}));\r\n                  return {\r\n                    type: subtype,\r\n                    type_name: type_name\r\n                  };\r\n                }\r\n              }\r\n            })\r\n            .compact()\r\n            .value();\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/node/node.addable.type.collection',['csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/utils/url',\r\n  'csui/models/node/node.model',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/node.addable.type/server.adaptor.mixin'\r\n], function (_,\r\n    Backbone,\r\n    Url,\r\n    NodeModel,\r\n    NodeResourceMixin,\r\n    ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var AddableTypeModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      type: null,\r\n      type_name: null\r\n    },\r\n\r\n    idAttribute: 'type',\r\n\r\n    constructor: function AddableTypeModel() {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var NodeAddableTypeCollection = Backbone.Collection.extend({\r\n\r\n    model: AddableTypeModel,\r\n\r\n    constructor: function NodeAddableTypeCollection(models, options) {\r\n      NodeAddableTypeCollection.__super__.constructor.apply(this, arguments);\r\n\r\n      this.makeNodeResource(options)\r\n        .makeServerAdaptor(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.models, {node: this.node});\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    }\r\n\r\n  });\r\n\r\n  NodeResourceMixin.mixin(NodeAddableTypeCollection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeAddableTypeCollection.prototype);\r\n\r\n  return NodeAddableTypeCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/node.children2/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url',\r\n  'csui/models/browsable/v1.request.mixin',\r\n  'csui/models/browsable/v2.response.mixin'\r\n], function (_, Url, BrowsableV1RequestMixin, BrowsableV2ResponseMixin) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      BrowsableV2ResponseMixin.mixin(prototype);\r\n      BrowsableV1RequestMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          this.makeBrowsableV1Request(options)\r\n              .makeBrowsableV2Response(options);\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var apiUrl = new Url(this.node.connector.connection.url).getApiBase(2),\r\n              url = Url.combine(apiUrl, 'nodes', this.node.get('id'), 'nodes'),\r\n              query = Url.combineQueryString(\r\n                  this.getBrowsableUrlQuery(),\r\n                  this.getAdditionalResourcesUrlQuery(),\r\n                  this.getResourceFieldsUrlQuery(),\r\n                  this.getExpandableResourcesUrlQuery(),\r\n                  this.getRequestedCommandsUrlQuery()\r\n              );\r\n          return Url.appendQuery(url, query);\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          this.parseBrowsedState(response, options);\r\n          return this.parseBrowsedItems(response, options);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/node.children2/node.children2',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/models/node/node.model',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/node.children2/server.adaptor.mixin',\r\n  'csui/models/utils/v1tov2', 'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, Url, NodeModel, NodeResourceMixin,\r\n    BrowsableMixin, AdditionalResourcesV2Mixin, FieldsV2Mixin,\r\n    ExpandableV2Mixin, DelayedCommandableV2Mixin, ServerAdaptorMixin,\r\n    v1tov2) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultPageSize: 30\r\n  });\r\n\r\n  var NodeChildren2Collection = Backbone.Collection.extend({\r\n    model: NodeModel,\r\n\r\n    constructor: function NodeChildren2Collection(models, options) {\r\n      options = _.defaults({}, options, {\r\n        top: config.defaultPageSize\r\n      }, options);\r\n\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n\r\n      this.makeNodeResource(options)\r\n          .makeBrowsable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeDelayedCommandableV2(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    clone: function () {\r\n      var clone = new this.constructor(this.models, {\r\n        node: this.node,\r\n        skip: this.skipCount,\r\n        top: this.topCount,\r\n        filter: _.deepClone(this.filters),\r\n        orderBy: this.orderBy,\r\n        fields: _.deepClone(this.fields),\r\n        expand: _.deepClone(this.expand),\r\n        includeResources: _.clone(this._additionalResources),\r\n        commands: _.clone(this.commands),\r\n        defaultActionCommands: _.clone(this.defaultActionCommands),\r\n        delayRestCommands: this.delayRestCommands,\r\n        autofetch: this.autofetch,\r\n        autofetchEvent: this._autofetchEvent\r\n      });\r\n      clone.fetching = this.fetching;\r\n      clone.fetched = this.fetched;\r\n      clone.error = this.error;\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      return clone;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands,\r\n        defaultActionCommands: this.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n      this.resetDefaultActionCommands();\r\n      scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n    }\r\n  });\r\n\r\n  BrowsableMixin.mixin(NodeChildren2Collection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(NodeChildren2Collection.prototype);\r\n  FieldsV2Mixin.mixin(NodeChildren2Collection.prototype);\r\n  ExpandableV2Mixin.mixin(NodeChildren2Collection.prototype);\r\n  DelayedCommandableV2Mixin.mixin(NodeChildren2Collection.prototype);\r\n  NodeResourceMixin.mixin(NodeChildren2Collection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeChildren2Collection.prototype);\r\n\r\n  // Provide compatibility with v1. Mostly, at least.\r\n  var prototype = NodeChildren2Collection.prototype;\r\n\r\n  var makeExpandableV2 = prototype.makeExpandableV2,\r\n      setExpand = prototype.setExpand,\r\n      resetExpand = prototype.resetExpand;\r\n  prototype.makeExpandableV2 = function (options) {\r\n    var expand = options && options.expand;\r\n    if (Array.isArray(expand)) {\r\n      options.expand = v1tov2.includeExpandsV1toV2(expand);\r\n    }\r\n    return makeExpandableV2.call(this, options);\r\n  };\r\n\r\n  prototype.setExpand = function (role, names) {\r\n    if (!names) {\r\n      role = v1tov2.includeExpandsV1toV2(role);\r\n    }\r\n    return setExpand.call(this, role, names);\r\n  };\r\n\r\n  prototype.resetExpand = function (role, names) {\r\n    if (!names) {\r\n      role = v1tov2.excludeExpandsV1toV2(role);\r\n    }\r\n    return resetExpand.call(this, role, names);\r\n  };\r\n\r\n  var makeCommandableV2 = prototype.makeCommandableV2;\r\n  prototype.makeCommandableV2 = function (options) {\r\n    makeCommandableV2.call(this, options);\r\n    this.includeCommands = this.commands;\r\n    return this;\r\n  };\r\n\r\n  return NodeChildren2Collection;\r\n});\r\n\n","csui.define('csui/models/node.ancestors/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/models/ancestor', 'csui/utils/url'\r\n], function (_, AncestorModel, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.node.urlBase(), \"ancestors\");\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          // TODO: Currently the breadcrumb parameters are set in the\r\n          // constructor. Should this be moved to public methods like\r\n          // ChildNodeCollection is controlled?  It would enable more\r\n          // flexible usage of the model class and view changes.  The\r\n          // server doesn't allow filtering, ordering or limiting of\r\n          // the ancestor list.\r\n\r\n          response = response.ancestors;\r\n\r\n          if (this.options.stop) {\r\n            var id = this.options.stop.get ? this.options.stop.get(\"id\") :\r\n              this.options.stop.id;\r\n            var skip;\r\n            response = _\r\n              .filter(response.reverse(), function (ancestor) {\r\n                var result = !skip;\r\n                if (ancestor.id == id) {\r\n                  skip = true;\r\n                }\r\n                return result;\r\n              })\r\n              .reverse();\r\n          }\r\n\r\n          if (this.options.limit && response.length > this.options.limit) {\r\n            response.splice(0, response.length - this.options.limit);\r\n            response.unshift({\r\n              type: AncestorModel.Hidden\r\n            });\r\n          }\r\n\r\n          // Help DefaultActionBehavior generate a link to open a node from\r\n          // breadcrumb.  Ancestor items are not complete node infos, but\r\n          // they have to be containers and setting {container:true} is enough\r\n          // to render correct link to open the container.\r\n          _.each(response, function (node) {\r\n            node.container = true;\r\n          });\r\n\r\n          return response;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/nodeancestors',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/utils/log', 'csui/models/ancestor',\r\n  'csui/models/ancestors', 'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/node.ancestors/server.adaptor.mixin'\r\n], function (module, _, $, Backbone, Url, log, AncestorModel,\r\n    AncestorCollection, NodeResourceMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var NodeAncestorCollection = AncestorCollection.extend({\r\n\r\n    constructor: function NodeAncestorCollection(models, options) {\r\n      AncestorCollection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeNodeResource(options)\r\n        .makeServerAdaptor(options);\r\n\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    }\r\n\r\n  });\r\n\r\n  NodeResourceMixin.mixin(NodeAncestorCollection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeAncestorCollection.prototype);\r\n\r\n  return NodeAncestorCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/nodechildrencolumn',['module', 'csui/lib/backbone', 'csui/utils/log',\r\n  'i18n!csui/models/impl/nls/lang'\r\n], function (module, Backbone, log, lang) {\r\n  'use strict';\r\n\r\n  //\r\n  // Column model from the node children call (nodes/{id}/nodes)\r\n  //\r\n  var NodeChildrenColumnModel = Backbone.Model.extend({\r\n\r\n    constructor: function NodeChildrenColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var titleTranslated = lang[attributes.column_key];\r\n        if (titleTranslated !== undefined) {\r\n          attributes.title = titleTranslated;\r\n        }\r\n      }\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n    },\r\n\r\n    idAttribute: null\r\n\r\n  });\r\n\r\n  return NodeChildrenColumnModel;\r\n\r\n});\r\n\n","csui.define('csui/models/nodechildrencolumns',[\"module\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  \"csui/utils/log\", \"csui/models/nodechildrencolumn\"\r\n], function (module, _, Backbone,\r\n             log, NodeChildrenColumnModel) {\r\n  \"use strict\";\r\n\r\n  //\r\n  // Column model collection from the node children call (nodes/{id}/nodes) and other browse calls\r\n  //\r\n  var NodeChildrenColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: NodeChildrenColumnModel,\r\n\r\n    constructor: function NodeChildrenColumnCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n      this.fetched = false;\r\n    },\r\n\r\n    // private: reset the collection.  For performance purpose and prevent UI table redraw, this\r\n    //          method will not reset if the models is the same as the cached one.\r\n    resetCollection: function (models, options) {\r\n      if (this.cachedColumns && _.isEqual(models, this.cachedColumns)) {\r\n        return;\r\n      }\r\n      // Make a clone of the model array for the cache to let it be equal even if attributes are\r\n      // added to objects of the array (which is done in this.reset where the constructor of the\r\n      // NodeChildrenColumnModel adds a translated title attribute\r\n      this.cachedColumns = _.map(models, function (model) {\r\n        return _.clone(model);\r\n      });\r\n\r\n      this.reset(models, options);\r\n      this.fetched = true;\r\n    },\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = _.reduce(columnKeys, function (colArray, column) {\r\n        if (column.indexOf('_formatted') >= 0) {\r\n          var shortColumnName = column.replace(/_formatted$/, '');\r\n          if (definitions[shortColumnName]) {\r\n            // there is also the column without the trailing _formatted: skip this and use this\r\n            // instead\r\n            return colArray;\r\n          }\r\n        } else {\r\n          // copy the definitions_order from the *_formatted column to the non-formatted column\r\n          var definition_short = definitions[column];\r\n          if (definition_short && !definition_short.definitions_order) {\r\n            var definition_formatted = definitions[column + '_formatted'];\r\n            if (definition_formatted && definition_formatted.definitions_order) {\r\n              definition_short.definitions_order = definition_formatted.definitions_order;\r\n            }\r\n          }\r\n        }\r\n        var definition = definitions[column];\r\n\r\n        // Code from old code to keep node table code working.  Will look more into this after June.\r\n        // TODO: support these attributes on the server too.\r\n        switch (column) {\r\n          case \"name\":\r\n            definition = _.extend(definition, {\r\n              default_action: true,\r\n              contextual_menu: false,\r\n              editable: true,\r\n              filter_key: \"name\"\r\n            });\r\n            break;\r\n          case \"type\":\r\n            definition = _.extend(definition, {\r\n              default_action: true\r\n            });\r\n            break;\r\n          case \"modify_date\":\r\n            definition = _.extend(definition, {\r\n              initialSortingDescending: true\r\n            });\r\n            break;\r\n        }\r\n\r\n        colArray.push(_.extend({column_key: column}, definition));\r\n        return colArray;\r\n      }, []);\r\n      return columns;\r\n    },\r\n\r\n    //\r\n    // methods for REST API V1\r\n    //\r\n\r\n    // public\r\n    resetColumns: function (response, options) {\r\n      this.resetCollection(this.getV1Columns(response, options), options);\r\n    },\r\n\r\n    // private\r\n    getV1Columns: function (response, options) {\r\n      var definitions = response.definitions,\r\n        columnKeys = options && options.columnsFromDefinitionsOrder ?\r\n          response.definitions_order : _.keys(definitions);\r\n\r\n      // merge definitions_order into definitions as definitions_order attribute\r\n      if (response.definitions_order) {\r\n        for (var idx = 0; idx < response.definitions_order.length; idx++) {\r\n          var column_key = response.definitions_order[idx],\r\n              definition = definitions[column_key];\r\n          // definitions_order can be passed via options and does not need\r\n          // to match with the server response; guard against mismatches\r\n          if (definition) {\r\n            definition.definitions_order = 500 + idx;\r\n          }\r\n        }\r\n      }\r\n\r\n      return this.getColumnModels(columnKeys, definitions);\r\n    },\r\n\r\n    //\r\n    // methods for REST API V2\r\n    //\r\n\r\n    // public\r\n    resetColumnsV2: function (response, options) {\r\n      this.resetCollection(this.getV2Columns(response), options);\r\n    },\r\n\r\n    // private: convert v2 'metadata' to v1 'definitions' for backward code compatibility and\r\n    //          reuse purpose\r\n    getV2Columns: function (response) {\r\n\r\n      // Note: from a long discussion with the server developer, use the common 'metadata' (or\r\n      // called 'definitions' in v1) in the first element. Elements in the collection can have\r\n      // different extended metadata (definitions).  If a business case arises that\r\n      // extended definitions are needed, will discuss again with them and add that support.\r\n\r\n      var definitions = (response.results &&\r\n        response.results[0] &&\r\n        response.results[0].metadata &&\r\n        response.results[0].metadata.properties) || {};\r\n\r\n      // For v2 calls, the 'size' column is not available.  Either the 'container_size' or\r\n      // 'file_size' is available.  Create a 'size' definition here for compatibility with existing\r\n      // code.\r\n      if (!definitions.size &&\r\n        (definitions.container_size ||\r\n        (definitions.versions && definitions.versions.file_size))) {\r\n        definitions.size = definitions.container_size || definitions.versions.file_size;\r\n        definitions.size.align = 'right';\r\n        definitions.size.key = 'size';\r\n        definitions.size.name = 'Size';\r\n      }\r\n\r\n      var columnKeys = _.keys(definitions);\r\n\r\n      return this.getColumnModels(columnKeys, definitions);\r\n    }\r\n\r\n  });\r\n  NodeChildrenColumnCollection.version = '1.0';\r\n\r\n  return NodeChildrenColumnCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/nodes',[\"module\", \"csui/lib/backbone\", 'csui/models/node/node.model', \"csui/utils/log\",\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin'\r\n], function (module, Backbone, NodeModel, log, DelayedCommandableV2Mixin) {\r\n\r\n  var Nodes = Backbone.Collection.extend({\r\n\r\n    model: NodeModel,\r\n\r\n    constructor: function Nodes(models,options) {\r\n      options || (options = {});\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n      this.makeDelayedCommandableV2(options);\r\n    },\r\n\r\n    automateFetch: function (enable) {\r\n    }\r\n\r\n  });\r\n  DelayedCommandableV2Mixin.mixin(Nodes.prototype);\r\n  Nodes.version = '1.0';\r\n\r\n  return Nodes;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/commandable/commandable.mixin',['csui/lib/underscore'], function (_) {\r\n  'use strict';\r\n\r\n  var CommandableV1Mixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeCommandable: function (options) {\r\n          var commands = options && options.commands;\r\n          if (typeof commands === 'string') {\r\n            commands = commands.split(',');\r\n          }\r\n          this.includeCommands = commands || [];\r\n          return this;\r\n        },\r\n\r\n        setCommands: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(\",\");\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.includeCommands, name)) {\r\n              this.includeCommands.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetCommands: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(\",\");\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.includeCommands, name);\r\n              if (index >= 0) {\r\n                this.includeCommands.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.includeCommands.splice(0, this.includeCommands.length);\r\n          }\r\n        },\r\n\r\n        getRequestedCommandsUrlQuery: function () {\r\n          return this.includeCommands.length && {commands: this.includeCommands};\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return CommandableV1Mixin;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/delayed.commandable/delayed.commandable.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/models/node.actions',\r\n  'csui/models/mixins/commandable/commandable.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, NodeActionCollection, CommandableMixin) {\r\n  'use strict';\r\n\r\n  var DelayedCommandableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      CommandableMixin.mixin(prototype);\r\n\r\n      var originalPrepareModel = prototype._prepareModel;\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeDelayedCommandable: function (options) {\r\n          options || (options = {});\r\n          var defaultActionCommands = options.defaultActionCommands;\r\n          if (typeof defaultActionCommands === 'string') {\r\n            defaultActionCommands = defaultActionCommands.split(',');\r\n          }\r\n          this.defaultActionCommands = defaultActionCommands || [];\r\n\r\n          this.delayedActions = new NodeActionCollection(undefined, {\r\n            connector: options.connector\r\n          });\r\n\r\n          this.delayRestCommands = options.delayRestCommands;\r\n          if (this.delayRestCommands) {\r\n            this.on('sync', this._requestRestActions);\r\n          }\r\n\r\n          this.delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n\r\n          return this.makeCommandable(options);\r\n        },\r\n\r\n        _requestRestActions: function (model) {\r\n          // Guard against propagated sync event: if this mixin has been\r\n          // applied to a collection, only fetch of the collection should\r\n          // be handled here; fetching of models should not re-fetch actions\r\n          // for the whole collection.\r\n          // Also do nothing if the collection is empty.\r\n          if (model !== this ||\r\n              this instanceof Backbone.Collection && !this.length) {\r\n            return;\r\n          }\r\n          var defaultActionCommands = this.defaultActionCommands,\r\n              restCommands = _.reject(this.includeCommands, function (command) {\r\n                return _.contains(defaultActionCommands, command);\r\n              });\r\n          if (restCommands.length) {\r\n            var delayedActions = this.delayedActions;\r\n            delayedActions.resetCommands();\r\n            delayedActions.setCommands(restCommands);\r\n            delayedActions.resetNodes();\r\n            if (this instanceof Backbone.Collection) {\r\n              delayedActions.setNodes(this.pluck('id'));\r\n            } else {\r\n              delayedActions.setNodes([this.get('id')]);\r\n            }\r\n            if (!delayedActions.connector) {\r\n              this.connector.assignTo(delayedActions);\r\n            }\r\n            delayedActions.parent_id = !!this.node ? this.node.get(\"id\") : this.get(\"id\");\r\n            delayedActions\r\n                .fetch({\r\n                  reset: true,\r\n                  // Update the actions as soon as possible; event\r\n                  // and promise can be watched by someone else\r\n                  success: _.bind(this._updateOriginalActions, this)\r\n                });\r\n          }\r\n        },\r\n\r\n        _updateOriginalActions: function () {\r\n          var delayedActions = this.delayedActions;\r\n\r\n          function updateNodeActions(node) {\r\n            var actionNode = delayedActions.get(node.get('id'));\r\n            if (actionNode) {\r\n              node.actions.add(actionNode.actions.models);\r\n            }\r\n          }\r\n\r\n          if (this instanceof Backbone.Collection) {\r\n            this.each(updateNodeActions);\r\n          } else {\r\n            updateNodeActions(this);\r\n          }\r\n        },\r\n\r\n        setDefaultActionCommands: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(',');\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.defaultActionCommands, name)) {\r\n              this.defaultActionCommands.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetDefaultActionCommands: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(',');\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.defaultActionCommands, name);\r\n              if (index >= 0) {\r\n                this.defaultActionCommands.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.defaultActionCommands.splice(0, this.defaultActionCommands.length);\r\n          }\r\n        },\r\n\r\n        getRequestedCommandsUrlQuery: function () {\r\n          var commands = this.delayRestCommands ?\r\n                         this.defaultActionCommands : this.includeCommands;\r\n          return commands.length && {commands: commands};\r\n        },\r\n\r\n        getAllCommandsUrlQuery: function () {\r\n          var commands = this.includeCommands;\r\n          return commands.length && {commands: commands};\r\n        },\r\n\r\n        // Stop the delayed action enabling for child models and collections.\r\n        // If they want it, they can do so in the constructors, which creates\r\n        // them. Immediate child models of this collection can be enabled by\r\n        // the delayRestCommandsForModels option.\r\n        _prepareModel: function (attrs, options) {\r\n          var delayRestCommands, delayRestCommandsForModels;\r\n          options || (options = {});\r\n          // If the collection is populated after the constructor has\r\n          // finished, we can use parameters passed to the constructor\r\n          // as defaults, if the population options are empty.\r\n          if (this.delayedActions) {\r\n            delayRestCommands = options.delayRestCommands;\r\n            if (delayRestCommands === undefined) {\r\n              delayRestCommands = this.delayRestCommands;\r\n            }\r\n            delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n            if (delayRestCommandsForModels === undefined) {\r\n              delayRestCommandsForModels = this.delayRestCommandsForModels;\r\n            }\r\n          } else {\r\n            delayRestCommands = options.delayRestCommands;\r\n            delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n          }\r\n          options.delayRestCommands = delayRestCommandsForModels;\r\n          options.delayRestCommandsForModels = false;\r\n          var model = originalPrepareModel.call(this, attrs, options);\r\n          options.delayRestCommands = delayRestCommands;\r\n          options.delayRestCommandsForModels = delayRestCommandsForModels;\r\n          return model;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return DelayedCommandableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/browsable/v1.response.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n\r\n  var BrowsableV1ResponseMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeBrowsableV1Response: function (options) {\r\n          return this;\r\n        },\r\n\r\n        parseBrowsedState: function (response, options) {\r\n          // FIXME: Confirm sorting and filtering parameters too.\r\n          if (response.page) {\r\n            this.actualSkipCount = (response.page - 1) * (response.limit || 0);\r\n          }\r\n          var totalCount = response.total_count ? response.total_count : 0;\r\n          this.totalCount = totalCount;\r\n          this.filteredCount = response.filtered_count || totalCount;\r\n        },\r\n\r\n        parseBrowsedItems: function (response, options) {\r\n          return response.data;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return BrowsableV1ResponseMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/node.children/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url',\r\n  'csui/models/browsable/v1.request.mixin',\r\n  'csui/models/browsable/v1.response.mixin'\r\n], function (_, Url, BrowsableV1RequestMixin, BrowsableV1ResponseMixin) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      BrowsableV1ResponseMixin.mixin(prototype);\r\n      BrowsableV1RequestMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          this.makeBrowsableV1Request(options)\r\n              .makeBrowsableV1Response(options);\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var includeActions = !!this.includeActions,\r\n              query = Url.combineQueryString({\r\n                // Do not request the v1 actions, which are sent by default\r\n                extra: includeActions,\r\n                actions: includeActions\r\n              },\r\n              this.getBrowsableUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getRequestedCommandsUrlQuery()\r\n          );\r\n          return Url.combine(this.node.urlBase(),\r\n              query ? '/nodes?' + query : '/nodes');\r\n        },\r\n\r\n        // TODO: Remove this method and make the cache layer aware of node URLs.\r\n        urlCacheBase: function(){\r\n          return Url.combine(this.node.urlBase(),'/nodes?');\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          this.parseBrowsedState(response, options);\r\n          this.columns && this.columns.resetColumns(response, this.options);\r\n          return this.parseBrowsedItems(response, options);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/nodechildren',[\r\n  'module', 'csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/models/node/node.model', 'csui/models/nodes',\r\n  'csui/models/nodechildrencolumns',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/mixins/delayed.commandable/delayed.commandable.mixin',\r\n  'csui/models/node.children/server.adaptor.mixin',\r\n  'csui/utils/log', 'csui/utils/deepClone/deepClone'\r\n], function (module, $, _, Backbone, Url, NodeModel, NodeCollection,\r\n    NodeChildrenColumnCollection, NodeResourceMixin, ExpandableMixin,\r\n    BrowsableMixin, DelayedCommandableMixin, ServerAdaptorMixin, log) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultPageSize: 30\r\n  });\r\n\r\n  log = log(module.id);\r\n\r\n  var NodeChildrenCollection = NodeCollection.extend({\r\n\r\n    constructor: function NodeChildrenCollection(models, options) {\r\n      options = _.defaults({}, options, {\r\n        top: config.defaultPageSize,\r\n        columnsFromDefinitionsOrder: false\r\n      }, options);\r\n\r\n      NodeCollection.prototype.constructor.call(this, models, options);\r\n\r\n      this.makeNodeResource(options)\r\n          .makeExpandable(options)\r\n          .makeDelayedCommandable(options)\r\n          .makeBrowsable(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      this.options = options;\r\n      this.includeActions = options.includeActions;\r\n      this.columns = new NodeChildrenColumnCollection();\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.models, {\r\n        node: this.node,\r\n        skip: this.skipCount,\r\n        top: this.topCount,\r\n        filter: _.deepClone(this.filters),\r\n        orderBy: this.orderBy,\r\n        expand: _.clone(this.expand),\r\n        includeActions: this.includeActions,\r\n        commands: _.clone(this.includeCommands),\r\n        defaultActionCommands: _.clone(this.defaultActionCommands),\r\n        delayRestCommands: this.delayRestCommands\r\n      });\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    }\r\n  });\r\n\r\n  BrowsableMixin.mixin(NodeChildrenCollection.prototype);\r\n  ExpandableMixin.mixin(NodeChildrenCollection.prototype);\r\n  DelayedCommandableMixin.mixin(NodeChildrenCollection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeChildrenCollection.prototype);\r\n  NodeResourceMixin.mixin(NodeChildrenCollection.prototype);\r\n\r\n  // TODO: Remove this, as soon as all abandoned this.Fetchable.\r\n  var originalFetch = NodeChildrenCollection.prototype.fetch;\r\n  NodeChildrenCollection.prototype.Fetchable = {\r\n    fetch: function (options) {\r\n      // log.warn('Using this.Fetchable.fetch has been deprecated.  ' +\r\n      //          'Use NodeChildrenCollection.prototype.fetch. ' +\r\n      //          'this.Fetchable is going to be removed.') && console.warn(log.last);\r\n      // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n      return originalFetch.call(this, options);\r\n    }\r\n  };\r\n\r\n  return NodeChildrenCollection;\r\n});\r\n\n","csui.define('csui/models/tool.item.config/tool.item.config.collection',[\r\n  'module', 'require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone'\r\n], function (module, require, _, $, Backbone) {\r\n  'use strict';\r\n\r\n  var configs = module.config().configs || [];\r\n  // Support either array of module IDs or a map with keys pointing\r\n  // to arrays of module IDs; the latter can be used for decentralized\r\n  // configuration (multiple calls to require.config, which merge maps,\r\n  // but not arrays)\r\n  if (!Array.isArray(configs)) {\r\n    configs = Object\r\n        .keys(configs)\r\n        .reduce(function (result, key) {\r\n          return result.concat(configs[key]);\r\n        }, []);\r\n  }\r\n  // Convert the array of tool item config module names to model attributes\r\n  configs = configs.map(function (name) {\r\n    return {\r\n      id: name\r\n    };\r\n  });\r\n\r\n  var ToolItemConfigCollection = Backbone.Collection.extend({\r\n\r\n    constructor: function ToolItemConfigCollection(models, options) {\r\n      models || (models = configs);\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n     },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching tool item configurations is supported.');\r\n      }\r\n      var self = this;\r\n      options = _.extend({}, this.options, options);\r\n      return this._resolveConfigs(options)\r\n                 .then(function () {\r\n                   var response = self.toJSON();\r\n                   options.success && options.success(response, options);\r\n                   self.trigger('sync', self, response, options);\r\n                 });\r\n    },\r\n\r\n    _resolveConfigs: function (options) {\r\n      var modules = this.chain()\r\n                        .filter(function (model) {\r\n                          // A resolvable config must have an ID\r\n                          // and not be already resolved\r\n                          return model.has('id') &&\r\n                                 !(model.has('config') ||\r\n                                   model.has('error'));\r\n                        })\r\n                        .pluck('id')\r\n                        .value(),\r\n          deferred = $.Deferred(),\r\n          self = this;\r\n      if (modules.length) {\r\n        require(modules, function () {\r\n          var configs = arguments;\r\n          modules.forEach(function (module, index) {\r\n            var model = self.get(module);\r\n            model.set('config', configs[index]);\r\n          });\r\n          deferred.resolve();\r\n        }, function (error) {\r\n          self.forEach(function (module) {\r\n            module.set('error', error);\r\n          });\r\n          if (options.ignoreErrors) {\r\n            deferred.resolve();\r\n          } else {\r\n            deferred.reject(error);\r\n          }\r\n        });\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return ToolItemConfigCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/tool.item.mask/tool.item.mask.collection',[\r\n  'module', 'require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone'\r\n], function (module, require, _, $, Backbone) {\r\n  'use strict';\r\n\r\n  var masks = module.config().masks || [];\r\n  // Support either array of module IDs or a map with keys pointing\r\n  // to arrays of module IDs; the latter can be used for decentralized\r\n  // configuration (multiple calls to require.config, which merge maps,\r\n  // but not arrays)\r\n  if (!Array.isArray(masks)) {\r\n    masks = Object\r\n        .keys(masks)\r\n        .reduce(function (result, key) {\r\n          return result.concat(masks[key]);\r\n        }, []);\r\n  }\r\n  // Convert the array of tool item mask module names to model attributes\r\n  masks = masks.map(function (name) {\r\n    return {\r\n      id: name\r\n    };\r\n  });\r\n\r\n  var ToolItemMaskCollection = Backbone.Collection.extend({\r\n\r\n    constructor: function ToolItemMaskCollection(models, options) {\r\n      models || (models = masks);\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching tool item masks is supported.');\r\n      }\r\n      var self = this;\r\n      options = _.extend({}, this.options, options);\r\n      return this._resolveMasks(options)\r\n                 .then(function () {\r\n                   var response = self.toJSON();\r\n                   options.success && options.success(response, options);\r\n                   self.trigger('sync', self, response, options);\r\n                 });\r\n    },\r\n\r\n    _resolveMasks: function (options) {\r\n      var modules = this.chain()\r\n                        .filter(function (model) {\r\n                          // A resolvable mask must have an ID\r\n                          // and not be already resolved\r\n                          return model.has('id') &&\r\n                                 !(model.has('mask') ||\r\n                                   model.has('error'));\r\n                        })\r\n                        .pluck('id')\r\n                        .value(),\r\n          deferred = $.Deferred(),\r\n          self = this;\r\n      if (modules.length) {\r\n        require(modules, function () {\r\n          var masks = arguments;\r\n          modules.forEach(function (module, index) {\r\n            var model = self.get(module);\r\n            model.set('mask', masks[index]);\r\n          });\r\n          deferred.resolve();\r\n        }, function (error) {\r\n          self.forEach(function (module) {\r\n            module.set('error', error);\r\n          });\r\n          if (options.ignoreErrors) {\r\n            deferred.resolve();\r\n          } else {\r\n            deferred.reject(error);\r\n          }\r\n        });\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return ToolItemMaskCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/server.module/server.module.collection',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone'\r\n], function (module, _, $, Backbone) {\r\n  'use strict';\r\n\r\n  // Map with ids as keys and attributes as values\r\n  var sourceModules = module.config().modules || {},\r\n  // Convert the configuration map to an array of model attributes\r\n      serverModules = _.map(sourceModules, function (attributes, id) {\r\n        attributes.id = id;\r\n        return attributes;\r\n      });\r\n\r\n  var ServerModuleModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      id: null,   // Require.js module prefix used by the server module\r\n      title: null // Displayable title of the server module\r\n    },\r\n\r\n    constructor: function ServerModuleModel(attributes, options) {\r\n      ServerModuleModel.__super__.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var ServerModuleCollection = Backbone.Collection.extend({\r\n\r\n    model: ServerModuleModel,\r\n\r\n    constructor: function ServerModuleCollection(models, options) {\r\n      models || (models = serverModules);\r\n      ServerModuleCollection.__super__.constructor.call(this, models, options);\r\n    },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching the server modules is supported.');\r\n      }\r\n      var self = this;\r\n      options || (options = {});\r\n      return this._resolveServerModules()\r\n          .then(function () {\r\n            var response = self.toJSON();\r\n            options.success && options.success(response, options);\r\n            self.trigger('sync', self, response, options);\r\n          });\r\n    },\r\n\r\n    _resolveServerModules: function (options) {\r\n      options = _.extend({}, this.options, options);\r\n      var deferred = $.Deferred(),\r\n          missing = this.find(function (serverModule) {\r\n            var sourceModule = sourceModules[serverModule.id];\r\n            if (sourceModule) {\r\n              serverModule.set(sourceModule.attributes);\r\n            } else {\r\n              if (!options.ignoreErrors) {\r\n                return true;\r\n              }\r\n            }\r\n          });\r\n      if (missing) {\r\n        var error = new Error('Invalid module prefix: ' + missing.id);\r\n        return deferred.reject(error);\r\n      }\r\n      return deferred.resolve().promise();\r\n    }\r\n\r\n  });\r\n\r\n  return ServerModuleCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/specificnodemodel',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/node.resource/node.resource.mixin'\r\n], function (_, Backbone, Url, NodeResourceMixin) {\r\n  'use strict';\r\n\r\n  var SpecificNodeModel = Backbone.Model.extend({\r\n\r\n    constructor: function SpecificNodeModel(attributes, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.prototype.constructor.call(this, arguments);\r\n      this.makeNodeResource(options);\r\n    },\r\n\r\n    parse: function (response) {\r\n      return response;\r\n    },\r\n\r\n    url: function () {\r\n\r\n      var node   = this.options.node,\r\n          nodeId = node.get('id'),\r\n          url;\r\n      url = _.str.sformat('forms/nodes/properties/specific?id={0}',\r\n          nodeId);\r\n\r\n      return Url.combine(this.options.connector.connection.url, url);\r\n\r\n    }\r\n\r\n  });\r\n\r\n  NodeResourceMixin.mixin(SpecificNodeModel.prototype);\r\n\r\n  return SpecificNodeModel;\r\n\r\n});\r\n\n","csui.define('csui/models/autofetchable',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function AutoFetchableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeAutoFetchable: function (options) {\r\n        // log.warn('Module \"csui/models/autofetchable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/autofetchable/autofetchable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        options && options.autofetch && this.automateFetch(options.autofetch);\r\n        return this;\r\n      },\r\n\r\n      automateFetch: function (enable) {\r\n        this[enable ? 'on' : 'off'](_.result(this, '_autofetchEvent'),\r\n          _.bind(this._fetchAutomatically, this, enable));\r\n      },\r\n\r\n      isFetchable: function () {\r\n        return !!this.get('id');\r\n      },\r\n\r\n      _autofetchEvent: 'change:id',\r\n\r\n      _fetchAutomatically: function (enableOptions, model, value, options) {\r\n        if (this.isFetchable()) {\r\n         var fullOptions = _.extend({}, enableOptions, options);\r\n        this.fetch(fullOptions);\r\n        }\r\n      }\r\n\r\n    };\r\n    prototype.AutoFetchable = _.clone(prototype);\r\n    \r\n    return prototype;\r\n  }\r\n\r\n  return AutoFetchableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/connectable',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function ConnectableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeConnectable: function (options) {\r\n        // log.warn('Module \"csui/models/connectable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/connectable/connectable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        options && options.connector && options.connector.assignTo(this);\r\n        options && options.connector && this.original && options.connector.assignTo(this.original);\r\n        return this;\r\n      },\r\n\r\n      _prepareModel: function (attrs, options) {\r\n        options || (options = {});\r\n        options.connector = this.connector;\r\n        return ParentModel.prototype._prepareModel.call(this, attrs, options);\r\n      }\r\n\r\n    };\r\n    prototype.Connectable = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  return ConnectableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/fetchable',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log'\r\n], function (module, _, $, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function FetchableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeFetchable: function (options) {\r\n        // log.warn('Module \"csui/models/fetchable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/fetchable/fetchable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        this.autoreset = options && options.autoreset;\r\n        // Workaround for change/add/reset events, which are fired before\r\n        // the caller is informed by sync that fetch successed.\r\n        return this.on('reset', this._beforeFetchSucceeded, this)\r\n            .on('add', this._beforeFetchSucceeded, this)\r\n            .on('change', this._beforeFetchSucceeded, this);\r\n      },\r\n\r\n      _beforeFetchSucceeded: function () {\r\n        this.fetching && this._fetchSucceeded();\r\n      },\r\n\r\n      _fetchSucceeded: function () {\r\n        this.fetching = false;\r\n        this.fetched = true;\r\n      },\r\n\r\n      _fetchFailed: function () {\r\n        this.fetching = false;\r\n      },\r\n\r\n      fetch: function (options) {\r\n        if (!this.fetching) {\r\n          this.fetched = false;\r\n          log.debug('Fetching is starting for {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n          options = this._prepareFetch(options);\r\n          // Ensure that the model is marked fetched before other events are\r\n          // triggered.  If fetching is not silent, change/add/reset will be\r\n          // triggered earlier: change/add/reset, options.*, sync, promise.\r\n          var self = this,\r\n              success = options.success,\r\n              error = options.error;\r\n          options.success = function () {\r\n            log.debug('Fetching succeeded for {0} ({1}).',\r\n                log.getObjectName(self), self.cid) && console.log(log.last);\r\n            self._fetchSucceeded();\r\n            success && success.apply(this, arguments);\r\n          };\r\n          options.error = function () {\r\n            log.debug('Fetching failed for {0} ({1}).',\r\n                log.getObjectName(self), self.cid) && console.log(log.last);\r\n            self._fetchFailed();\r\n            error && error.apply(this, arguments);\r\n          };\r\n          this.fetching = ParentModel.prototype.fetch.call(this, options);\r\n        } else {\r\n          log.debug('Fetching is in progress for {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n        }\r\n        return this.fetching;\r\n      },\r\n\r\n      _prepareFetch: function (options) {\r\n        // Trigger just one item adding operation after fetching if wanted.\r\n        options || (options = {});\r\n        options.reset === undefined && this.autoreset && (options.reset = true);\r\n        return options;\r\n      },\r\n\r\n      ensureFetched: function (options) {\r\n        if (this.fetched) {\r\n          log.debug('No need to fetch {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n          if (options && options.success) {\r\n            options.success(this);\r\n          }\r\n          return $.Deferred()\r\n              .resolve(this, {}, options)\r\n              .promise();\r\n        }\r\n        return this.fetch(options);\r\n      }\r\n\r\n    };\r\n    prototype.Fetchable = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  return FetchableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/including.additional.resources',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function IncludingAdditionalResources(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeIncludingAdditionalResources: function (options) {\r\n        // log.warn('Module \"csui/models/including.additional.resources\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/including.additional.resources/including.additional.resources.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        this._additionalResources = [];\r\n        if (options && options.includeResources) {\r\n          this.includeResources(options.includeResources);\r\n        }\r\n        return this;\r\n      },\r\n\r\n      includeResources: function (names) {\r\n        if (!_.isArray(names)) {\r\n          names = names.split(',');\r\n        }\r\n        this._additionalResources = _.union(this._additionalResources, names);\r\n      },\r\n\r\n      excludeResources: function (names) {\r\n        if (names) {\r\n          if (!_.isArray(names)) {\r\n            names = names.split(',');\r\n          }\r\n          this._additionalResources = _.reject(this._additionalResources, names);\r\n        } else {\r\n          this._additionalResources = [];\r\n        }\r\n      },\r\n\r\n      getAdditionalResourcesUrlQuery: function () {\r\n        return _.reduce(this._additionalResources, function (result, parameter) {\r\n          result[parameter] = 'true';\r\n          return result;\r\n        }, {});\r\n      }\r\n\r\n    };\r\n    prototype.IncludingAdditionalResources = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  return IncludingAdditionalResources;\r\n\r\n});\r\n\n","csui.define('csui/models/nodeautofetchable',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function NodeAutoFetchableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeNodeAutoFetchable: function (options) {\r\n        // log.warn('Module \"csui/models/fetchable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/fetchable/fetchable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        options && options.autofetch && this.automateFetch(options.autofetch);\r\n        return this;\r\n      },\r\n\r\n      automateFetch: function (enable) {\r\n        this.node[enable ? 'on' : 'off'](_.result(this, '_autofetchEvent'),\r\n          _.bind(this._fetchAutomatically, this, enable));\r\n      },\r\n\r\n      isFetchable: function () {\r\n        return this.node.isFetchableDirectly();\r\n      },\r\n\r\n      _autofetchEvent: 'change:id',\r\n\r\n      _fetchAutomatically: function (options) {\r\n        this.isFetchable() && this.fetch(_.isObject(options) && options);\r\n      }\r\n\r\n    };\r\n    prototype.NodeAutoFetchable = _.clone(prototype);\r\n    \r\n    return prototype;\r\n  }\r\n\r\n  return NodeAutoFetchableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/nodeconnectable',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function NodeConnectableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeNodeConnectable: function (options) {\r\n        // log.warn('Module \"csui/models/connectable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/connectable/connectable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        if (options && options.node) {\r\n          this.node = options.node;\r\n          options.node.connector && options.node.connector.assignTo(this);\r\n        }\r\n        return this;\r\n      },\r\n\r\n      _prepareModel: function (attrs, options) {\r\n        options.connector = this.node && this.node.connector;\r\n        return ParentModel.prototype._prepareModel.call(this, attrs, options);\r\n      }\r\n\r\n    };\r\n    prototype.NodeConnectable = _.clone(prototype);\r\n    \r\n    return prototype;\r\n  }\r\n\r\n  return NodeConnectableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/noderesource',['module', 'csui/lib/underscore', 'csui/utils/log',\r\n  'csui/models/nodeconnectable', 'csui/models/fetchable',\r\n  'csui/models/nodeautofetchable'\r\n], function (module, _, log, NodeConnectableModel, FetchableModel,\r\n    NodeAutoFetchableModel) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function NodeResourceModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeNodeResource: function (options) {\r\n        // log.warn('Module \"csui/models/noderesource\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/node.resource/node.resource.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        return this.makeNodeConnectable(options)\r\n            .makeFetchable(options)\r\n            .makeNodeAutoFetchable(options);\r\n      }\r\n\r\n    };\r\n    prototype.NodeResource = _.clone(prototype);\r\n\r\n    return _.extend({},\r\n        NodeConnectableModel(ParentModel),\r\n        FetchableModel(ParentModel),\r\n        NodeAutoFetchableModel(ParentModel),\r\n        prototype);\r\n  }\r\n\r\n  return NodeResourceModel;\r\n\r\n});\r\n\n","csui.define('csui/models/resource',['module', 'csui/lib/underscore', 'csui/utils/log',\r\n  'csui/models/connectable', 'csui/models/fetchable',\r\n  'csui/models/autofetchable'\r\n], function (module, _, log, ConnectableModel, FetchableModel,\r\n  AutoFetchableModel) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function ResourceModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeResource: function (options) {\r\n        // log.warn('Module \"csui/models/resource\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/resource/resource.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        return this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAutoFetchable(options);\r\n      }\r\n\r\n    };\r\n    prototype.Resource = _.clone(prototype);\r\n    \r\n    return _.extend({},\r\n      ConnectableModel(ParentModel),\r\n      FetchableModel(ParentModel),\r\n      AutoFetchableModel(ParentModel),\r\n      prototype);\r\n  }\r\n\r\n  return ResourceModel;\r\n\r\n});\r\n\n","csui.define('csui/models/uploadable',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/utils/log'\r\n], function (module, _, $, Backbone, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function UploadableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeUploadable: function (options) {\r\n        // log.warn('Module \"csui/models/uploadable\" has been deprecated and is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/uploadable/uploadable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        return this;\r\n      },\r\n\r\n      sync: function (method, model, options) {\r\n        var data = options.data || options.attrs || this.attributes;\r\n        // Make sure, that POST and PUT urls do not contain the URL query\r\n        // part.  It is not possible to ensure it inside the url function.\r\n        function currectUpdatingUrl() {\r\n          var url = options.url || _.result(model, 'url');\r\n          return url.replace(/\\?.*$/, '');\r\n        }\r\n\r\n        if (method === 'create') {\r\n          log.debug('Creating {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n          var formData = new FormData();\r\n          formData.append('body', JSON.stringify(data));\r\n\r\n          // append file, if there is\r\n          _.each(_.keys(options.files || {}), function (key) {\r\n            var files = options.files[key], i;\r\n            if (_.isArray(files) && files.length > 1) {\r\n              // TODO: Adapt this according to the server support.\r\n              for (i = 0; i < files.length; ++i) {\r\n                var name = i ? key + i : key;\r\n                formData.append(name, files[i]);\r\n              }\r\n            } else if (files) {\r\n              formData.append(key, files);\r\n            }\r\n          });\r\n\r\n          _.extend(options, {\r\n            data: formData,\r\n            contentType: false,\r\n            url: currectUpdatingUrl()\r\n          });\r\n        } else if (method === 'update' || method === 'patch') {\r\n          log.debug('Updating {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n          method = 'update';\r\n          data = {body: JSON.stringify(data)};\r\n          _.extend(options, {\r\n            data: $.param(data),\r\n            contentType: 'application/x-www-form-urlencoded',\r\n            url: currectUpdatingUrl()\r\n          });\r\n        }\r\n        return Backbone.sync(method, model, options);\r\n      }\r\n\r\n    };\r\n    prototype.Uploadable = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  return UploadableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/versions/v2.versions.response.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  'use strict';\r\n\r\n  var VersionsV2ResponseMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeVersionableV2Response: function (options) {\r\n          return this;\r\n        },\r\n\r\n        parseVersionsResponse: function (response) {\r\n          if (!!response.results && !!response.results.data) {\r\n            return response.results.data.versions;\r\n          }\r\n          return response;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n  return VersionsV2ResponseMixin;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/version.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var url = Url.combine(this.connector.connection.url, 'nodes',\r\n            this.get('id'), 'versions');\r\n          if (!this.isNew()) {\r\n            url = Url.combine(url.replace(\"/v1\", \"/v2\"), this.get('version_number'));\r\n            var query = Url.combineQueryString(\r\n              this.getExpandableResourcesUrlQuery()\r\n            );\r\n            if (query) {\r\n              url += '?' + query;\r\n            }\r\n          }\r\n\r\n          return url;\r\n        },\r\n\r\n        parse: function (response) {\r\n          // Handle both version objects when parsed from the single\r\n          // /versions/:id and the collection /versions responses.\r\n          var version = response.data || this.parseVersionsResponse(response);\r\n\r\n          // TODO: Remove this.  Version properties should have its own general\r\n          // property panel instead of using the node and breaking each other\r\n          // when one of them gets changed\r\n          /*if (version.type === undefined) {\r\n            version.type = 144;\r\n          }*/\r\n\r\n          // get node type info from NodeVersionCollection for Version Collection, if it is single\r\n          // fetch then collect it from rest api response id_expand object\r\n          if (version.id_expand && version.id_expand.type) {\r\n            version.type = version.id_expand.type;\r\n          }\r\n\r\n          if (!!version.version_number_name) {\r\n            version.version_number_name_formatted = version.version_number_name;\r\n          }\r\n\r\n          if (version.commands) {\r\n            var commands = version.commands;\r\n            version.actions = _\r\n              .chain(commands)\r\n              .keys()\r\n              .map(function (key) {\r\n                var attributes = commands[key];\r\n                attributes.signature = key;\r\n                return attributes;\r\n              })\r\n              .value();\r\n            delete version.commands;\r\n            delete version.commands_map;\r\n            delete version.commands_order;\r\n          }\r\n\r\n          return version;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/version',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/log', 'csui/utils/url', 'csui/models/actions',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/mixins/versions/v2.versions.response.mixin',\r\n  'csui/models/server.adaptors/version.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, log, Url, ActionCollection,\r\n    ExpandableMixin, ResourceMixin, UploadableMixin, VersionsableV2ResponseMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var VersionModel = Backbone.Model.extend({\r\n\r\n    idAttribute: 'version_number',\r\n\r\n    constructor: function VersionModel(attributes, options) {\r\n      attributes || (attributes = {});\r\n      options = _.extend({expand: ['user', 'versions{id, owner_id}']}, options);\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options)\r\n          .makeUploadable(options)\r\n          .makeVersionableV2Response(options)\r\n          .makeExpandable(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      if (!attributes.actions) {\r\n        this.actions = new ActionCollection();\r\n      }\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector,\r\n        expand: _.deepClone(this.expand)\r\n      });\r\n    },\r\n\r\n    set: function (key, val, options) {\r\n      var attrs;\r\n      if (key == null) {\r\n        return this;\r\n      }\r\n\r\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\r\n      if (typeof key === 'object') {\r\n        attrs = key;\r\n        options = val;\r\n      } else {\r\n        (attrs = {})[key] = val;\r\n      }\r\n\r\n      options || (options = {});\r\n\r\n      // TODO: Support sub-models and sub-collections in general\r\n      if (attrs.actions) {\r\n        if (this.actions) {\r\n          this.actions.reset(attrs.actions, options);\r\n        } else {\r\n          this.actions = new ActionCollection(attrs.actions);\r\n        }\r\n      }\r\n\r\n      // do the usual set\r\n      return Backbone.Model.prototype.set.call(this, attrs, options);\r\n    },\r\n\r\n    isNew: function () {\r\n      return !this.has('version_number');\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return !!(this.get('id') && this.get('version_number'));\r\n    }\r\n\r\n  });\r\n\r\n  ExpandableMixin.mixin(VersionModel.prototype);\r\n  UploadableMixin.mixin(VersionModel.prototype);\r\n  ResourceMixin.mixin(VersionModel.prototype);\r\n  VersionsableV2ResponseMixin.mixin(VersionModel.prototype);\r\n  ServerAdaptorMixin.mixin(VersionModel.prototype);\r\n\r\n  return VersionModel;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/widget.model',[\r\n  'require', 'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/utils/log',\r\n  'csui/models/server.module/server.module.collection',\r\n  'csui/models/tool.item.config/tool.item.config.collection',\r\n  'csui/models/tool.item.mask/tool.item.mask.collection'\r\n], function (require, module, _, $, Backbone, log,\r\n    ServerModuleCollection, ToolItemConfigCollection, ToolItemMaskCollection) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var WidgetModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      id: null,       // Require.js module ID\r\n      view: null,     // Resolved function object of the widget's view controller\r\n      manifest: null, // Resolved meta-data describing the widget\r\n      error: null     // Error from the widget's resolution if it failed\r\n    },\r\n\r\n    constructor: function WidgetModel(attributes, options) {\r\n      this.options = _.defaults({}, options, {\r\n        includeView: true,\r\n        includeManifest: true,\r\n        includeServerModule: true,\r\n        includeToolItems: true\r\n      });\r\n      if (this.options.includeToolItems) {\r\n        this.options.includeManifest = true;\r\n      }\r\n      WidgetModel.__super__.constructor.call(this, attributes, this.options);\r\n      this.serverModule = new ServerModuleCollection.prototype.model();\r\n      this.actions = new Backbone.Collection();\r\n    },\r\n\r\n    getDefaultData: function () {\r\n      var manifest = this.get('manifest');\r\n      return manifest ? this._getDefaultPropertyValue(manifest.schema) : {};\r\n    },\r\n\r\n    _getDefaultPropertyValue: function (schema) {\r\n      if (schema) {\r\n        if (schema.type === 'object') {\r\n          return _.reduce(schema.properties,\r\n              function (result, propertySchema, propertyName) {\r\n                result[propertyName] = this._getDefaultPropertyValue(propertySchema);\r\n                return result;\r\n              }, {}, this);\r\n        }\r\n        return schema['default'];\r\n      }\r\n    },\r\n\r\n    _getDefaultPrimitiveValue: function (schema) {\r\n      if (schema) {\r\n        var value = schema['default'];\r\n        if (value !== undefined) {\r\n          return value;\r\n        }\r\n        switch (schema.type) {\r\n        case 'string':\r\n          return '';\r\n        case 'integer':\r\n        case 'number':\r\n          return 0;\r\n        case 'boolean':\r\n          return false;\r\n        case 'array':\r\n          return [];\r\n        case 'null':\r\n          return null;\r\n        }\r\n      }\r\n    },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching the widget is supported.');\r\n      }\r\n      options = _.extend({}, this.options, options);\r\n      _.defaults(options, {\r\n        includeView: this.options.includeView,\r\n        includeManifest: this.options.includeManifest,\r\n        includeServerModule: this.options.includeServerModule,\r\n        includeToolItems: this.options.includeToolItems\r\n      });\r\n      if (options.includeToolItems) {\r\n        options.includeManifest = true;\r\n      }\r\n      var serverModulesPromise = this._resolveServerModules(options),\r\n          toolItemsPromise     = this._resolveToolItems(options),\r\n          toolItemMasksPromise = this._resolveToolItemMasks(options),\r\n          self = this;\r\n      return $.when(serverModulesPromise, toolItemsPromise, toolItemMasksPromise)\r\n              .then(_.bind(this._resolveWidget, this, options))\r\n              .then(function () {\r\n                var response = self.toJSON();\r\n                options.success && options.success(response, options);\r\n                self.trigger('sync', self, response, options);\r\n              }, function () {\r\n                var error = self.get('error');\r\n                options.error && options.error(error, options);\r\n                self.trigger('error', self, error, options);\r\n                return $.Deferred().reject(error);\r\n              });\r\n    },\r\n\r\n    _resolveWidget: function (options) {\r\n      var viewPromise     = this._resolveView(options),\r\n          manifestPromise = this._resolveManifest(options),\r\n          self = this;\r\n      return $.when(viewPromise, manifestPromise)\r\n              .then(function () {\r\n                self._updateServerModule(options);\r\n                self._updateActions(options);\r\n              });\r\n    },\r\n\r\n    _resolveView: function (options) {\r\n      var deferred = $.Deferred();\r\n      if (options.includeView) {\r\n        var self       = this,\r\n            widgetData = this.getModuleData(),\r\n            viewPath   = this.getViewModulePath(widgetData);\r\n        require([viewPath],\r\n            function (View) {\r\n              self.set('view', View);\r\n              deferred.resolve();\r\n            }, function (error) {\r\n              self.set('error', error);\r\n              if (options.ignoreErrors) {\r\n                deferred.resolve();\r\n              } else {\r\n                deferred.reject(error);\r\n              }\r\n            });\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    _resolveManifest: function (options) {\r\n      var deferred = $.Deferred();\r\n      if (options.includeManifest) {\r\n        var self         = this,\r\n            widgetData   = this.getModuleData(),\r\n            manifestPath = this.getManifestModulePath(widgetData);\r\n        require([manifestPath],\r\n            function (manifest) {\r\n              if (self._needsLocalization(manifest)) {\r\n                var manifestLocalizedPath = self.getLocalizedManifestModulePath(widgetData);\r\n                require([manifestLocalizedPath],\r\n                    function (manifestLocalized) {\r\n                      manifest = self._renderLocalizedManifest(manifestPath,\r\n                          manifest, manifestLocalized);\r\n                      self.set('manifest', manifest);\r\n                      deferred.resolve();\r\n                    }, function (error) {\r\n                      if (!self.has('error')) {\r\n                        self.set('error', error);\r\n                      }\r\n                      if (options.ignoreErrors || options.ignoreManifestErrors) {\r\n                        // If errors are ignored, return not localized manifest;\r\n                        // if it were undefined, non-robust consumers might crash\r\n                        self.set('manifest', manifest);\r\n                        deferred.resolve();\r\n                      } else {\r\n                        deferred.reject(error);\r\n                      }\r\n                    });\r\n              } else {\r\n                self.set('manifest', manifest);\r\n                deferred.resolve();\r\n              }\r\n            }, function (error) {\r\n              if (!self.has('error')) {\r\n                self.set('error', error);\r\n              }\r\n              if (options.ignoreErrors || options.ignoreManifestErrors) {\r\n                // If errors are ignored, return an empty manifest;\r\n                // if it were undefined, non-robust consumers might crash\r\n                self.set('manifest', {});\r\n                deferred.resolve();\r\n              } else {\r\n                deferred.reject(error);\r\n              }\r\n            });\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    _resolveServerModules: function (options) {\r\n      var serverModules;\r\n      if (options.includeServerModule && !options.serverModules) {\r\n        options.serverModules = serverModules = new ServerModuleCollection();\r\n        return serverModules.fetch({ignoreErrors: options.ignoreErrors});\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _resolveToolItems: function (options) {\r\n      var toolItems;\r\n      if (options.includeToolItems && !options.toolItems) {\r\n        options.toolItems = toolItems = new ToolItemConfigCollection();\r\n        return toolItems.fetch({ignoreErrors: options.ignoreErrors});\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _resolveToolItemMasks: function (options) {\r\n      var toolItemMasks;\r\n      if (options.includeToolItems && !options.toolItemMasks) {\r\n        options.toolItemMasks = toolItemMasks = new ToolItemMaskCollection();\r\n        return toolItemMasks.fetch({ignoreErrors: options.ignoreErrors});\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _getModulePrefix: function () {\r\n      var name       = this.get('id'),\r\n          firstSlash = name.indexOf('/');\r\n      // Enable widget names without the module path for the core widgets;\r\n      // compatibility for early perspectives, which did not use full paths\r\n      return firstSlash < 0 ? 'csui' : name.substring(0, firstSlash);\r\n    },\r\n\r\n    getModuleData: function () {\r\n      var name      = this.get('id'),\r\n          lastSlash = name.lastIndexOf('/'),\r\n          path;\r\n      // Enable widget names without the module path for the core widgets;\r\n      // compatibility for early perspectives, which did not use full paths\r\n      if (lastSlash < 0) {\r\n        path = 'csui/widgets/' + name;\r\n      } else {\r\n        path = name;\r\n        name = name.substring(lastSlash + 1);\r\n      }\r\n      return {\r\n        name: name,\r\n        path: path\r\n      };\r\n    },\r\n\r\n    getViewModulePath: function (moduleData) {\r\n      return moduleData.path + '/' + moduleData.name + '.view';\r\n    },\r\n\r\n    getManifestModulePath: function (moduleData) {\r\n      return 'json!' + moduleData.path + '/' + moduleData.name + '.manifest.json';\r\n    },\r\n\r\n    getLocalizedManifestModulePath: function (moduleData) {\r\n      return 'i18n!' + moduleData.path + '/impl/nls/' + moduleData.name + '.manifest';\r\n    },\r\n\r\n    _updateServerModule: function (options) {\r\n      if (options.includeServerModule) {\r\n        var modulePrefix = this._getModulePrefix(),\r\n            serverModule = options.serverModules.get(modulePrefix),\r\n            attributes   = serverModule && serverModule.toJSON() ||\r\n                {id: modulePrefix};\r\n        this.serverModule.set(attributes);\r\n      }\r\n    },\r\n\r\n    _updateActions: function (options) {\r\n      if (options.includeToolItems) {\r\n        var manifest = this.get('manifest'),\r\n            actions = manifest && manifest.actions;\r\n        this.actions.reset(actions, {silent: true});\r\n        this.actions.each(function (action) {\r\n          action.toolItems = options.toolItems.get(action.get('toolItems'));\r\n          action.toolItemMasks = options.toolItemMasks.get(action.get('toolItemMasks'));\r\n          action.toolbars = new Backbone.Collection(action.get('toolbars'));\r\n        });\r\n        if (!options.silent) {\r\n          this.actions.trigger('reset', this.actions, options);\r\n        }\r\n      }\r\n    },\r\n\r\n    _renderLocalizedManifest: function (manifestPath, manifest, localizedManifest) {\r\n      function traverseManifest(object, localizedManifestParent) {\r\n        var key, value, localizationKey, arrayItem, localizationArrayItem, i;\r\n        function getLocalizationKey(value) {\r\n          return _.isString(value) && value.indexOf('{{') === 0 &&\r\n                 value.lastIndexOf('}}') === value.length - 2 &&\r\n                 value.substring(2, value.length - 2);\r\n        }\r\n        for (key in object) {\r\n          if (object.hasOwnProperty(key)) {\r\n            value = object[key];\r\n            localizationKey = getLocalizationKey(value);\r\n            if (localizationKey) {\r\n              // Support both real and dummy localization keys\r\n              object[key] = localizedManifestParent[localizationKey] ||\r\n                            localizedManifestParent[key] ||\r\n                            // Show the localization string key in case\r\n                            // the value is missing\r\n                            value;\r\n            } else if (_.isArray(value)) {\r\n              localizationArrayItem = localizedManifestParent[key] || [];\r\n              for (i = 0; i < value.length; ++i) {\r\n                arrayItem = value[i];\r\n                localizationKey = getLocalizationKey(arrayItem);\r\n                if (localizationKey) {\r\n                  // Support both array of dummy placeholders and flat\r\n                  // localization by unique property names.\r\n                  value[i] = localizationArrayItem[i] ||\r\n                             // Support both real and dummy localization keys\r\n                             localizedManifestParent[localizationKey] ||\r\n                             localizedManifestParent[key] ||\r\n                             // Show the localization string key in case\r\n                             // the value is missing\r\n                             arrayItem;\r\n                } else if (_.isObject(arrayItem)) {\r\n                  // Support both hierarchical and flat localization modules\r\n                  value[i] = traverseManifest(arrayItem, localizationArrayItem[i] ||\r\n                                                         localizedManifestParent);\r\n                }\r\n              }\r\n            } else if (_.isObject(value)) {\r\n              if (localizedManifestParent[key]) {\r\n                log.warn(\r\n                    'Hierarchical format has been detected in the localization ' +\r\n                    'module \"{0}\". It has been deprecated and the support for it ' +\r\n                    'will be removed. Please, change it to the flat format as soon ' +\r\n                    'as possible. Although JSON format allows using nested objects, ' +\r\n                    'automated translation tools can handle only key-value pairs. ' +\r\n                    'That is why localization modules has to contain only one ' +\r\n                    'object with properties pointing to strings.', manifestPath)\r\n                && console.log(log.last);\r\n              }\r\n              // Support both hierarchical and flat localization modules\r\n              object[key] = traverseManifest(value, localizedManifestParent[key] ||\r\n                                                    localizedManifestParent);\r\n            }\r\n          }\r\n        }\r\n        return object;\r\n      }\r\n\r\n      return traverseManifest(manifest, localizedManifest);\r\n    },\r\n\r\n    _needsLocalization: function (object) {\r\n      function isLocalizableString(value) {\r\n        return typeof value === 'string' && value.indexOf('{{') === 0 &&\r\n               value.lastIndexOf('}}') === value.length - 2;\r\n      }\r\n\r\n      var value;\r\n\r\n      for (var key in object) {\r\n        if (object.hasOwnProperty(key)) {\r\n          value = object[key];\r\n          if (isLocalizableString(value)) {\r\n            return true;\r\n          } else if (_.isArray(value)) {\r\n            for (var i = 0; i < value.length; i++) {\r\n              if (isLocalizableString(value[i])) {\r\n                return true;\r\n              }\r\n            }\r\n          } else if (typeof value === 'object') {\r\n            return this._needsLocalization(value);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return WidgetModel;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/widget.collection',[\r\n  'require', 'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/models/widget/widget.model',\r\n  'csui/models/server.module/server.module.collection',\r\n  'csui/models/tool.item.config/tool.item.config.collection',\r\n  'csui/models/tool.item.mask/tool.item.mask.collection'\r\n], function (require, module, _, $, Backbone, WidgetModel,\r\n    ServerModuleCollection, ToolItemConfigCollection, ToolItemMaskCollection) {\r\n  'use strict';\r\n\r\n  var widgets = module.config().widgets || [];\r\n  // Support either array of module IDs or a map with keys pointing\r\n  // to arrays of module IDs; the latter can be used for decentralized\r\n  // configuration (multiple calls to require.config, which merge maps,\r\n  // but not arrays)\r\n  if (!_.isArray(widgets)) {\r\n    widgets = Array.prototype.concat.apply([], _.values(widgets));\r\n  }\r\n  // Convert the array of widget names to model attributes\r\n  widgets = _.map(widgets, function (name) {\r\n    return {\r\n      id: name\r\n    };\r\n  });\r\n\r\n  var WidgetCollection = Backbone.Collection.extend({\r\n\r\n    model: WidgetModel,\r\n\r\n    constructor: function WidgetCollection(models, options) {\r\n      // Store the options before calling the parent constructor;\r\n      // model processing in _prepareModel may access the options\r\n      this.options = _.defaults({}, options, {\r\n        includeView: true,\r\n        includeManifest: true,\r\n        includeServerModule: true,\r\n        includeToolItems: true\r\n      });\r\n      if (this.options.includeToolItems) {\r\n        this.options.includeManifest = true;\r\n      }\r\n      models || (models = widgets);\r\n      WidgetCollection.__super__.constructor.call(this, models, options);\r\n    },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching the widgets is supported.');\r\n      }\r\n      var self = this;\r\n      options = _.extend({}, this.options, options);\r\n      if (options.includeToolItems) {\r\n        options.includeManifest = true;\r\n      }\r\n      var serverModulesPromise = this._resolveServerModules(options),\r\n          toolItemsPromise     = this._resolveToolItems(options),\r\n          toolItemMasksPromise = this._resolveToolItemMasks(options);\r\n      return $.when(serverModulesPromise, toolItemsPromise, toolItemMasksPromise)\r\n              .then(_.bind(this._resolveWidgets, this, options))\r\n              .then(function () {\r\n                var response = self.toJSON();\r\n                options.success && options.success(response, options);\r\n                self.trigger('sync', self, response, options);\r\n              });\r\n    },\r\n\r\n    _prepareModel: function (attrs, options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        includeView: this.options.includeView,\r\n        includeManifest: this.options.includeManifest,\r\n        includeServerModule: this.options.includeServerModule,\r\n        includeToolItems: this.options.includeToolItems\r\n      });\r\n      return WidgetCollection.__super__._prepareModel.call(this, attrs, options);\r\n    },\r\n\r\n    _resolveServerModules: function (options) {\r\n      var serverModules = options.serverModules;\r\n      if (serverModules || !options.includeServerModule) {\r\n        return $.Deferred().resolve().promise();\r\n      }\r\n      serverModules = options.serverModules = new ServerModuleCollection();\r\n      return serverModules.fetch({ignoreErrors: options.ignoreErrors !== false});\r\n    },\r\n\r\n    _resolveToolItems: function (options) {\r\n      var toolItems = options.toolItems;\r\n      if (toolItems || !options.includeToolItems) {\r\n        return $.Deferred().resolve().promise();\r\n      }\r\n      toolItems = options.toolItems = new ToolItemConfigCollection();\r\n      return toolItems.fetch({ignoreErrors: options.ignoreErrors !== false});\r\n    },\r\n\r\n    _resolveToolItemMasks: function (options) {\r\n      var toolItemMasks = options.toolItemMasks;\r\n      if (toolItemMasks || !options.includeToolItems) {\r\n        return $.Deferred().resolve().promise();\r\n      }\r\n      toolItemMasks = options.toolItemMasks = new ToolItemMaskCollection();\r\n      return toolItemMasks.fetch({ignoreErrors: options.ignoreErrors !== false});\r\n    },\r\n\r\n    _resolveWidgets: function (options) {\r\n      var resolvableModels = this.filter(function (model) {\r\n            // A resolvable widget must have an ID and it was already resolved\r\n            // neither with a success nor with a failure\r\n            return model.has('id') &&\r\n                   !(model.has('view') || model.has('manifest') || model.has('error'));\r\n          }),\r\n          promises = _.invoke(resolvableModels, 'fetch', {\r\n            ignoreErrors: options.ignoreErrors !== false,\r\n            ignoreManifestErrors: options.ignoreManifestErrors !== false,\r\n            includeView: options.includeView,\r\n            includeManifest: options.includeManifest,\r\n            includeServerModule: options.includeServerModule,\r\n            includeToolItems: options.includeToolItems,\r\n            serverModules: options.serverModules,\r\n            toolItems: options.toolItems,\r\n            toolItemMasks: options.toolItemMasks\r\n          });\r\n      return $.when.apply($, promises);\r\n    }\r\n\r\n  });\r\n\r\n  return WidgetCollection;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/classic.nodes/classic.nodes',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external Classic UI node rules\r\n  'csui-ext!csui/utils/classic.nodes/classic.nodes'\r\n], function (_, Backbone, Url, RulesMatchingMixin, rules) {\r\n  'use strict';\r\n\r\n  var ClassicNodeModel = Backbone.Model.extend({\r\n    defaults: {\r\n      sequence: 100,\r\n      url: null,\r\n      urlQuery: null,\r\n      force: false\r\n    },\r\n\r\n    constructor: function ClassicNodeModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(ClassicNodeModel.prototype);\r\n\r\n  var ClassicNodeCollection = Backbone.Collection.extend({\r\n    model: ClassicNodeModel,\r\n    comparator: 'sequence',\r\n\r\n    constructor: function ClassicNodeCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByNode: function (node, options) {\r\n      var model = this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n      if (model) {\r\n        return {\r\n          url: this._getUrl(model, node, options),\r\n          forced: model.get('forced')\r\n        };\r\n      }\r\n    },\r\n\r\n    isForced: function (node, options) {\r\n      return this.some(function (item) {\r\n        return item.get('forced') &&\r\n               item.matchRules(node, item.attributes);\r\n      });\r\n    },\r\n\r\n    isSupported: function (node, options) {\r\n      return this.some(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n    },\r\n\r\n    getUrl: function (node, options) {\r\n      var model = this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n      if (model) {\r\n        return this._getUrl(model, node, options);\r\n      }\r\n    },\r\n\r\n    _getUrl: function (model, node, options) {\r\n      var url = model.get('url');\r\n      if (url) {\r\n        // Receive a complete URL\r\n        if (typeof url === 'string') {\r\n          url = this._replaceParameters(url, node.attributes);\r\n        } else if (typeof url === 'function') {\r\n          url = url(node);\r\n        }\r\n      } else {\r\n        var urlQuery = model.get('urlQuery');\r\n        if (urlQuery) {\r\n          // Receive a URL query to be appended to the CGI URL\r\n          if (typeof urlQuery === 'string') {\r\n            urlQuery = this._replaceParameters(urlQuery, node.attributes);\r\n          } else if (typeof urlQuery === 'function') {\r\n            urlQuery = urlQuery(node);\r\n          }\r\n          var connector = options && options.connector || node.connector;\r\n          if (connector) {\r\n            url = new Url(connector.connection.url).getCgiScript();\r\n          } else {\r\n            url = '';\r\n          }\r\n          urlQuery = Url.combineQueryString(urlQuery);\r\n          url = Url.appendQuery(url, urlQuery);\r\n        }\r\n      }\r\n      return url;\r\n    },\r\n\r\n    _replaceParameters: function (expression, node) {\r\n      var attributes = node.attributes,\r\n          parameter = /{([^}]+)}/g,\r\n          match, names, value, index;\r\n      // Go over every parameter placeholder found\r\n      while ((match = parameter.exec(expression))) {\r\n        names = match[1].split('.');\r\n        value = attributes;\r\n        // Nested object property names are separated by dots\r\n        _.find(names, function (name) {\r\n          value = value[name];\r\n          if (value == null) {\r\n            value = '';\r\n            return true;\r\n          }\r\n        });\r\n        // Replace the placeholder with the value found\r\n        index = match.index;\r\n        expression = expression.substring(0, index) +\r\n                     encodeURIComponent(value) +\r\n                     expression.substring(index + match[0].length);\r\n      }\r\n      return expression;\r\n    }\r\n  });\r\n\r\n  var classicNodes = new ClassicNodeCollection();\r\n\r\n  if (rules) {\r\n    classicNodes.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return classicNodes;\r\n});\r\n\n","\n","csui.define('csui/utils/authenticators/authenticators',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external authenticator rules\r\n  'csui-ext!csui/utils/authenticators/authenticators'\r\n], function (_, Backbone, RulesMatchingMixin, rules) {\r\n  'use strict';\r\n\r\n  var AuthenticatorModel = Backbone.Model.extend({\r\n    defaults: {\r\n      sequence: 100,\r\n      authenticator: null\r\n    },\r\n\r\n    constructor: function AuthenticatorModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(AuthenticatorModel.prototype);\r\n\r\n  var AuthenticatorCollection = Backbone.Collection.extend({\r\n    model: AuthenticatorModel,\r\n    comparator: 'sequence',\r\n\r\n    constructor: function AuthenticatorCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    },\r\n\r\n    findByConnection: function (connection) {\r\n      var rule = this.find(function (item) {\r\n        return item.matchRules(connection, item.attributes);\r\n      });\r\n      return rule && rule.get('authenticator');\r\n    }\r\n  });\r\n\r\n  var authenticators = new AuthenticatorCollection();\r\n\r\n  if (rules) {\r\n    authenticators.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return authenticators;\r\n});\r\n\n","csui.define('csui/utils/connector',[\r\n  'require', 'module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/lib/backbone', 'csui/utils/log', 'csui/utils/base',\r\n  'csui/utils/url', 'i18n', 'i18n!csui/utils/impl/nls/lang',\r\n  'csui/utils/authenticators/authenticators',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/lib/jquery.ajax-progress'\r\n], function (require, module, $, _, Backbone, log, base,\r\n  Url, i18n, lang, authenticators, UploadableMixin) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    connectionTimeout: undefined\r\n  }, module.config());\r\n\r\n  var pageUnloading = false;\r\n  $(window).bind('beforeunload.' + module.id, function (event) {\r\n    pageUnloading = true;\r\n  });\r\n\r\n  function Connector(options) {\r\n    this.connection = options.connection;\r\n    this.authenticator = options.authenticator;\r\n    if (!this.authenticator) {\r\n      var Authenticator = authenticators.findByConnection(this.connection);\r\n      if (!Authenticator) {\r\n        throw new Error(\r\n          'No authenticator found. Load csui-extensions.json to enable built-in authenticators.');\r\n      }\r\n      this.authenticator = new Authenticator();\r\n    }\r\n    // The connection is owned by the connector but the authenticator\r\n    // may be created by the client independently on the connector\r\n    // and passed in. The connection must come from the connector.\r\n    this.authenticator.connection = this.connection;\r\n    this.authenticator.connectionTimeout = this.connectionTimeout;\r\n    this.authenticationPending = false;\r\n    this.waitingRequests = [];\r\n  }\r\n\r\n  function assignTo(model) {\r\n    // Allow multiple calls when connectable is mixed\r\n    // with node.connectable, for example\r\n    if (model.connector) {\r\n      if (model.connector === this) {\r\n        return;\r\n      }\r\n      // The sync() method cannot be overridden twice\r\n      throw new Error('Impossible to re-assign connector.');\r\n    }\r\n    model.connector = this;\r\n    return overrideBackboneSync.call(this, model);\r\n  }\r\n\r\n  function overrideBackboneSync(model) {\r\n    var self = this;\r\n    var originalSync = model.sync;\r\n    model.sync = function (method, model, options) {\r\n      var jqxhr;\r\n\r\n      function executeSync() {\r\n        // If we caught unload event earlier and now a new request is going\r\n        // to be executed, let's assume, that page unloading was cancelled\r\n        pageUnloading = false;\r\n        self.extendAjaxOptions(options);\r\n        // The options for the $.ajax() serve as the carrier of the\r\n        // deferred object; jQuery AJAX callbacks are on a lower level\r\n        // and  do not have access to the Backbone model.\r\n        var deferred = options.deferred;\r\n        jqxhr = originalSync.call(model, method, model, options)\r\n          .progress(deferred.notify)\r\n          .done(deferred.resolve)\r\n          .fail(function (request, message, statusText) {\r\n            // Let the promise akceptors wait forever on page unload\r\n            if (!pageUnloading) {\r\n              deferred.reject(request, message, statusText);\r\n            }\r\n          });\r\n        return addAbort(deferred.promise());\r\n      }\r\n\r\n      function addAbort(promise) {\r\n        // extend the locally created promise with an additional abort method\r\n        // not to break the Backbone.sync contract - it returns the jqxhr\r\n        // object, which includes not only the promise methods, but also AJAX\r\n        // call controlling methods like abort\r\n        promise.abort = function () {\r\n          // If noabort method exists, the model either does not support it\r\n          // or the request was aborted while still in the waiting queue\r\n          if (jqxhr.abort) {\r\n            jqxhr.abort();\r\n          }\r\n          return this;\r\n        };\r\n        return promise;\r\n      }\r\n\r\n      if (self.authenticator.isAuthenticated()) {\r\n        return executeSync();\r\n      }\r\n\r\n      var executor = {\r\n        execute: executeSync,\r\n        deferred: $.Deferred()\r\n      };\r\n      self.waitingRequests.push(executor);\r\n\r\n      authenticate.call(self, function success() {\r\n        executeWaitingRequests.call(self);\r\n      }, function fail(error) {\r\n        cancelWaitingRequests.call(self);\r\n        reportError(error);\r\n      });\r\n\r\n      return addAbort(executor.deferred.promise());\r\n    };\r\n    return this;\r\n  }\r\n\r\n  function getConnectionUrl() {\r\n    return new Url(this.connection.url);\r\n  }\r\n\r\n  function extendAjaxOptions(options) {\r\n    options.headers || (options.headers = {});\r\n    _.extend(options.headers, this.connection.headers);\r\n    _.extend(options.headers, {\r\n      'Accept-Language': i18n.settings.locale\r\n    });\r\n    this.authenticator.setAuthenticationHeaders(options.headers);\r\n    options.timeout = this.connectionTimeout;\r\n    // jQuery doesn't notify the promises about the data transfer\r\n    // progress; we do it by our progress event handler below and\r\n    // just relay the other promise events as they come.\r\n    options.deferred = $.Deferred();\r\n\r\n    var self = this;\r\n\r\n    var beforeSend = options.beforeSend;\r\n    options.beforeSend = function (request, settings) {\r\n      // Progress event handler doesn't have access to the the jQuery AJAX\r\n      // object; let's use the options in this scope as its carrier.\r\n      options.request = request;\r\n      request.settings = settings;\r\n      if (self.reportSending) {\r\n        self.reportSending(request, settings);\r\n      }\r\n      if (beforeSend) {\r\n        beforeSend(request, settings);\r\n      }\r\n      // There's no progress event at the very start of uploading; it may be\r\n      // useful to be notified about it though.  jQuery promises have no\r\n      // start event; just notify and done, that's why we send one extra\r\n      // notification with non-computable length to notify about the very\r\n      // start.\r\n      options.progress({\r\n        lengthComputable: false,\r\n        beforeSend: true\r\n      });\r\n    };\r\n\r\n    var progress = options.progress;\r\n    options.progress = function (event) {\r\n      if (self.reportProgress) {\r\n        self.reportProgress(event, options.request);\r\n      }\r\n      if (progress) {\r\n        progress(event);\r\n      }\r\n      // jQuery doesn't notify the promises about the data transfer progress.\r\n      options.deferred.notify(event, options.request);\r\n    };\r\n\r\n    var success = options.success;\r\n    options.success = function (data, result, request) {\r\n      self.authenticator.updateAuthenticatedSession(request);\r\n      self._succeeded = true;\r\n      if (self.reportSuccess) {\r\n        self.reportSuccess(request);\r\n      }\r\n\r\n      if (success) {\r\n        success(data, result, request);\r\n      }\r\n    };\r\n\r\n    var error = options.error;\r\n    options.error = function (request, message, statusText) {\r\n      // Do not report any errors when the page is unloading; aborted AJAX\r\n      // calls are expected to fail silently\r\n      if (pageUnloading) {\r\n        return;\r\n      }\r\n\r\n      function reportError() {\r\n        if (self.reportError) {\r\n          self.reportError(request);\r\n        }\r\n        if (error) {\r\n          error(request, message, statusText);\r\n        }\r\n      }\r\n\r\n      if (request.status == 401) {\r\n        // If the user refuses to reload the page to sign in again, that\r\n        // question will not be asked anymore.  Only error messages will\r\n        // continue showing.\r\n        if (!self.confirmingReload) {\r\n          self.confirmingReload = true;\r\n          var failure     = new base.RequestErrorMessage(request),\r\n              dialogTitle = self._succeeded ? lang.SessionExpiredDialogTitle :\r\n                            lang.AuthenticationFailureDialogTitle;\r\n          log.warn(failure) && console.warn(log.last);\r\n\r\n          require(['csui/dialogs/modal.alert/modal.alert'], function (alertDialog) {\r\n            alertDialog\r\n              .showWarning(lang.AuthenticationFailureDialogText, dialogTitle, {\r\n                buttons: alertDialog.buttons.Ok\r\n              })\r\n              .always(function () {\r\n                self.authenticator.unauthenticate({reason: 'expired'});\r\n              });\r\n          });\r\n\r\n        }\r\n      } else {\r\n        reportError();\r\n      }\r\n    };\r\n\r\n    return options;\r\n  }\r\n\r\n  function formatAjaxData(data) {\r\n    data = JSON.stringify(data);\r\n    return UploadableMixin.useJSON || UploadableMixin.mock ?\r\n           data : {body: data};\r\n  }\r\n\r\n  function getAjaxContentType() {\r\n    return UploadableMixin.useJSON || UploadableMixin.mock ?\r\n           'application/json' : 'application/x-www-form-urlencoded';\r\n  }\r\n\r\n  function makeAjaxCall(options) {\r\n    options = this.extendAjaxOptions(options);\r\n    var method = options.method || options.type || 'GET',\r\n        data = options.data;\r\n    if (data) {\r\n      if (method === 'GET') {\r\n        // Normalize the request, so that the parameters are always in\r\n        // the URL query, to make the request mockable by mockjax\r\n\t\t    if (typeof data !== 'string') {\r\n          data = $.param(data, true);\r\n\t\t    }\r\n        var url = options.url || location.href;\r\n        url += url.indexOf('?') >= 0 ? '&' : '?';\r\n        url += data;\r\n        delete options.data;\r\n      } else {\r\n        var contentType = options.contentType;\r\n        if (data instanceof FormData) {\r\n          // Unless set by the caller, ensure the MIME type, which can\r\n          // accomodate both primitive and file fields\r\n          if (!contentType) {\r\n            options.contentType = 'multipart/form-data';\r\n          }\r\n          options.processData = false;\r\n        } else {\r\n          // Unless serialized to string by the caller, wither serialize\r\n          // to application/json or application/x-www-form-urlencoded,\r\n          // depending on the server capabilities\r\n          if (typeof data !== 'string') {\r\n            options.data = formatAjaxData(data);\r\n          }\r\n          if (!contentType) {\r\n            options.contentType = getAjaxContentType();\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return $.ajax(options);\r\n  }\r\n\r\n  function executeWaitingRequests() {\r\n    var executors = this.waitingRequests.slice(0);\r\n    this.waitingRequests = [];\r\n    _.each(executors, function (executor) {\r\n      executor.execute()\r\n        .progress(executor.deferred.notify)\r\n        .done(executor.deferred.resolve)\r\n        .fail(function (request, message, statusText) {\r\n          // Let the promise akceptors wait forever on page unload\r\n          if (!pageUnloading) {\r\n            executor.deferred.reject(request, message, statusText);\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  function cancelWaitingRequests() {\r\n    var executors = this.waitingRequests.slice(0);\r\n    this.waitingRequests = [];\r\n    _.each(executors, function (executor) {\r\n      executor.deferred.reject();\r\n    });\r\n  }\r\n\r\n  function authenticate(success, failure) {\r\n    if (!this.authenticationPending) {\r\n      this.authenticationPending = true;\r\n      var self = this;\r\n      this.authenticator.authenticate(function () {\r\n          self.authenticationPending = false;\r\n          success();\r\n        }, function (error) {\r\n          self.authenticationPending = false;\r\n          failure(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  function reportSending(request, settings) {\r\n    if (request && settings) {\r\n      log.debug('Sending request as {0} to {1}.', settings.type, settings.url) &&\r\n      console.log(log.last);\r\n    }\r\n  }\r\n\r\n  function reportProgress(event, request) {\r\n    var progress = event.lengthComputable ? _.str.sformat(\r\n      '{0} from {1} bytes transferred', event.loaded, event.total) :\r\n                   event.beforeSend ? 'connection opened' : 'no information';\r\n    log.debug('Progress of {0} from {1}: {2}.', request.settings.type,\r\n      request.settings.url, progress) && console.log(log.last);\r\n  }\r\n\r\n  function reportSuccess(request) {\r\n    if (request && request.settings) {\r\n      log.debug('Receiving response for {0} from {1}.', request.settings.type,\r\n        request.settings.url) && console.log(log.last);\r\n    }\r\n  }\r\n\r\n  function reportError(request, error) {\r\n    if (!error) {\r\n      if (request instanceof Error) {\r\n        error = request;\r\n        request = undefined;\r\n      } else {\r\n        error = new base.RequestErrorMessage(request);\r\n      }\r\n    }\r\n    if (request && request.settings) {\r\n      log.warn('{0} request to {1} failed:', request.settings.type, request.settings.url) &&\r\n      console.warn(log.last);\r\n    }\r\n    log.warn(error) && console.warn(log.last);\r\n    base.MessageHelper.addMessage(error.toString());\r\n  }\r\n\r\n  function requestContentAuthToken(node) {\r\n    // TODO: Refactor this to be able to share the code with the connector\r\n    // above.  And have a look how to share more with the authenticator too.\r\n    var attributes = base.isBackbone(node) ? node.attributes : node,\r\n        url        = Url.combine(this.connection.url, 'contentauth?id=' + attributes.id),\r\n        headers    = _.extend({\r\n          'Accept-Language': i18n.settings.locale\r\n        }, this.connection.headers);\r\n    this.authenticator.setAuthenticationHeaders(headers);\r\n    return $.ajax({\r\n      type: 'GET',\r\n      url: url,\r\n      headers: headers,\r\n      timeout: this.connectionTimeout,\r\n      context: this,\r\n      beforeSend: _.bind(function (request, settings) {\r\n        request.settings = settings;\r\n        if (this.reportSending) {\r\n          this.reportSending(request, settings);\r\n        }\r\n      }, this),\r\n      success: _.bind(function (data, result, request) {\r\n        this.authenticator.updateAuthenticatedSession(request);\r\n        if (this.reportSuccess) {\r\n          this.reportSuccess(request);\r\n        }\r\n      }, this),\r\n      error: _.bind(function (request, message, statusText) {\r\n        if (this.reportError) {\r\n          this.reportError(request);\r\n        }\r\n      }, this)\r\n    });\r\n  }\r\n\r\n  _.extend(Connector.prototype, Backbone.Events, {\r\n    constructor: Connector,\r\n    // Makes a Backbone model working with the REST API connector.\r\n    assignTo: assignTo,\r\n    // Returns a URL object with convenience methods like getApiBase,\r\n    // which wraps the connection.url\r\n    getConnectionUrl: getConnectionUrl,\r\n    // Prepares options for the Backbone fetch method to work\r\n    // with the REST API connector. It can be used for custom models.\r\n    extendAjaxOptions: extendAjaxOptions,\r\n    // Deprecated and to be removed.\r\n    extendFetchOptions: extendAjaxOptions,\r\n    // Preprocess the data property in $.ajax options, so that CS\r\n    // can accept JSON in POST and PUT requests\r\n    formatAjaxData: formatAjaxData,\r\n    // Returns the correct content type for $.ajax options, so that CS\r\n    // can accept JSON in POST and PUT requests\r\n    getAjaxContentType: getAjaxContentType,\r\n    // Shortens making an ajax call by applying extendAjaxOptions,\r\n    // formatAjaxData and getAjaxContentType together and callig $.ajax.\r\n    makeAjaxCall: makeAjaxCall,\r\n    // Overridables to extend or replace logging and/or error reporting.\r\n    reportSending: reportSending,\r\n    reportProgress: reportProgress,\r\n    reportSuccess: reportSuccess,\r\n    reportError: reportError,\r\n    // Other utility methods and properties.\r\n    requestContentAuthToken: requestContentAuthToken,\r\n    connectionTimeout: config.connectionTimeout,\r\n    // authentication\r\n    authenticate: authenticate\r\n  });\r\n  Connector.version = '1.0';\r\n\r\n  return Connector;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/defaultactionitems',[\r\n  'csui/lib/underscore', 'csui/models/actionitems',\r\n  // Load and register external default action rules\r\n  'csui-ext!csui/utils/defaultactionitems'\r\n], function (_, ActionItemCollection, rules) {\r\n  'use strict';\r\n\r\n  var defaultActionItems = new ActionItemCollection();\r\n\r\n  if (rules) {\r\n    defaultActionItems.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return defaultActionItems;\r\n});\r\n\n","csui.define('csui/utils/authenticators/authenticator',[\r\n  'csui/lib/underscore', 'csui/lib/backbone'\r\n], function (_, Backbone) {\r\n  'use strict';\r\n\r\n  // Defines the authentication interface.\r\n  function Authenticator(options) {\r\n    this.connection = options && options.connection || {};\r\n  }\r\n\r\n  _.extend(Authenticator.prototype, Backbone.Events, {\r\n    authenticate: function (options, succeeded, failed) {\r\n      // Normalize input parameters, which are all optional.\r\n      if (typeof options === 'function') {\r\n        failed = succeeded;\r\n        succeeded = options;\r\n        options = undefined;\r\n      }\r\n      options || (options = {});\r\n\r\n      this.syncStorage(options.session);\r\n      if (this.doAuthenticate(options, succeeded, failed)) {\r\n        return this;\r\n      }\r\n\r\n      if (this.isAuthenticated()) {\r\n        if (succeeded) {\r\n          succeeded(this.connection);\r\n        }\r\n      } else {\r\n        var error = new Error('Missing authentication parameters.');\r\n        if (failed) {\r\n          failed(error, this.connection);\r\n        } else {\r\n          throw error;\r\n        }\r\n      }\r\n      return this;\r\n    },\r\n\r\n    doAuthenticate: function (options) {\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      return this;\r\n    },\r\n\r\n    isAuthenticated: function () {\r\n      return false;\r\n    },\r\n\r\n    syncStorage: function (session) {\r\n      return this;\r\n    },\r\n\r\n    setAuthenticationHeaders: function (headers) {\r\n    },\r\n\r\n    updateAuthenticatedSession: function (session) {\r\n    }\r\n  });\r\n\r\n  Authenticator.extend = Backbone.View.extend;\r\n\r\n  return Authenticator;\r\n});\r\n\n","csui.define('csui/utils/objectstorage',[\"module\", \"csui/lib/underscore\", \"csui/lib/backbone\", \"csui/utils/log\", \"csui/lib/jquery\"\r\n], function (module, _, Backbone, log, $) {\r\n  'use strict';\r\n  function ObjectStorage() {\r\n    this.items = {};\r\n  }\r\n\r\n  _.extend(ObjectStorage.prototype,{\r\n    constructor: ObjectStorage,\r\n    setItem: function (k, v) {\r\n      this.items[k] = v;\r\n    },\r\n\r\n    getItem: function (k) {\r\n      return this.items[k];\r\n    },\r\n\r\n    removeItem: function (k) {\r\n      delete this.items[k];\r\n    }\r\n  });\r\n\r\n  return ObjectStorage;\r\n});\n","csui.define('csui/utils/namedstorage',[\"module\", \"csui/lib/underscore\", \"csui/lib/backbone\", \"csui/utils/log\",\r\n  \"csui/utils/objectstorage\"\r\n], function (module, _, Backbone, log, ObjectStorage) {\r\n\r\n  function NamedStorage(storage, name) {\r\n    this.storage = storage;\r\n    this.name = name;\r\n    try {\r\n      this.storage.setItem(\"testkey\",\"testvalue\");\r\n    } catch(e) {\r\n      this.os = new ObjectStorage();\r\n    }\r\n  }\r\n\r\n  _.extend(NamedStorage.prototype, Backbone.Events, {\r\n\r\n    constructor: NamedStorage,\r\n\r\n    get: function (key, value) {\r\n      return getContent.call(this)[key];\r\n    },\r\n\r\n    set: function (key, value) {\r\n      var content = getContent.call(this);\r\n      content[key] = value;\r\n      saveContent.call(this, content);\r\n    },\r\n\r\n    remove: function (key) {\r\n      var content = getContent.call(this);\r\n      delete content[key];\r\n      saveContent.call(this, content);\r\n    },\r\n\r\n    destroy: function () {\r\n      this.storage.removeItem(this.name);\r\n    }\r\n\r\n  });\r\n\r\n  function getContent() {\r\n    var content;\r\n    if (!!this.os) {\r\n      content = this.os.getItem(this.name);\r\n    } else {\r\n      content = this.storage && this.storage.getItem(this.name);\r\n    }\r\n    return (content && JSON.parse(content)) || {};\r\n  }\r\n\r\n  function saveContent(content) {\r\n    if(!!this.os) {\r\n      this.os.setItem(this.name, JSON.stringify(content));\r\n    } else {\r\n      this.storage && this.storage.setItem(this.name, JSON.stringify(content));\r\n    }\r\n  }\r\n\r\n  NamedStorage.extend = Backbone.View.extend;\r\n  NamedStorage.version = '1.0';\r\n\r\n  return NamedStorage;\r\n\r\n});\r\n\n","csui.define('csui/utils/namedsessionstorage',[\"module\", \"csui/utils/log\", \"csui/utils/namedstorage\"\r\n], function (module, log, NamedStorage) {\r\n\r\n  if (sessionStorage === undefined) {\r\n    log.warn(\"Session storage is not available.\" +\r\n             \"  Some information will not be able to save temporarily;\" +\r\n             \" authenticated state, for example.\") && console.warn(log.last);\r\n  }\r\n\r\n  var NamedSessionStorage = NamedStorage.extend({\r\n\r\n    constructor: function NamedSessionStorage(name) {\r\n      NamedStorage.prototype.constructor.call(this, sessionStorage, name);\r\n    }\r\n\r\n  });\r\n\r\n  NamedSessionStorage.version = '1.0';\r\n\r\n  return NamedSessionStorage;\r\n\r\n});\r\n\n","csui.define('csui/utils/authenticators/ticket.authenticator',[\r\n  'module', 'csui/lib/underscore', 'csui/utils/authenticators/authenticator',\r\n  'csui/utils/namedsessionstorage'\r\n], function (module, _, Authenticator, NamedSessionStorage) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n      .config['csui/utils/authenticator'] || {};\r\n  config = _.extend({\r\n    rememberTicket: true,\r\n    ticketHeader: 'OTCSTicket',\r\n    ticketExpirationHeader: 'OTCSTicketExpires'\r\n  }, config, module.config());\r\n  config.ticketHeader = config.ticketHeader.toLowerCase();\r\n  config.ticketExpirationHeader = config.ticketExpirationHeader.toLowerCase();\r\n\r\n  var storage = new NamedSessionStorage(module.id);\r\n\r\n  // Supports authentication using the explicit ticket provided\r\n  // in {session: titket}.\r\n  var TicketAuthenticator = Authenticator.extend({\r\n    constructor: function TicketAuthenticator(options) {\r\n      Authenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      this.connection.session = undefined;\r\n      if (config.rememberTicket) {\r\n        storage.remove(this.connection.url);\r\n      }\r\n      this.trigger('loggedOut', {\r\n        sender: this,\r\n        connection: this.connection,\r\n        reason: options && options.reason\r\n      });\r\n      return this;\r\n    },\r\n\r\n    isAuthenticated: function () {\r\n      var session = this.connection.session;\r\n      return !!(session && session.ticket);\r\n    },\r\n\r\n    syncStorage: function (session) {\r\n      session || (session = this.connection.session);\r\n      if (!session && config.rememberTicket) {\r\n        // no session -> try to get from session storage\r\n        session = storage.get(this.connection.url);\r\n      }\r\n      if (session) {\r\n        // session -> update\r\n        this.connection.session || (this.connection.session = {});\r\n        _.extend(this.connection.session, session);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    setAuthenticationHeaders: function (headers) {\r\n      var session = this.connection.session,\r\n          ticket = session && session.ticket;\r\n      if (ticket) {\r\n        headers[config.ticketHeader] = ticket;\r\n        return true;\r\n      }\r\n    },\r\n\r\n    updateAuthenticatedSession: function (data, request) {\r\n      data || (data = {});\r\n      if (!request && data.getResponseHeader) {\r\n        request = data;\r\n        data = {};\r\n      }\r\n      var ticket = data.ticket || request &&\r\n                   request.getResponseHeader(config.ticketHeader);\r\n      if (ticket) {\r\n        var session = this.connection.session ||\r\n                      (this.connection.session = {});\r\n        _.extend(session, {\r\n          ticket: ticket,\r\n          expires: data.expires || request &&\r\n                   request.getResponseHeader(config.ticketExpirationHeader)\r\n        });\r\n        if (config.rememberTicket) {\r\n          storage.set(this.connection.url, session);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return TicketAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/request.authenticator',[\r\n  'module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/utils/base', 'csui/utils/url', 'csui/utils/log',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/utils/authenticators/ticket.authenticator',\r\n  'csui/lib/jquery.parse.param'\r\n], function (module, $, _, base, Url, log, UploadableMixin,\r\n     TicketAuthenticator) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n  .config['csui/utils/requestauthenticator'] || {};\r\n  config = _.extend({\r\n    connectionTimeout: 60 * 1000\r\n  }, config, module.config());\r\n\r\n  // Performs authentication using an initial request, which is supposed to\r\n  // obtain the OTCSTicket.  Descendants decide what request and how to\r\n  // process its response.\r\n  var RequestAuthenticator = TicketAuthenticator.extend({\r\n    constructor: function RequestAuthenticator(options) {\r\n      TicketAuthenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    login: function (options, succeeded, failed) {\r\n      delete this.connection.session;\r\n      log.debug('Sending authentication request to {0}.', this.connection.url)\r\n      && console.log(log.last);\r\n      var settings = this.prepareRequest(options);\r\n      this.updateRequestBody(settings);\r\n      return this.makeRequest(settings, succeeded, failed);\r\n    },\r\n\r\n    prepareRequest: function (options) {\r\n      return options;\r\n    },\r\n\r\n    parseResponse: function (response, request) {\r\n      return response;\r\n    },\r\n\r\n    makeRequest: function (options, succeeded, failed) {\r\n      var headers = _.extend({}, this.connection.headers, options.headers);\r\n      return $.ajax(_.extend({\r\n        // TODO: Deprecate and remove this. This is an abstract object.\r\n        // Descendant authenticators should be used to make calls.\r\n        url: Url.combine(this.connection.url, 'auth'),\r\n\r\n        timeout: this.connectionTimeout,\r\n        context: this,\r\n\r\n        beforeSend: function (request, settings) {\r\n          request.settings = settings;\r\n        },\r\n\r\n        success: function (response, textStatus, request) {\r\n          log.debug('Receiving authentication response from {0}.', this.connection.url)\r\n          && console.log(log.last);\r\n          response = this.parseResponse(response, request);\r\n          if (this.authenticateSession(response, request)) {\r\n            if (succeeded) {\r\n              succeeded.call(this, this.connection);\r\n            }\r\n            this.trigger('loggedIn', {\r\n              sender: this,\r\n              connection: this.connection\r\n            });\r\n          }\r\n        },\r\n\r\n        error: function (request) {\r\n          var error = new base.RequestErrorMessage(request);\r\n          log.warn('Logging in to {0} failed:\\r\\n{1}',\r\n            this.connection.url, error) && console.warn(log.last);\r\n          if (failed) {\r\n            failed.call(this, error, this.connection);\r\n          }\r\n        }\r\n      }, options, {\r\n        headers: headers\r\n      }));\r\n    },\r\n\r\n    updateRequestBody: function (settings) {\r\n      var data;\r\n      if (UploadableMixin.useJSON || UploadableMixin.mock) {\r\n        if (settings.contentType !== 'application/json') {\r\n          settings.contentType = 'application/json';\r\n          data = settings.data;\r\n          if (typeof data === 'string') {\r\n            data = $.parseParam(data);\r\n          }\r\n          if (UploadableMixin.mock) {\r\n            settings.data = data;\r\n          } else {\r\n            settings.data = JSON.stringify(data);\r\n          }\r\n          settings.processData = false;\r\n        }\r\n      } else {\r\n        if (settings.contentType === 'application/json') {\r\n          settings.contentType = 'application/x-www-form-urlencoded';\r\n          data = settings.data;\r\n          if (typeof data === 'string') {\r\n            settings.data = JSON.parse(data);\r\n          }\r\n          if (UploadableMixin.mock) {\r\n            settings.data = data;\r\n          }\r\n          settings.processData = true;\r\n        }\r\n      }\r\n    },\r\n\r\n    authenticateSession: function (response, request) {\r\n      if (response && response.ticket) {\r\n        if (request && request.settings && request.settings.data) {\r\n          log.info('Logging in to {0} as {1} succeeded.',\r\n              this.connection.url, request.settings.data.username)\r\n          && console.log(log.last);\r\n        }\r\n        this.updateAuthenticatedSession(response, request);\r\n        return true;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      var first = this.isAuthenticated();\r\n      TicketAuthenticator.prototype.unauthenticate.apply(this, arguments);\r\n      if (first) {\r\n        this.trigger('loggedOut', {\r\n          sender: this,\r\n          connection: this.connection,\r\n          reason: options && options.reason\r\n        });\r\n      }\r\n      return this;\r\n    },\r\n\r\n    connectionTimeout: config.connectionTimeout\r\n  });\r\n\r\n  return RequestAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/server.adaptors/initial.header.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url',\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        prepareRequest: function (options) {\r\n          // Allow calling the login() method directly with partial\r\n          // request settings overriding the authenticator defaults.\r\n          var headers = options && options.headers ||\r\n                        this.connection.authenticationHeaders;\r\n          return {\r\n            url: Url.combine(this.connection.url, 'auth'),\r\n            headers: headers\r\n          };\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/utils/authenticators/initial.header.authenticator',[\r\n  'require', 'csui/utils/log',\r\n  'csui/utils/authenticators/request.authenticator',\r\n  'csui/utils/authenticators/server.adaptors/initial.header.mixin'\r\n], function (require, log, RequestAuthenticator, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var InitialHeaderAuthenticator = RequestAuthenticator.extend({\r\n    constructor: function InitialHeaderAuthenticator(options) {\r\n      RequestAuthenticator.prototype.constructor.call(this, options);\r\n      this.makeServerAdaptor(options);\r\n    },\r\n\r\n    doAuthenticate: function (options, succeeded, failed) {\r\n      var headers = options.headers ||\r\n                    this.connection.authenticationHeaders,\r\n          self = this;\r\n      if (headers) {\r\n        this.connection.authenticationHeaders = headers;\r\n        this.login({}, succeeded, function (error, connection) {\r\n          self._reportError(error);\r\n          self.unauthenticate({reason: 'failed'});\r\n          if (failed) {\r\n            failed(error, connection);\r\n          }\r\n        });\r\n        return true;\r\n      }\r\n    },\r\n\r\n    authenticateSession: function (response, request) {\r\n      if (response && response.data) {\r\n        log.info('Logging in to {0} as {1} succeeded.',\r\n            this.connection.url, response.data.name)\r\n        && console.log(log.last);\r\n        this.updateAuthenticatedSession(request);\r\n        return true;\r\n      }\r\n    },\r\n\r\n    _reportError: function (error) {\r\n      require(['csui/dialogs/modal.alert/modal.alert'\r\n      ], function (ModalAlert) {\r\n        ModalAlert.showError(error.toString());\r\n      });\r\n    }\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(InitialHeaderAuthenticator.prototype);\r\n\r\n  return InitialHeaderAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/headerauthenticator',[\r\n  'csui/utils/authenticators/initial.header.authenticator'\r\n], function (InitialHeaderAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of depending\r\n  // on the connector automation.\r\n  return InitialHeaderAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/interactive.credentials.authenticator',[\r\n  'require', 'module', 'csui/lib/underscore',\r\n  'csui/utils/authenticators/request.authenticator'\r\n], function (require, module, _, RequestAuthenticator) {\r\n  'use strict';\r\n\r\n  // Warns, that the developer did not specify any authentication ticket\r\n  // or other header.  There is no interactive authentication in CS UI\r\n  // Widgets.  Integrators have to authenticate, preferably by SSO.\r\n  var InteractiveCredentialsAuthenticator = RequestAuthenticator.extend({\r\n    constructor: function InteractiveCredentialsAuthenticator(options) {\r\n      RequestAuthenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    authenticate: function (options, succeeded, failed) {\r\n      // Normalize input parameters, which are all optional.\r\n      if (typeof options === 'function') {\r\n        failed = succeeded;\r\n        succeeded = options;\r\n        options = undefined;\r\n      }\r\n\r\n      RequestAuthenticator.prototype.authenticate.call(this, options,\r\n          succeeded, _.bind(this.openSignInDialog, this, succeeded));\r\n    },\r\n\r\n    openSignInDialog: function (succeeded) {\r\n      var self = this;\r\n      require(['csui/utils/impl/signin.dialog/signin.dialog'\r\n      ], function (SignInDialog) {\r\n        var dialog = new SignInDialog({\r\n          connection: self.connection\r\n        });\r\n        dialog.show()\r\n              .done(function (args) {\r\n                self.connection.session = args.session;\r\n                succeeded(self.connection);\r\n              });\r\n      });\r\n    }\r\n  });\r\n\r\n  return InteractiveCredentialsAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/interactiveauthenticator',[\r\n  'csui/utils/authenticators/interactive.credentials.authenticator'\r\n], function (InteractiveCredentialsAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of depending\r\n  // on the connector automation.\r\n  return InteractiveCredentialsAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/namedlocalstorage',[\"module\", \"csui/utils/log\", \"csui/utils/namedstorage\"\r\n], function (module, log, NamedStorage) {\r\n\r\n  if (localStorage === undefined) {\r\n    log.warn(\"Local storage is not available.\" +\r\n             \"  Some information will not be able to be persisted;\" +\r\n             \" expanded/collapsed state of facet filters, for example.\") &&\r\n    console.warn(log.last);\r\n  }\r\n\r\n  var NamedLocalStorage = NamedStorage.extend({\r\n\r\n    constructor: function NamedLocalStorage(name) {\r\n      NamedStorage.prototype.constructor.call(this, localStorage, name);\r\n    }\r\n\r\n  });\r\n\r\n  NamedLocalStorage.version = '1.0';\r\n\r\n  return NamedLocalStorage;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/node.links/node.links',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external node link rules\r\n  'csui-ext!csui/utils/node.links/node.links'\r\n], function (_, Backbone, Url, RulesMatchingMixin, rules) {\r\n  'use strict';\r\n\r\n  // TODO: Create a lightweight public module for this functionality.\r\n  var config            = window.csui.requirejs.s.contexts._.config\r\n                              .config['csui/pages/start/impl/perspective.router'] || {},\r\n      routesWithSlashes = !config.developmentPage;\r\n\r\n  var NodeLinkModel = Backbone.Model.extend({\r\n    defaults: {\r\n      sequence: 100,\r\n      url: null\r\n    },\r\n\r\n    constructor: function NodeLinkModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(NodeLinkModel.prototype);\r\n\r\n  var NodeLinkCollection = Backbone.Collection.extend({\r\n    model: NodeLinkModel,\r\n    comparator: 'sequence',\r\n\r\n    constructor: function NodeLinkCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    },\r\n\r\n    getUrl: function (node) {\r\n      // Make the URLs point to the original node, if the current node is\r\n      // a shortcut; leave generation point to itself for now, until\r\n      // we support it properly\r\n      var type = node.get('type');\r\n      if (type === 1 && node.original && node.original.get('id') > 0) {\r\n        node = node.original;\r\n      }\r\n      var rule = this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n      if (rule) {\r\n        var url = rule.get('getUrl')(node);\r\n        return this.completeUrl(node, url);\r\n      }\r\n    },\r\n\r\n    completeUrl: function (node, url) {\r\n      var serverUrl = new Url(node.connector && node.connector.connection.url ||\r\n                              location.href);\r\n      if (!url) {\r\n        url = location.href;\r\n      } else if (url.charAt(0) === '/') {\r\n        if (url.charAt(1) === '/') {\r\n          url = serverUrl.getProtocol() + ':' + url;\r\n        } else {\r\n          url = Url.combine(serverUrl.getOrigin(), url);\r\n        }\r\n      } else if (url.match(/^\\?func=[a-z0-9]/i)) {\r\n        url = serverUrl.getCgiScript() + url;\r\n        node.attributes.absoluteUrl = url;\r\n      } else if (url.indexOf('//') < 0) {\r\n        url = this._getApplicationUrlPrefix(serverUrl) + url;\r\n      }\r\n      return url;\r\n    },\r\n\r\n    _getApplicationUrlPrefix: function (serverUrl) {\r\n      // Application URLs start after '#' on the development pages, while\r\n      // on the actual server they are merged with the main access point\r\n      var applicationUrlPrefix;\r\n      if (routesWithSlashes) {\r\n        applicationUrlPrefix = Url.combine(serverUrl.getCgiScript(), '/app/');\r\n      } else {\r\n        applicationUrlPrefix = location.origin + location.pathname +\r\n                               location.search + '#';\r\n      }\r\n      return applicationUrlPrefix;\r\n    }\r\n  });\r\n\r\n  var nodeLinks = new NodeLinkCollection();\r\n\r\n  if (rules) {\r\n    nodeLinks.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return nodeLinks;\r\n});\r\n\n","csui.define('csui/utils/page.leaving.blocker',['module', 'csui/lib/jquery'], function (module, $) {\r\n\r\n  var listenerRegistered,\r\n      forceDisabled,\r\n      messages = [],\r\n\r\n      PageLeavingBlocker = {\r\n\r\n        isEnabled: function () {\r\n          return !forceDisabled && messages.length;\r\n        },\r\n\r\n        enable: function (message) {\r\n          // The most recent message will be shown, when the user\r\n          // tries to leave the page\r\n          messages.unshift(message);\r\n          ensureListener();\r\n        },\r\n\r\n        disable: function () {\r\n          messages.shift();\r\n        },\r\n\r\n        forceDisable: function () {\r\n          forceDisabled = true;\r\n        }\r\n\r\n      };\r\n\r\n  function ensureListener() {\r\n    if (!listenerRegistered) {\r\n      listenerRegistered = true;\r\n      $(window).bind('beforeunload.' + module.id, function (event) {\r\n        if (PageLeavingBlocker.isEnabled()) {\r\n          var message = messages[0];\r\n          if (event) {\r\n            event.originalEvent.returnValue = message; // Gecko, Trident, Chrome 34+\r\n          }\r\n          return message; // Gecko, WebKit, Chrome <34\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  return PageLeavingBlocker;\r\n\r\n});\r\n\n","csui.define('csui/utils/requestauthenticator',[\r\n  'csui/utils/authenticators/request.authenticator'\r\n], function (RequestAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of using\r\n  // the new one.\r\n  return RequestAuthenticator;\r\n});\r\n\n","\n","csui.define('csui/utils/smart.nodes/smart.nodes',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external Smart UI node rules\r\n  'csui-ext!csui/utils/smart.nodes/smart.nodes'\r\n], function (_, Backbone, RulesMatchingMixin, rules) {\r\n  'use strict';\r\n\r\n  var SmartNodeModel = Backbone.Model.extend({\r\n    defaults: {\r\n      sequence: 100\r\n    },\r\n\r\n    constructor: function SmartNodeModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(SmartNodeModel.prototype);\r\n\r\n  var SmartNodeCollection = Backbone.Collection.extend({\r\n    model: SmartNodeModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function SmartNodeCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    isSupported: function (node, options) {\r\n      return this.some(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n    }\r\n  });\r\n\r\n  var smartNodes = new SmartNodeCollection();\r\n\r\n  if (rules) {\r\n    smartNodes.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return smartNodes;\r\n});\r\n\n","csui.define('csui/utils/authenticators/server.adaptors/basic.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        prepareRequest: function (options) {\r\n          // Allow calling the login() method directly with partial\r\n          // request settings overriding the authenticator defaults.\r\n          var credentials = options && options.data ||\r\n                            this.connection.credentials;\r\n          return {\r\n            url: Url.combine(this.connection.url, 'auth'),\r\n            headers: {\r\n              authorization: this.formatAuthorizationHeader(credentials)\r\n            }\r\n          };\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/utils/authenticators/basic.authenticator',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/base',\r\n  'csui/utils/url', 'csui/utils/log', 'csui/utils/namedsessionstorage',\r\n  'csui/utils/authenticators/authenticator',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/utils/authenticators/server.adaptors/basic.mixin'\r\n], function (module, _, $, base, Url, log, NamedSessionStorage,\r\n    Authenticator, UploadableMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    rememberCredentials: true\r\n  }, module.config());\r\n\r\n  var storage = new NamedSessionStorage(module.id);\r\n\r\n  // Authenticates the requests using the Base Authentication standard;\r\n  // by sending encoded credentials in every request.\r\n  var BasicAuthenticator = Authenticator.extend({\r\n    constructor: function BasicAuthenticator(options) {\r\n      Authenticator.prototype.constructor.call(this, options);\r\n      this.credentials = options && options.credentials;\r\n      this.makeServerAdaptor(options);\r\n    },\r\n\r\n    check: function (options, succeeded, failed) {\r\n      log.debug('Checking credentials with {0}.', this.connection.url)\r\n      && console.log(log.last);\r\n      var settings = this.prepareRequest(options);\r\n      return this.makeRequest(settings, succeeded, failed);\r\n    },\r\n\r\n    prepareRequest: function (options) {\r\n      return options;\r\n    },\r\n\r\n    makeRequest: function (options, succeeded, failed) {\r\n      var headers = _.extend({}, this.connection.headers, options.headers);\r\n      return $.ajax(_.extend({\r\n        timeout: this.connectionTimeout,\r\n        context: this,\r\n\r\n        beforeSend: function (request, settings) {\r\n          request.settings = settings;\r\n        },\r\n\r\n        success: function (response, textStatus, request) {\r\n          log.debug('Receiving credentials-checking response from {0}.',\r\n              this.connection.url) && console.log(log.last);\r\n          this.doAuthenticate(options);\r\n          if (succeeded) {\r\n            succeeded(this.connection);\r\n          }\r\n          this.trigger('loggedIn', {\r\n            sender: this,\r\n            connection: this.connection\r\n          });\r\n        },\r\n\r\n        error: function (request) {\r\n          var error = new base.RequestErrorMessage(request);\r\n          log.warn('Check credentials with {0} failed:\\r\\n{1}',\r\n            this.connection.url, error) && console.warn(log.last);\r\n          if (failed) {\r\n            failed(error, this.connection);\r\n          }\r\n        }\r\n      }, options, {\r\n        headers: headers\r\n      }));\r\n    },\r\n\r\n    doAuthenticate: function (options, succeeded, failed) {\r\n      var credentials = options.credentials ||\r\n                        this.credentials ||\r\n                        this.connection.credentials;\r\n      if (credentials) {\r\n        this.connection.credentials = credentials;\r\n        if (config.rememberCredentials) {\r\n          storage.set(this.connection.url, credentials);\r\n        }\r\n      }\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      var first = this.isAuthenticated();\r\n      this.connection.credentials = undefined;\r\n      if (config.rememberCredentials) {\r\n        storage.remove(this.connection.url);\r\n      }\r\n      if (first) {\r\n        this.trigger('loggedOut', {\r\n          sender: this,\r\n          connection: this.connection,\r\n          reason: options && options.reason\r\n        });\r\n      }\r\n      return this;\r\n    },\r\n\r\n    isAuthenticated: function () {\r\n      return !!this.connection.credentials;\r\n    },\r\n\r\n    syncStorage: function () {\r\n      if (!this.connection.credentials && config.rememberCredentials) {\r\n        this.connection.credentials = storage.get(this.connection.url);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    setAuthenticationHeaders: function (headers) {\r\n      headers.authorization = this.formatAuthorizationHeader(\r\n        this.connection.credentials);\r\n    },\r\n\r\n    formatAuthorizationHeader: function (credentials) {\r\n      return 'Basic ' + btoa(unescape(encodeURIComponent(\r\n        credentials.username + ':' + credentials.password)));\r\n    }\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(BasicAuthenticator.prototype);\r\n\r\n  return BasicAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/server.adaptors/credentials.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        prepareRequest: function (options) {\r\n          // Allow calling the login() method directly with partial\r\n          // request settings overriding the authenticator defaults.\r\n          var credentials = options && options.data ||\r\n                            this.connection.credentials;\r\n          return {\r\n            type: 'POST',\r\n            url: Url.combine(this.connection.url, 'auth'),\r\n            data: {\r\n              username: credentials.username,\r\n              password: credentials.password,\r\n              domain: ''\r\n            }\r\n          };\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/utils/authenticators/credentials.authenticator',[\r\n  'require', 'csui/utils/authenticators/request.authenticator',\r\n  'csui/utils/authenticators/server.adaptors/credentials.mixin'\r\n], function (require, RequestAuthenticator, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  // Authenticates the requests using the Base Authentication standard;\r\n  // by sending encoded credentials in every request.\r\n  var CredentialsAuthenticator = RequestAuthenticator.extend({\r\n    constructor: function CredentialsAuthenticator(options) {\r\n      RequestAuthenticator.prototype.constructor.call(this, options);\r\n      this.credentials = options && options.credentials;\r\n      this.makeServerAdaptor(options);\r\n    },\r\n\r\n    doAuthenticate: function (options, succeeded, failed) {\r\n      var credentials = options.credentials ||\r\n                        this.credentials ||\r\n                        this.connection.credentials,\r\n          self = this;\r\n      if (credentials) {\r\n        this.connection.credentials = credentials;\r\n        this.login({}, succeeded, function (error, connection) {\r\n          self._reportError(error);\r\n          self.unauthenticate({reason: 'failed'});\r\n          if (failed) {\r\n            failed(error, connection);\r\n          }\r\n        });\r\n        return true;\r\n      }\r\n    },\r\n\r\n    _reportError: function (error) {\r\n      require(['csui/dialogs/modal.alert/modal.alert'\r\n      ], function (ModalAlert) {\r\n        ModalAlert.showError(error.toString());\r\n      });\r\n    }\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(CredentialsAuthenticator.prototype);\r\n\r\n  return CredentialsAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/regular.header.authenticator',[\r\n  'module', 'csui/lib/underscore', 'csui/utils/log',\r\n  'csui/utils/authenticators/authenticator', 'csui/utils/namedsessionstorage'\r\n], function (module, _, log, Authenticator, NamedSessionStorage) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    rememberAuthenticationHeaders: true\r\n  }, module.config());\r\n\r\n  var storage = new NamedSessionStorage(module.id);\r\n\r\n  var RegularHeaderAuthenticator = Authenticator.extend({\r\n    constructor: function RegularHeaderAuthenticator(options) {\r\n      Authenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    doAuthenticate: function (options, succeeded, failed) {\r\n      var headers = options.headers ||\r\n                    this.connection.authenticationHeaders;\r\n      if (headers) {\r\n        this.connection.authenticationHeaders = headers;\r\n        if (config.rememberAuthenticationHeaders) {\r\n          storage.remove(this.connection.url);\r\n        }\r\n      }\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      this.connection.authenticationHeaders = undefined;\r\n      if (config.rememberAuthenticationHeaders) {\r\n        storage.remove(this.connection.url);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    isAuthenticated: function () {\r\n      return !!this.connection.authenticationHeaders;\r\n    },\r\n\r\n    syncStorage: function () {\r\n      if (!this.connection.authenticationHeaders &&\r\n          config.rememberAuthenticationHeaders) {\r\n        this.connection.authenticationHeaders = storage.get(this.connection.url);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    setAuthenticationHeaders: function (headers) {\r\n      _.extend(headers, this.connection.authenticationHeaders);\r\n    }\r\n  });\r\n\r\n  return RegularHeaderAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/core.authenticators',[\r\n  'module', 'csui/lib/underscore',\r\n  'csui/utils/authenticators/ticket.authenticator',\r\n  'csui/utils/authenticators/basic.authenticator',\r\n  'csui/utils/authenticators/credentials.authenticator',\r\n  'csui/utils/authenticators/regular.header.authenticator',\r\n  'csui/utils/authenticators/initial.header.authenticator',\r\n  'csui/utils/authenticators/interactive.credentials.authenticator'\r\n], function (module, _, TicketAuthenticator, BasicAuthenticator,\r\n     CredentialsAuthenticator, RegularHeaderAuthenticator,\r\n     InitialHeaderAuthenticator, InteractiveCredentialsAuthenticator) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n      .config['csui/utils/interactiveauthenticator'] || {},\r\n      enableInteractiveAuthenticator = config.enabled;\r\n  config = _.extend({\r\n    enableInteractiveAuthenticator: enableInteractiveAuthenticator != null ?\r\n\t                            enableInteractiveAuthenticator : true,\r\n    forceBasicAuthenticator: false,\r\n    preferBasicAuthenticator: false,\r\n    preferRegularHeaderAuthenticator: false\r\n  }, module.config());\r\n\r\n  return [\r\n    {\r\n      authenticator: BasicAuthenticator,\r\n      sequence: 50,\r\n      decides: function (connection) {\r\n        return config.forceBasicAuthenticator ||\r\n               connection.credentials && config.preferBasicAuthenticator;\r\n      }\r\n    },\r\n    {\r\n      authenticator: RegularHeaderAuthenticator,\r\n      sequence: 50,\r\n      and: {\r\n        has: 'authenticationHeaders',\r\n        decides: function () {\r\n          return config.preferRegularHeaderAuthentication;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      authenticator: CredentialsAuthenticator,\r\n      has: 'credentials'\r\n    },\r\n    {\r\n      authenticator: InitialHeaderAuthenticator,\r\n      has: 'authenticationHeaders'\r\n    },\r\n    {\r\n      sequence: 1000,\r\n      authenticator: config.enableInteractiveAuthenticator ?\r\n                     InteractiveCredentialsAuthenticator : TicketAuthenticator\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/authenticator',[\r\n  'csui/utils/authenticators/ticket.authenticator'\r\n], function (TicketAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of depending\r\n  // on the connector automation, or using the new one.\r\n  return TicketAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/basicauthenticator',[\r\n  'csui/utils/authenticators/credentials.authenticator'\r\n], function (CredentialsAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of depending\r\n  // on the connector automation.\r\n  return CredentialsAuthenticator;\r\n});\r\n\n","csui.define('bundles/csui-models',[\r\n  // Models\r\n  'csui/models/action',\r\n  'csui/models/actions',\r\n  'csui/models/actionitem',\r\n  'csui/models/actionitems',\r\n  'csui/models/addabletype',\r\n  'csui/models/addabletypes',\r\n  'csui/models/ancestor',\r\n  'csui/models/ancestors',\r\n  'csui/models/authenticated.user',\r\n  'csui/models/authentication',\r\n  'csui/models/browsing.state/browsing.state',\r\n  'csui/models/browsing.state/browsing.states',\r\n  'csui/models/browsing.state/nodes/nodes.browsing.state',\r\n  'csui/models/clientsidecollection',\r\n  'csui/models/column',\r\n  'csui/models/columns',\r\n  'csui/models/datadefinition',\r\n  'csui/models/datadefinitions',\r\n  'csui/models/favorite2',\r\n  'csui/models/favorite2group',\r\n  'csui/models/favorite2groups',\r\n  'csui/models/favorites2',\r\n  'csui/models/favorite2column',\r\n  'csui/models/favorite2columns',\r\n  'csui/models/favorite.model',\r\n  'csui/models/member',\r\n  'csui/models/member/member.model',\r\n  'csui/models/member/membercollection',\r\n  'csui/models/members',\r\n  'csui/models/node/node.addable.type.collection',\r\n  'csui/models/node/node.model',\r\n  'csui/models/node.children2/node.children2',\r\n  'csui/models/node.columns2',\r\n  'csui/models/nodeancestors',\r\n  'csui/models/nodechildrencolumn',\r\n  'csui/models/nodechildrencolumns',\r\n  'csui/models/nodechildren',\r\n  'csui/models/nodes',\r\n  'csui/models/tool.item.config/tool.item.config.collection',\r\n  'csui/models/tool.item.mask/tool.item.mask.collection',\r\n  'csui/models/server.module/server.module.collection',\r\n  'csui/models/specificnodemodel',\r\n\r\n  // Model mixins\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/browsable/client-side.mixin',\r\n  'csui/models/browsable/v1.request.mixin',\r\n  'csui/models/browsable/v1.response.mixin',\r\n  'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/mixins/autofetchable/autofetchable.mixin',\r\n  'csui/models/mixins/commandable/commandable.mixin',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/including.additional.resources/including.additional.resources.mixin',\r\n  'csui/models/mixins/node.autofetchable/node.autofetchable.mixin',\r\n  'csui/models/mixins/node.connectable/node.connectable.mixin',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  'csui/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/autofetchable',\r\n  'csui/models/connectable',\r\n  'csui/models/fetchable',\r\n  'csui/models/including.additional.resources',\r\n  'csui/models/nodeautofetchable',\r\n  'csui/models/nodeconnectable',\r\n  'csui/models/noderesource',\r\n  'csui/models/resource',\r\n  'csui/models/uploadable',\r\n  'csui/models/utils/v1tov2',\r\n  'csui/models/version',\r\n  'csui/models/version',\r\n  'csui/models/version',\r\n  'csui/models/widget/widget.collection',\r\n  'csui/models/widget/widget.model',\r\n\r\n  // Utilities\r\n  'csui/utils/base',\r\n  'csui/utils/classic.nodes/classic.nodes',\r\n  'csui/utils/connector',\r\n  'csui/utils/defaultactionitems',\r\n  'csui/utils/promoted.actionitems',\r\n  'csui/utils/deepClone/deepClone',\r\n  'csui/utils/errormessage',\r\n  'csui/utils/headerauthenticator',\r\n  'csui/utils/interactiveauthenticator',\r\n  'csui/utils/log',\r\n  'csui/utils/messagehelper',\r\n  'csui/utils/namedlocalstorage',\r\n  'csui/utils/namedsessionstorage',\r\n  'csui/utils/namedstorage',\r\n  'csui/utils/node.links/node.links',\r\n  'csui/utils/nodesprites',\r\n  'i18n!csui/utils/impl/nls/lang',\r\n  'csui/utils/page.leaving.blocker',\r\n  'csui/utils/requestauthenticator',\r\n  'csui/utils/smart.nodes/smart.nodes',\r\n  'csui/utils/types/date',\r\n  'csui/utils/types/localizable',\r\n  'csui/utils/types/member',\r\n  'csui/utils/types/number',\r\n  'csui/utils/url',\r\n\r\n  // Authenticators\r\n  'csui/utils/authenticators/authenticator',\r\n  'csui/utils/authenticators/authenticators',\r\n  'csui/utils/authenticators/basic.authenticator',\r\n  'csui/utils/authenticators/core.authenticators',\r\n  'csui/utils/authenticators/credentials.authenticator',\r\n  'csui/utils/authenticators/initial.header.authenticator',\r\n  'csui/utils/authenticators/interactive.credentials.authenticator',\r\n  'csui/utils/authenticators/regular.header.authenticator',\r\n  'csui/utils/authenticators/request.authenticator',\r\n  'csui/utils/authenticators/ticket.authenticator',\r\n  'csui/utils/authenticator',\r\n  'csui/utils/basicauthenticator',\r\n  'csui/utils/headerauthenticator',\r\n  'csui/utils/interactiveauthenticator',\r\n  'csui/utils/requestauthenticator',\r\n\r\n  // Server Adaptors\r\n  // TODO: Move them to the csui-server-adaptors bundle.\r\n  'csui/models/authenticated.user/server.adaptor.mixin',\r\n  'csui/models/member/server.adaptor.mixin',\r\n  'csui/models/node/server.adaptor.mixin',\r\n  'csui/models/node.children/server.adaptor.mixin',\r\n  'csui/models/node.children2/server.adaptor.mixin',\r\n  'csui/utils/authenticators/server.adaptors/basic.mixin',\r\n  'csui/utils/authenticators/server.adaptors/credentials.mixin',\r\n  'csui/utils/authenticators/server.adaptors/initial.header.mixin'\r\n], {});\r\n\n"]}