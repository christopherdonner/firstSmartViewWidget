csui.define("csui/behaviors/dropdown.menu/dropdown.menu.behavior",["csui/lib/jquery","csui/lib/underscore","csui/lib/marionette","csui/utils/base"],function(e,t,i,n){"use strict";return i.Behavior.extend({"ui":{"dropdownMenu":".binf-dropdown","dropdownMenuToggle":".binf-dropdown-toggle"},"events":{"show.binf.dropdown":"onShowDropdownRefilterMenuItems","keydown":"onKeyInMenuView","keyup":"onKeyUpMenuView"},"constructor":function(e,t){e=e||{},i.Behavior.prototype.constructor.apply(this,arguments),this.view=t,this.view.dropdownMenuBehavior=this},"onShowDropdownRefilterMenuItems":function(){this.view.options.collection.refilter&&this.view.options.collection.refilter()},"onKeyUpMenuView":function(e){n.isFirefox()&&32===e.keyCode&&(e.preventDefault(),e.stopPropagation()),27===e.keyCode&&this._closeMenu(e)},"onKeyInMenuView":function(t){switch(t.keyCode){case 9:this._closeMenu();break;case 13:case 32:t.preventDefault(),t.stopPropagation(),e(t.target).click();break;case 27:(this.$el.hasClass("binf-open")||this.ui.dropdownMenu.hasClass("binf-open"))&&(t.preventDefault(),t.stopPropagation())}},"_closeMenu":function(e){(this.$el.hasClass("binf-open")||this.ui.dropdownMenu.hasClass("binf-open"))&&(e&&e.preventDefault(),e&&e.stopPropagation(),this.ui.dropdownMenuToggle.binf_dropdown("toggle"),this.ui.dropdownMenuToggle.focus())}})}),csui.define("csui/behaviors/expanding/expanding.behavior",["require","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette"],function(e,t,i,n){function s(e,i,n){if(null!=e){var s=e[i];return t.isFunction(s)?e[i].call(n):s}}function o(e,t,i){var n=s(e,t,i);return n?n+=" csui-expanded":n="csui-expanded",n}return n.Behavior.extend({"constructor":function(e,i){n.Behavior.prototype.constructor.apply(this,arguments);var s=t.bind(this._destroyExpandedView,this,!1),o=(t.bind(this._destroyExpandedView,this,!0),i.options&&i.options.context);this.listenTo(this,"before:destroy",s),o&&this.listenTo(o,"request",s).listenTo(o,"request:perspective",s)},"onExpand":function(){if(!this.expanded){this.expanded=!0;var n=this,r=this.view.completeCollection?this.view.completeCollection.clone():this.view.collection.clone();void 0!==this.view.currentFilter&&r.setFilter(this.view.currentFilter,{"fetch":!1}),this.view.isSearchOpen()&&this.view.searchClicked();var a=n.getOption("expandedView"),l=a;!0!==t.isString(a)&&(l=a.prototype instanceof i.View?a:a.call(n.view));var c=["csui/controls/dialog/dialog.view"];t.isString(l)&&c.push(l),e(c,function(e){t.isString(l)&&(l=arguments[1]);var i=s(n.options,"expandedViewOptions",n.view);n.expandedView=new l(t.extend({"context":n.view.options.context,"collection":r,"orderBy":s(n.options,"orderBy",n.view),"filterBy":n.view.currentFilter,"limited":!1,"isExpandedView":!0},i)),n.dialog=new e({"iconLeft":s(n.options,"titleBarIcon",n.view)||s(n.view.options,"titleBarIcon",n.view),"actionIconLeft":s(n.options,"actionTitleBarIcon",n.view)||s(n.view.options,"actionTitleBarIcon",n.view),"imageLeftUrl":s(n.options,"titleBarImageUrl",n.view),"imageLeftClass":s(n.options,"titleBarImageClass",n.view),"title":s(n.options,"dialogTitle",n.view),"iconRight":s(n.options,"dialogTitleIconRight",n.view),"className":o(n.options,"dialogClassName",n.view),"largeSize":!0,"view":n.expandedView,"headerView":s(n.options,"headerView",n.view)}),n.listenTo(n.dialog,"before:hide",n._expandOtherView).listenTo(n.dialog,"destroy",n._enableExpandingAgain),n._expandOtherView(!1),n.dialog.show()},function(e){n.expanded=!1})}},"_destroyExpandedView":function(e){if(this.dialog){var t=e?"kill":"destroy";this.dialog[t](),this.dialog=void 0}},"_expandOtherView":function(e){this.options.collapsedView&&this.options.collapsedView.triggerMethod(!1===e?"go:away":"go:back")},"_enableExpandingAgain":function(){if(this.expanded=!1,this.view.tabableRegionBehavior){var e=this.view.tabableRegionBehavior,t=this.view.ui.tileExpand;e.currentlyFocusedElement&&e.currentlyFocusedElement.prop("tabindex",-1),t&&t.prop("tabindex",0),t.focus(),e.setInitialTabIndex(),this.view.currentTabPosition=2}}})}),csui.define("csui/behaviors/item.error/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/behaviors/item.error/impl/nls/root/lang",{"itemCannotBeAccessed":"Item cannot be accessed."}),csui.define("csui/behaviors/item.error/item.error.behavior",["csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/controls/error/error.view","i18n!csui/behaviors/item.error/impl/nls/lang"],function(e,t,i,n,s){"use strict";function o(t){var i=this.getOption(t);return e.isFunction(i)?i.call(this.view):i}return i.Behavior.extend({"constructor":function(r,a){i.Behavior.prototype.constructor.apply(this,arguments),this.view=a;var l=o.call(this,"model")||a.model||a.options.model,c=this.getOption("errorView");!e.isFunction(c)||c.prototype instanceof t.View||(c=c.call(a)),c||(c=n);var u=a.getTemplate,d=this;a.getTemplate=function(){if(l.error){if("string"!=typeof o.call(d,"el")&&!o.call(d,"region"))return!1}return u.apply(a,arguments)};var h;this.listenTo(l,"error",function(){a.render()}).listenTo(a,"render",function(){var n=l.error;if(n){if(h&&h.empty(),!(h=o.call(this,"region"))){var r=o.call(this,"el")||a.el;"string"==typeof r&&(r=a.$(r)),h=new i.Region({"el":r})}h.show(new c(e.extend({"model":new t.Model({"message":s.itemCannotBeAccessed,"title":n.message})},o.call(this,"errorViewOptions"))))}}).listenTo(a,"before:destroy",function(){h&&h.empty()})}})}),csui.define("hbs!csui/behaviors/item.state/impl/item.state",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return this.escapeExpression((s=null!=(s=t.message||(null!=e?e.message:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"message","hash":{}}):s))+"\r\n"}});return i.registerPartial("csui_behaviors_item.state_impl_item.state",n),n}),csui.define("csui/behaviors/item.state/item.state.view",["csui/lib/underscore","csui/lib/marionette","hbs!csui/behaviors/item.state/impl/item.state"],function(e,t,i){"use strict";return t.ItemView.extend({"className":"csui-item-state","template":i,"constructor":function(){t.ItemView.prototype.constructor.apply(this,arguments),this.listenTo(this.model,"change:state",this.render).listenTo(this,"render",this._updateClasses)},"serializeData":function(){return e.extend(this.model.toJSON(),{"message":this.options.stateMessages[this.model.get("state")]})},"_updateClasses":function(){this.$el.removeClass("csui-state-loading csui-state-failed").addClass("csui-state-"+this.model.get("state"))}})}),csui.define("csui/behaviors/item.state/item.state.behavior",["csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/behaviors/item.state/item.state.view"],function(e,t,i,n){"use strict";function s(t){var i=this.getOption(t);return e.isFunction(i)?i.call(this.view):i}return i.Behavior.extend({"constructor":function(o,r){i.Behavior.prototype.constructor.apply(this,arguments),this.view=r;var a=s.call(this,"model")||r.model||r.options.model;this.listenTo(a,"request",this._fetchingCollectionStarted).listenTo(a,"sync",this._fetchingCollectionSucceeded).listenTo(a,"error",this._fetchingCollectionFailed),this.itemState=new t.Model({"state":a.fetching?"loading":a.error?"failed":"loaded"});var l=this.getOption("stateView");!e.isFunction(l)||l.prototype instanceof t.View||(l=l.call(r)),this.stateView=l||n;var c=r.getTemplate,u=this;r.getTemplate=function(){if(!a.fetched){if("string"!=typeof s.call(u,"el")&&!s.call(u,"region"))return!1}return c.apply(r,arguments)};var d;this.listenTo(r,"render",function(){if(!a.fetched){if(d&&d.empty(),!(d=s.call(this,"region"))){var t=s.call(this,"el")||r.el;"string"==typeof t&&(t=r.$(t)),d=new i.Region({"el":t})}d.show(new this.stateView(e.extend({"model":this.itemState,"stateMessages":s.call(this,"stateMessages")||{}},s.call(this,"stateViewOptions"))))}}).listenTo(r,"before:destroy",function(){d&&d.empty()})},"_fetchingCollectionStarted":function(){this.itemState.set("state","loading"),this.view.render(),this.view.blockWithoutIndicator&&this.view.blockWithoutIndicator()},"_fetchingCollectionSucceeded":function(e){this.itemState.set("state","loaded"),this.view.unblockActions&&this.view.unblockActions()},"_fetchingCollectionFailed":function(){this.itemState.set("state","failed"),this.view.unblockActions&&this.view.unblockActions()}})}),csui.define("csui/behaviors/limiting/limiting.behavior",["csui/lib/underscore","csui/lib/backbone","csui/lib/marionette"],function(e,t,i){"use strict";function n(t,i,n){if(null!=t){var s=t[i];return e.isFunction(s)?t[i].call(n):s}}return i.Behavior.extend({"defaults":{"limit":6,"filterByProperty":"name"},"collectionEvents":{"reset":"enableMoreLink"},"events":{"click .cs-more":"onMoreLinkClick","click .tile-expand":"onMoreLinkClick"},"ui":{"moreLink":".cs-more"},"constructor":function(e,t){i.Behavior.prototype.constructor.apply(this,arguments)},"initialize":function(i,n){if(!1!==n.options.limited){var s,o=n.collection;o||(o=this.getOption("completeCollection"))instanceof t.Collection||(s=this.getOption("completeCollectionOptions"),o.prototype instanceof t.Collection?o=new o(void 0,s):(o=o.call(n))instanceof t.Collection||(o=new o(void 0,s))),n.options.orderBy&&o.setOrder(n.options.orderBy,!1),this.listenTo(o,"sync",e.bind(function(e){e instanceof t.Collection&&this.synchronizeCollections()},this)),this.listenTo(o,"reset",this.enableMoreLink),n.completeCollection=o;var r=t.Collection.extend(o?{"model":o.model}:{});n.collection=new r,this.listenTo(n,"change:filterValue",this.synchronizeCollections)}},"synchronizeCollections":function(){var t;if(this.view.options.filterValue&&this.view.options.filterValue.length>0){var i=this.view.options.filterValue.toLowerCase().split(" "),s=n(this.options,"filterByProperty",this.view);this.view.currentFilter={},this.view.currentFilter[s]=this.view.options.filterValue.toLowerCase(),t=this.view.completeCollection.filter(function(t){var n,o=t.get(s);return o&&(o=o.trim().toLowerCase(),n=e.reduce(i,function(e,t){return e&&o.indexOf(t)>=0},!0)),n})}else this.view.currentFilter=void 0,t=this.view.completeCollection.models;this.view.collection.reset(t)},"enableMoreLink":function(){var e=n(this.options,"limit",this.view),t=this.view.completeCollection&&this.view.completeCollection.length>e;this.ui.moreLink[t?"removeClass":"addClass"]("binf-hidden")},"onMoreLinkClick":function(e){e.preventDefault(),e.stopPropagation(),this.view.triggerMethod("expand")}})}),csui.define("hbs!csui/controls/breadcrumbs/impl/breadcrumb/impl/breadcrumb",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var s,o;return'  <a href="'+this.escapeExpression((o=null!=(o=t.url||(null!=e?e.url:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"url","hash":{}}):o))+'" class="binf-dropdown-toggle csui-subcrumb csui-acc-focusable"\r\n     data-binf-toggle="dropdown" title="'+this.escapeExpression((o=null!=(o=t.subcrumbTooltip||(null!=e?e.subcrumbTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"subcrumbTooltip","hash":{}}):o))+'">'+this.escapeExpression((o=null!=(o=t.name||(null!=e?e.name:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"name","hash":{}}):o))+'</a>\r\n  <ul class="binf-dropdown-menu" role="menu">\r\n'+(null!=(s=t.each.call(e,null!=e?e.subcrumbs:e,{"name":"each","hash":{},"fn":this.program(2,n,0),"inverse":this.noop}))?s:"")+"  </ul>\r\n"},"2":function(e,t,i,n){var s;return null!=(s=t.if.call(e,null!=e?e.inactive:e,{"name":"if","hash":{},"fn":this.program(3,n,0),"inverse":this.program(5,n,0)}))?s:""},"3":function(e,t,i,n){return'        <li role="menuitem"><a data-id="'+this.escapeExpression(this.lambda(null!=e?e.id:e,e))+'" title="'+this.escapeExpression(this.lambda(null!=e?e.name:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.name:e,e))+"</a>\r\n"},"5":function(e,t,i,n){return'        <li role="menuitem"><a class=\'csui-breadcrumb csui-acc-focusable\' href="'+this.escapeExpression(this.lambda(null!=e?e.url:e,e))+'"\r\n               data-id="'+this.escapeExpression(this.lambda(null!=e?e.id:e,e))+'" title="'+this.escapeExpression(this.lambda(null!=e?e.name:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.name:e,e))+"</a>\r\n"},"7":function(e,t,i,n){var s;return null!=(s=t.if.call(e,null!=e?e.inactive:e,{"name":"if","hash":{},"fn":this.program(8,n,0),"inverse":this.program(10,n,0)}))?s:""},"8":function(e,t,i,n){var s;return"    "+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"name","hash":{}}):s))+"\r\n"},"10":function(e,t,i,n){var s;return"    <a class='csui-breadcrumb csui-acc-focusable' href=\""+this.escapeExpression((s=null!=(s=t.url||(null!=e?e.url:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"url","hash":{}}):s))+'" data-id="'+this.escapeExpression((s=null!=(s=t.id||(null!=e?e.id:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"id","hash":{}}):s))+'"\r\n       title="'+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"name","hash":{}}):s))+'">'+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"name","hash":{}}):s))+"</a>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return null!=(s=t.if.call(e,null!=e?e.hasSubCrumbs:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.program(7,n,0)}))?s:""}});return i.registerPartial("csui_controls_breadcrumbs_impl_breadcrumb_impl_breadcrumb",n),n}),csui.define("csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/root/lang",{"subcrumbTooltip":"Show full path","breadcrumbAria":"Breadcrumb"}),csui.define("csui/controls/breadcrumbs/impl/breadcrumb/breadcrumb.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/node.links/node.links","hbs!csui/controls/breadcrumbs/impl/breadcrumb/impl/breadcrumb","i18n!csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang"],function(e,t,i,n,s,o){"use strict";return i.ItemView.extend({"tagName":"li","template":s,"modelEvents":{"change":"render"},"events":{"click a.csui-breadcrumb":"onClickLink"},"onClickLink":function(e){e.preventDefault(),e.stopPropagation();var i=this.model;if(i.get("subcrumbs").length>0){var n=t(e.target).data("id");i=this._getModel(n)}this.triggerMethod("click:ancestor",i)},"className":function(){var e=this.model.get("subcrumbs");return this.options.isLastChild?"binf-active":e&&e.length>0?"binf-dropdown":"tail"},"templateHelpers":function(){function t(e){return e.get("id")>0&&(e.connector||e.collection.connector)&&n.getUrl(e)||"#"}var i=this.options,s=e.map(this.model.get("subcrumbs"),function(i){return e.extend(i.toJSON(),{"url":t(i)})});return{"inactive":this.model.get("inactive")||i.isLastChild,"hasSubCrumbs":s.length>0,"subcrumbs":s,"name":this.model.attributes.displayName||this.model.attributes.name_formatted||this.model.attributes.name,"url":t(this.model),"subcrumbTooltip":o.subcrumbTooltip}},"onRender":function(){this.options.isLastChild&&this.$el.attr("aria-current","page")},"constructor":function(){i.ItemView.prototype.constructor.apply(this,arguments),this.model.has("subcrumbs")||this.model.set("subcrumbs",[],{"silent":!0})},"_getModel":function(e){for(var t=this.model.get("subcrumbs"),i=null,n=0;n<t.length;n++)if(t[n].get("id")===e){i=t[n];break}return i}})}),csui.define("csui/controls/breadcrumbs/breadcrumbs.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/breadcrumbs/impl/breadcrumb/breadcrumb.view","csui/utils/contexts/factories/next.node","csui/behaviors/keyboard.navigation/tabable.region.behavior"],function(e,t,i,n,s,o,r){return n.CollectionView.extend({"tagName":"ol","className":"binf-breadcrumb","behaviors":{"TabableRegion":{"behaviorClass":r}},"childView":s,"childViewOptions":function(e,t){return{"childIndex":t,"isLastChild":t==(e.get("showAsLink")?this.collection.size():this.collection.size()-1)}},"constructor":function(e){e||(e={}),this.completeCollection=e.collection,e.collection=new i.Collection,n.CollectionView.call(this,e)},"initialize":function(e){this.listenTo(this.completeCollection,"sync",this.synchronizeCollections);var i=this.options.context;this._nextNode=e.node||i.getModel(o),this.stop=this.options.stop||{},this.options.noOfItemsToShow=parseInt(this.options.noOfItemsToShow,10),this._startSubCrumbs=1,this._subCrumbsLength=0,this.accLastBreadcrumbElementFocused=!0,this.accNthBreadcrumbElementFocused=0,this.resizeTimer=void 0,t(window).bind("resize",{"view":this},this._onWindowResize)},"_onWindowResize":function(e){if(e&&e.data&&e.data.view){var t=e.data.view;t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t._adjustToFit()},200)}},"events":{"keydown":"onKeyInView"},"_breadcrumbSelector":"a.csui-acc-focusable:visible","isTabable":function(){return this.collection.models.length>1},"currentlyFocusedElement":function(){if(this.isTabable()){if(this.accLastBreadcrumbElementFocused)return this.$(this._breadcrumbSelector+":last");var e=this.$(this._breadcrumbSelector);return t(e[this.accNthBreadcrumbElementFocused])}return t()},"onKeyInView":function(e){var t;switch(e.keyCode){case 37:case 38:t=this.$(this._breadcrumbSelector),this.accLastBreadcrumbElementFocused?t.length>1&&(this.accLastBreadcrumbElementFocused=!1,this.accNthBreadcrumbElementFocused=t.length-2):this.accNthBreadcrumbElementFocused>0&&this.accNthBreadcrumbElementFocused--,this.trigger("changed:focus",this),this.currentlyFocusedElement().focus();break;case 39:case 40:this.accLastBreadcrumbElementFocused||(t=this.$(this._breadcrumbSelector),this.accNthBreadcrumbElementFocused<t.length-1&&(this.accNthBreadcrumbElementFocused++,this.trigger("changed:focus",this),this.currentlyFocusedElement().focus()))}},"updateCompleteCollection":function(e){this.stopListening(this.completeCollection,"sync"),this.completeCollection=e,this.listenTo(this.completeCollection,"sync",this.synchronizeCollections),!1!==this.options.fetchOnCollectionUpdate&&(this.completeCollection.isFetchable()?this.completeCollection.fetch():this.collection.reset([]))},"synchronizeCollections":function(){var e=this.completeCollection.last(this.completeCollection.size())||[];this._removeAcestorsFromStopPoint(e,this.stop.id),this._removeAcestorsToNumItemsToShow(e),this._subCrumbsLength=0,this._refreshBreadCrumbsDisplay(),this._adjustToFit(),this.trigger("after:synchronized")},"_refreshBreadCrumbsDisplay":function(){var t,i,n=this.completeCollection.last(this.completeCollection.size())||[];this._removeAcestorsFromStopPoint(n,this.stop.id),this._removeAcestorsToNumItemsToShow(n),this._subCrumbsLength>0&&(t=e.range(this._startSubCrumbs,this._startSubCrumbs+this._subCrumbsLength).map(function(e){return n[e]}),i={"id":-1,"name":"...","subcrumbs":t},n.splice(this._startSubCrumbs,this._subCrumbsLength,i)),this.collection.reset(n)},"refresh":function(){this._adjustToFit()},"_adjustToFit":function(){var e=this._getMaxDisplayWidth();this._getDisplayWidth()>e?this._shrinkToFit(e):this._getDisplayWidth()<e&&this._expandToFit(e);var i=t.Event("tab:content:field:changed");this.trigger(i)},"_shrinkToFit":function(e){var t=this.collection.size()-this._startSubCrumbs-1;e>0&&t>0&&this._getDisplayWidth()>e&&(this._adjustSubCrumbsLengthBy(1),this._shrinkToFit(e))},"_expandToFit":function(e){var t=this.collection.size()-this._startSubCrumbs-1;e>0&&(this._subCrumbsLength>0&&this._getDisplayWidth()<e?(this._adjustSubCrumbsLengthBy(-1),this._expandToFit(e)):t>0&&this._getDisplayWidth()>e&&this._adjustSubCrumbsLengthBy(1))},"_adjustSubCrumbsLengthBy":function(e){this._subCrumbsLength+=e,this._subCrumbsLength=Math.min(this._subCrumbsLength,this.completeCollection.size()-this._startSubCrumbs),this._refreshBreadCrumbsDisplay()},"_getMaxDisplayWidth":function(){return.9*this.$el.outerWidth()},"_getDisplayWidth":function(){return e.reduce(this.$el.find(">li"),function(e,i){return e+t(i).outerWidth()},0)},"childEvents":{"click:ancestor":"onClickAncestor"},"onClickAncestor":function(e,t){var i={"node":t};if(this.trigger("before:defaultAction",i),!i.cancel){var n=t.get("id");this._nextNode.get("id")===n&&this._nextNode.unset("id",{"silent":!0}),this._nextNode.set("id",n)}this.$el.trigger("setCurrentTabFocus")},"hide":function(e){return e?this.$el.hide():this.$el.show(),!0},"hideSubCrumbs":function(){var e=this.$el.find("li.binf-dropdown");e&&e.hasClass("binf-open")&&this.$el.find(".csui-subcrumb").click()},"updateStopId":function(e){this.stop.id=e},"_removeAcestorsFromStopPoint":function(e,t){for(var i=0;i<e.length;i++)if(e[i].get("id")===t){e.splice(0,i);break}},"_removeAcestorsToNumItemsToShow":function(e){if(this.options.noOfItemsToShow&&this.options.noOfItemsToShow>=0){var t=this.options.noOfItemsToShow>=e.length?0:e.length-this.options.noOfItemsToShow;e.splice(0,t)}},"onBeforeDestroy":function(){t(window).unbind("resize",this._onWindowResize)}})}),csui.define("hbs!csui/controls/tab.panel/impl/tab.links",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<ul class="binf-nav '+this.escapeExpression((s=null!=(s=t.tab_type||(null!=e?e.tab_type:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"tab_type","hash":{}}):s))+'" role="tablist"></ul>\r\n'}});return i.registerPartial("csui_controls_tab.panel_impl_tab.links",n),n}),csui.define("hbs!csui/controls/tab.panel/impl/tab.link",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<a href="#'+this.escapeExpression((s=null!=(s=t.uniqueTabId||(null!=e?e.uniqueTabId:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"uniqueTabId","hash":{}}):s))+'" data-binf-toggle="tab">'+this.escapeExpression((t["csui-l10n"]||e&&e["csui-l10n"]||t.helperMissing).call(e,null!=e?e.title:e,{"name":"csui-l10n","hash":{}}))+"</a>\r\n"}});return i.registerPartial("csui_controls_tab.panel_impl_tab.link",n),n}),csui.define("csui/controls/tab.panel/impl/tab.link.view",["csui/lib/underscore","csui/lib/marionette","hbs!csui/controls/tab.panel/impl/tab.link","csui/lib/binf/js/binf","csui/utils/handlebars/l10n"],function(e,t,i){"use strict";return t.ItemView.extend({"tagName":"li","className":function(){return this._isOptionActiveTab()?"binf-active":""},"attributes":function(){var t=this.model.get("uniqueTabId"),i=(this.model.get("title"),{"id":"tablink-"+t,"role":"tab","aria-controls":t});return this._isOptionActiveTab()&&e.extend(i,{"aria-selected":"true"}),i},"template":i,"events":{"show.binf.tab > a":"onShowingTab","shown.binf.tab > a":"onShownTab"},"ui":{"link":">a"},"constructor":function(){t.ItemView.prototype.constructor.apply(this,arguments)},"_isOptionActiveTab":function(){var e=!1,t=0;return this.options.activeTab&&void 0!==this.options.activeTab.get("tabIndex")&&(t=this.options.activeTab.get("tabIndex")),t=Math.max(0,t),this.model===this.model.collection.at(t)&&(e=!0),e},"activate":function(){this.$el.removeClass("binf-active").removeAttr("aria-selected"),this.ui.link.binf_tab("show")},"isActive":function(){return this.$el.hasClass("binf-active")},"onShowingTab":function(e){this.triggerMethod("before:activate:tab",this)},"onShownTab":function(e){var t=this.model.collection.indexOf(this.model);this.options.activeTab&&this.options.activeTab.set("tabIndex",t),this.triggerMethod("activate:tab",this)}})}),csui.define("csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin",["module","csui/lib/underscore","csui/lib/jquery","csui/utils/log"],function(e,t,i,n){"use strict";return{"mixin":function(e){return t.extend(e,{"_findNextFocusableElementIndex":function(e,t){var n=e,s=this.keyboardBehavior.tabableElements.length;if(0===s)return-1;if(n<0||n>=s)return n;for(var o=i(this.keyboardBehavior.tabableElements[n]);!1===this.closestTabable(o);){if((n=!0===t?n-1:n+1)<0||n>=s){n=-1;break}o=i(this.keyboardBehavior.tabableElements[n])}return n},"_findNextValidFocusableElementIndex":function(e,t){return this._findNextFocusableElementIndex(e,t)},"_setFirstAndLastFocusable":function(e){var t,n=this.keyboardBehavior.tabableElements.length;0!==n&&(t=0,t=this._findNextValidFocusableElementIndex(t),t>=0&&t<n&&i(this.keyboardBehavior.tabableElements[t]).prop("tabindex","0"),t=this.keyboardBehavior.tabableElements.length-1,(t=this._findNextValidFocusableElementIndex(t,!0))>=0&&t<n&&i(this.keyboardBehavior.tabableElements[t]).prop("tabindex","0"))},"currentlyFocusedElement":function(e){return this.currentlyFocusedElementInternal(e)},"currentlyFocusedElementInternal":function(e){this._setFirstAndLastFocusable(e);var t=-1,n=this.keyboardBehavior.tabableElements.length;if(n>0){var s=e&&e.shiftKey;if(t=e.elementCursor||(s?n-1:0),this.options.tabPanel&&this.options.tabPanel.activatingTab){var o=this.currentTabPosition;o>=0&&o<n&&(t=o)}t=this._findNextValidFocusableElementIndex(t,s)}if(t>=0&&t<n){this.currentTabPosition=t;var r=i(this.keyboardBehavior.tabableElements[t]);return this._autoScrollUntilElemIsVisible&&this._autoScrollUntilElemIsVisible(r),r}},"_accSetFocusToPreviousOrNextElement":function(e){var t=-1,n=this.keyboardBehavior.tabableElements.length;if(n>0&&(this.currentTabPosition<0?t=0:(e?this.currentTabPosition>0&&(t=this.currentTabPosition-1):this.currentTabPosition<n-1&&(t=this.currentTabPosition+1),t=this._findNextValidFocusableElementIndex(t,e))),t>=0&&t!==this.currentTabPosition)return this.currentTabPosition=t,i(this.keyboardBehavior.tabableElements[t]);this.currentTabPosition=-1},"containTargetElement":function(e){var t=this.$el.find(e.target).length>0;if(t){var n,s;for(n=0;n<this.keyboardBehavior.tabableElements.length;n++){if(s=this.keyboardBehavior.tabableElements[n],i(s).parents(".alpaca-control").find(e.target).length>0&&(this.currentTabPosition=n),s.isSameNode&&s.isSameNode(e.target)){this.currentTabPosition=n;break}if(s===e.target){this.currentTabPosition=n;break}}}return t},"numberOfTabableElements":function(e){return this.keyboardBehavior.tabableElements.length},"closestTabable":function(e){var t,i=!0,n=e;for(t=0;t<10;t++){if(n&&("-1"===n.attr("data-cstabindex")||n.attr("disabled"))){i=!1;break}n=n.parent()}return i}})}}}),csui.define("csui/controls/tab.panel/behaviors/tab.links.keyboard.behavior",["module","csui/lib/underscore","csui/lib/jquery","csui/utils/log","csui/lib/marionette","csui/utils/base","csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin"],function(e,t,i,n,s,o,r){"use strict";return s.Behavior.extend({"constructor":function(e,n){s.Behavior.prototype.constructor.apply(this,arguments),n.keyboardBehavior=this,this.tabableElements=[];var o=this;this.listenTo(n,"refresh:tabable:elements",function(e){o.refreshTabableElements(n,e)}),r.mixin(n),t.extend(n,{"_setFirstAndLastFocusable":function(e){if(this.keyboardBehavior.tabableElements.length>0){var t=i(this.keyboardBehavior.tabableElements[0]).prop("tabindex","0"),n=this.keyboardBehavior.tabableElements.length-1;if(t.is("a")){for(t=i(this.keyboardBehavior.tabableElements[n]),t.prop("tabindex","0");!t.is("a")&&n>0;)n--,t=i(this.keyboardBehavior.tabableElements[n]);t.prop("tabindex","0")}}},"_autoScrollUntilElemIsVisible":function(e){var t=e;if(t&&t.hasClass("cs-delete-icon")&&(t=e.parent().parent().find(".cs-tablink")),t&&t.is("a")&&t.hasClass("cs-tablink")){var n=this.options&&this.options.tabPanel,s=t.attr("href");if("#"===s[0]&&(s=s.substr(1)),n&&!1===n._isTablinkVisibleInParents(t)){var o=n._findTabIndexByID?n._findTabIndexByID(s):-1;if(o>=0){var r=i.Deferred();n.skipAutoScroll=!0,t.csuiPromise=r.promise();var a={"animationOff":!0};n._autoScrollTabTo&&n._autoScrollTabTo(o,a).done(function(){n.skipAutoScroll=!1,r.resolve()})}}}},"onKeyInView":function(e){var t;if(0===this.keyboardBehavior.tabableElements.length)return t;this.keyboardBehavior.keyboardActionDeleteTabPosition=void 0;var n=this,s=function(e){var t=n.keyboardBehavior.tabableElements[n.currentTabPosition],s=t&&i(t);if(s&&s.is(":focus")){e.preventDefault(),e.stopPropagation();var o=n.options&&n.options.tabPanel;o&&(o.skipAutoScroll=!0),s.hasClass("cs-delete-icon")&&(n.keyboardBehavior.keyboardActionDeleteTabPosition=n.currentTabPosition-2),s.click(),void 0===n.keyboardBehavior.keyboardActionDeleteTabPosition&&setTimeout(function(){var e=s.attr("href"),t=i.Event("tab:content:focus",{"tabId":e});n.$el.trigger(t),o&&(o.skipAutoScroll=!1)},100)}};if(9===e.keyCode){var o=e.shiftKey,r=this._accSetFocusToPreviousOrNextElement(o);this._autoScrollUntilElemIsVisible(r),t=r}else if(32===e.keyCode||13===e.keyCode)s.call(this,e);else if(46===e.keyCode){var a=this.keyboardBehavior.tabableElements[this.currentTabPosition];if(a&&i(a).is(":focus")){e.preventDefault(),e.stopPropagation(),this.keyboardBehavior.keyboardActionDeleteTabPosition=this.currentTabPosition-1;var l=i(a).attr("href"),c=i.Event("tab:link:delete",{"tabId":l});this.$el.trigger(c)}}return t}})},"refreshTabableElements":function(e,t){this.tabableElements=e.$el.find("a[href], *[tabindex], *[data-cstabindex]");var n;for(n=this.tabableElements.length-1;n>=0;n--)"-1"===i(this.tabableElements[n]).attr("data-cstabindex")&&this.tabableElements.splice(n,1);if(this.view.currentTabPosition=-1,void 0!==this.keyboardActionDeleteTabPosition){var s=i(this.tabableElements[this.keyboardActionDeleteTabPosition]);s&&s.length>0&&(this.view.currentTabPosition=this.keyboardActionDeleteTabPosition,this.view._autoScrollUntilElemIsVisible(s),s.focus()),this.keyboardActionDeleteTabPosition=void 0}setTimeout(function(){e._setFirstAndLastFocusable&&e._setFirstAndLastFocusable()},50)}})}),csui.define("csui/controls/tab.panel/impl/tab.links.view",["csui/lib/underscore","csui/lib/marionette","csui/utils/base","hbs!csui/controls/tab.panel/impl/tab.links","csui/controls/tab.panel/impl/tab.link.view","csui/controls/tab.panel/behaviors/tab.links.keyboard.behavior","csui/lib/binf/js/binf"],function(e,t,i,n,s,o){"use strict";return t.CompositeView.extend({"className":function(){var e="tab-links";return"spy"===this.options.mode&&(e+=" scrollspy"),e},"childViewOptions":function(t,i){return e.extend(this.options,{"index":i,"activeTab":this.options.activeTab})},"template":n,"templateHelpers":function(){return{"tab_type":this.tabType}},"childView":s,"childViewContainer":function(){return">."+this.tabType},"behaviors":{"TabLinksKeyboardBehavior":{"behaviorClass":o}},"constructor":function(e){this.tabType=e.tabType||"binf-nav-tabs",t.CompositeView.prototype.constructor.apply(this,arguments),this.listenTo(this.options.activeTab,"change:tabIndex",this._updateActiveTab)},"onChildviewActivateTab":function(e){this.children.each(function(e){void 0!==e.el.hasAttribute("aria-selected")&&e.$el.removeAttr("aria-selected")}),e.$el.attr("aria-selected","true")},"_updateActiveTab":function(){var e=this.options.activeTab.get("tabIndex"),t=this.children.findByIndex(e);t?e===t._index&&(t.isActive()||t.activate()):(e=0,this.children.find(function(t,i){if(t.isActive())return e=i,!0}),this.options.activeTab.set("tabIndex",e))},"_isTablinkVisibleInParents":function(e,t){var n=t&&t.levels||3,s=t&&t.percentX||100,o=t&&t.percentY||100;return i.isElementVisibleInParents(e,n,s,o)},"deleteTabById":function(e){}})}),csui.define("csui/controls/tab.panel/impl/tab.content.view",["csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/log","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","csui/lib/binf/js/binf"],function(e,t,i,n,s){"use strict";var o=i.View.extend({"constructor":function(e){i.View.prototype.constructor.apply(this,arguments),this.contentRegion=new i.Region({"el":this.el}),
!this.options.delayTabContent||"spy"===this.options.mode||this._isActive()?this._createContent(e):this.listenTo(this.options.tabPanel,"before:activate:tab",this._ensureContent)},"className":function(){var e="";return this.options.mode||(e="binf-tab-pane binf-fade",this._isActive()&&(e+=" binf-in binf-active")),e},"attributes":function(){var e=this.model.get("uniqueTabId");return e||n.warn("Missing unique tab ID in the TabPanel UI component. Please report.")&&console.warn(n.last),{"role":"tabpanel","id":e,"aria-labelledby":"tablink-"+e}},"render":function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderContent(),this.triggerMethod("render",this),this},"onBeforeDestroy":function(){this._destroyContent()},"_isActive":function(){var e=Math.max(0,this.options.activeTab.get("tabIndex"));return this.model===this.model.collection.at(e)},"_ensureContent":function(e,t,i){t===this&&(this.content||(this._createContent(this.options),this._isRendered&&this.render()))},"_createContent":function(t){var i=this._getContentView(),n=this._getContentViewOptions(),s=e.extend({"model":this.model,"containerCollection":t.containerCollection,"index":t.index},n);this.content=new i(s),this.propagateEventsToViews(this.content)},"_getContentView":function(){var e=this.model.get("contentView")||this.options.tabPanel.getOption("contentView");if(!e||e.prototype instanceof t.View||(e=e.call(this.options.tabPanel,this.model)),!e)throw new i.Error({"name":"NoContentViewError","message":'A "contentView" must be specified'});return e},"_getContentViewOptions":function(){var t=this.options.tabPanel.getOption("contentViewOptions");return e.isFunction(t)&&(t=t.call(this.options.tabPanel,this.model)),t},"_renderContent":function(){this.content&&this.contentRegion.show(this.content)},"_destroyContent":function(){this.content&&(this.cancelEventsToViewsPropagation(this.content),this.contentRegion.reset(),this.content=void 0)}});return e.extend(o.prototype,s),o}),csui.define("csui/controls/tab.panel/behaviors/tab.contents.keyboard.behavior",["module","csui/lib/underscore","csui/lib/jquery","csui/utils/log","csui/lib/marionette","csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin"],function(e,t,i,n,s,o){"use strict";return s.Behavior.extend({"constructor":function(e,n){s.Behavior.prototype.constructor.apply(this,arguments),n.keyboardBehavior=this,this.tabableElements=[];var r=this;this.listenTo(n,"refresh:tabable:elements",function(e){this.alreadyRefreshedTabableElements=!1,r.refreshTabableElements(n)}),this.listenTo(n,"render",function(){n.children&&n.children.each(function(e){e.content&&r.listenTo(e.content,"render",function(){this.alreadyRefreshedTabableElements=!1,r.refreshTabableElements(n)})}),n.$el.bind("tab:content:field:changed",function(){this.alreadyRefreshedTabableElements=!1,this.keyboardAction?r.refreshTabableElementsAndSetFocus(n):r.refreshTabableElements(n),this.keyboardAction=!1})}),o.mixin(n),t.extend(n,{"onKeyInView":function(e){var t;if(!0!==this.keyboardBehavior.alreadyRefreshedTabableElements&&this.keyboardBehavior.refreshTabableElements(this),0===this.keyboardBehavior.tabableElements.length)return t;var n,s,o;if(s=this.keyboardBehavior.tabableElements.length,o=0,9===e.keyCode){for(;o<s&&(!(n=this.keyboardBehavior.tabableElements[o])||!i(n).is(e.target));)o++;o>=0&&o<s&&(this.currentTabPosition=o),t=this._accSetFocusToPreviousOrNextElement(e.shiftKey)}else if(32===e.keyCode||13===e.keyCode){var r=i(this.keyboardBehavior.tabableElements[this.currentTabPosition]);for(r&&r.is(":focus")&&!1===r.hasClass("binf-hidden")&&0===r.closest(".cs-field-write").length&&(e.preventDefault(),e.stopPropagation(),this.keyboardBehavior.keyboardAction=!0,r.click());o<s&&(!(n=this.keyboardBehavior.tabableElements[o])||!i(n).is(e.target));)o++;var a=o>=0&&o<s;if(a&&(this.currentTabPosition=o),r=this._accSetFocusToPreviousOrNextElement(e.shiftKey),void 0!==r&&r.prop("tabindex","0"),e.activeTabContent&&e.activeTabContent.alpaca&&140===e.activeTabContent.alpaca.data.type&&a){var l=this.keyboardBehavior.tabableElements[o];l.click()}}return t}})},"onBeforeDestroy":function(){this.view.$el.unbind("tab:content:field:changed")},"refreshTabableElements":function(e){this.tabableElements=e.options.searchTabContentForTabableElements?e.$el.find(e.options.tabContentAccSelectors).filter(":visible"):[];var t;for(t=this.tabableElements.length-1;t>=0;t--)e.closestTabable&&!1===e.closestTabable(i(this.tabableElements[t]))&&this.tabableElements.splice(t,1);this.view.currentTabPosition=-1,this.alreadyRefreshedTabableElements=!0,setTimeout(function(){e._setFirstAndLastFocusable&&e._setFirstAndLastFocusable()},50)},"refreshTabableElementsAndSetFocus":function(e){var t=this.view.currentTabPosition;this.refreshTabableElements(e),i(this.tabableElements[t]).prop("tabindex","0"),i(this.tabableElements[t]).focus(),this.view.currentTabPosition=t},"updateCurrentTabPosition":function(){var e;for(e=0;e<this.tabableElements.length;e++)if(i(this.tabableElements[e]).is(":focus")){this.view.currentTabPosition=e;break}}})}),csui.define("csui/controls/tab.panel/behaviors/tab.contents.proxy.keyboard.behavior",["module","csui/lib/underscore","csui/lib/jquery","csui/utils/log","csui/lib/marionette"],function(e,t,i,n,s){"use strict";return s.Behavior.extend({"constructor":function(e,i){s.Behavior.prototype.constructor.apply(this,arguments),i.keyboardBehavior=this;var n=this;this.listenTo(i,"refresh:tabable:elements",function(e){n.refreshTabableElements(i,e)}),t.extend(i,{"_setFirstAndLastFocusable":function(e){e&&e.activeTabContent&&e.activeTabContent.childTabPanelView&&e.activeTabContent.childTabPanelView._setFirstAndLastFocusable&&e.activeTabContent.childTabPanelView._setFirstAndLastFocusable(e)},"currentlyFocusedElement":function(e){if(e&&e.activeTabContent&&e.activeTabContent.childTabPanelView&&e.activeTabContent.childTabPanelView.currentlyFocusedElement)return e.activeTabContent.childTabPanelView.currentlyFocusedElement(e)},"_accSetFocusToPreviousOrNextElement":function(e){if(this.tabPanel&&this.tabPanel.activeTabContent&&this.tabPanel.activeTabContent.childTabPanelView&&this.tabPanel.activeTabContent.childTabPanelView._accSetFocusToPreviousOrNextElement)return this.tabPanel.activeTabContent.childTabPanelView._accSetFocusToPreviousOrNextElement(e)},"containTargetElement":function(e){return!!(e&&e.activeTabContent&&e.activeTabContent.childTabPanelView&&e.activeTabContent.childTabPanelView.containTargetElement)&&e.activeTabContent.childTabPanelView.containTargetElement(e)},"onKeyInView":function(e){if(e.activeTabContent&&e.activeTabContent.childTabPanelView&&e.activeTabContent.childTabPanelView.onKeyInView)return e.activeTabContent.childTabPanelView.onKeyInView(e)},"numberOfTabableElements":function(e){return e&&e.activeTabContent&&e.activeTabContent.childTabPanelView&&e.activeTabContent.childTabPanelView.numberOfTabableElements?e.activeTabContent.childTabPanelView.numberOfTabableElements(e):0}})},"refreshTabableElements":function(e,t){if(e.tabPanel=t,t&&t.activeTabContent&&t.activeTabContent.childTabPanelView){var i=t.activeTabContent.childTabPanelView;i.refreshTabableElements&&i.refreshTabableElements(i);t.activeTabLink,t.activeTabContent;e._setFirstAndLastFocusable&&e._setFirstAndLastFocusable()}}})}),csui.define("csui/controls/tab.panel/impl/tab.contents.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/controls/tab.panel/impl/tab.content.view","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","csui/controls/tab.panel/behaviors/tab.contents.keyboard.behavior","csui/controls/tab.panel/behaviors/tab.contents.proxy.keyboard.behavior","csui/lib/binf/js/binf"],function(e,t,i,n,s,o,r){"use strict";var a=i.CollectionView.extend({"className":"binf-tab-content","childView":n,"childViewOptions":function(t,i){return e.extend(this.options,{"index":i,"activeTab":this.options.activeTab})},"behaviors":{},"defaults":{"implementTabContentsDefaultKeyboardHandling":!0,"tabContentAccSelectors":"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[data-cstabindex], *[contenteditable]"},"constructor":function(t){e.defaults(t,this.defaults),t.implementTabContentsDefaultKeyboardHandling?this.behaviors=e.extend({"TabContentKeyboardBehavior":{"behaviorClass":o}},this.behaviors):!1===t.implementTabContentsDefaultKeyboardHandling&&(this.behaviors=e.extend({"TabContentProxyKeyboardBehavior":{"behaviorClass":r}},this.behaviors)),i.CollectionView.prototype.constructor.apply(this,arguments),this.reactToChildEvent=!1,this.listenTo(this,"add:child",this.propagateEventsToViews)},"onBeforeDestroy":function(){this.reactToChildEvent=!1},"onRender":function(){if(this.reactToChildEvent=!0,this._setLastTabCssClass(),"spy"===this.options.mode){var e=".tab-links.scrollspy";if(this.options&&this.options.tabPanel&&this.options.tabPanel.$el){var t=this.options.tabPanel.$el.attr("id");void 0!==t&&(e="#"+t+" "+e)}this.$el.binf_scrollspy({"target":e})}},"onReorder":function(){this._setLastTabCssClass()},"onAddChild":function(e){this._setLastTabCssClass()},"onRemoveChild":function(e){this._setLastTabCssClass()},"_setLastTabCssClass":function(){if(!0===this.reactToChildEvent){if(this.children.each(function(e){e.$el.hasClass("last-tab-panel")&&e.$el.removeClass("last-tab-panel")}),this.children.length>1){var e=this.getLastVisibleChild(this.collection.length-1);e&&e.$el.addClass("last-tab-panel")}}},"getLastVisibleChild":function(e){var t=this.collection.at(e);if(t){var i=this.children.findByModel(t);return i&&!i.$el.hasClass("binf-hidden")?i:this.getLastVisibleChild(e-1)}},"getTabContentFirstFocusableELement":function(e){var i;if(void 0===e||!0!==this.options.searchTabContentForTabableElements)return i;var n="#"===e.charAt(0)?e.slice(1):e,s=this.collection.findWhere({"uniqueTabId":n});if(s){var o=this.children.findByModel(s),r=o.content,a=0,l=r.$el.find(this.options.tabContentAccSelectors).filter(":visible");if(l.length>0){for(var c=t(l[a]);this.closestTabable&&!1===this.closestTabable(c);){if(++a>=l.length){a=-1;break}c=t(l[a])}a>=0&&a<l.length&&(i=c)}}return i}});return e.extend(a.prototype,s),a}),csui.define("csui/controls/tab.panel/behaviors/tab.panel.keyboard.behavior",["module","csui/lib/underscore","csui/lib/jquery","csui/utils/log","csui/utils/base","csui/lib/marionette"],function(e,t,i,n,s,o){"use strict";return o.Behavior.extend({"constructor":function(e,n){o.Behavior.prototype.constructor.apply(this,arguments),n.keyboardBehavior=this,n.currentTabPosition=e.currentTabPosition||0,this.tabableElements=[];var r=this;this.listenTo(n,"render",function(){r.refreshTabableElements(n),n.$el.bind("tab:content:render",function(){r.refreshTabableElements(n)})}),this.listenTo(n,"activate:tab",function(e,n,s){var o=s&&s.$el.find(">a")[0];if(o){var r={"target":o},a=this.tabableElements[this.tabLinksIndex];if(a&&a.containTargetElement&&a.containTargetElement(r)){var l=this.tabableElements[this.tabContentIndex];if(l&&!0!==l.options.searchTabContentForTabableElements){var c=i(a.keyboardBehavior.tabableElements[a.currentTabPosition]);setTimeout(t.bind(function(){this.view._focusOnElement(c)},this),500)}}}}),t.extend(n,{"_checkAndRefreshTabableElements":function(e){if(this.keyboardBehavior.tabableElements.length>0){var t=this.keyboardBehavior.tabableElements[this.keyboardBehavior.tabLinksIndex];t.numberOfTabableElements&&0===t.numberOfTabableElements(e)&&t.keyboardBehavior.refreshTabableElements(t)}},"_setFirstAndLastFocusable":function(e){if(this.keyboardBehavior.tabableElements.length>0){var t=this.keyboardBehavior.tabableElements[0];t&&t._setFirstAndLastFocusable&&t._setFirstAndLastFocusable(e);var i=this.keyboardBehavior.tabableElements.length-1;t=this.keyboardBehavior.tabableElements[i],t&&t._setFirstAndLastFocusable&&t._setFirstAndLastFocusable(e)}},"currentlyFocusedElement":function(e){var i=t.extend({"activeTabLink":this.activeTabLink,"activeTabContent":this.activeTabContent},e);this._checkAndRefreshTabableElements(i),this._setFirstAndLastFocusable(i);var n,s=this.keyboardBehavior.tabableElements.length;if(s>0){var o=this.currentTabPosition;(o<0||o>s-1)&&(o=this.currentTabPosition=i.shiftKey?s-1:0),i.shiftKey&&(o=this.currentTabPosition=s-1);var a=this.keyboardBehavior.tabableElements[o];a.currentlyFocusedElement&&void 0!==(n=a.currentlyFocusedElement(i))&&(n.prop("tabindex","0"),this.currentTabPosition===this.tabContentIndex&&(r.skipAutoScroll=!0,this._focusOnElement(n),r.skipAutoScroll=!1))}return n},"accActivateTabableRegion":function(e){e&&(this.currentTabPosition=-1);var t=this.currentlyFocusedElement({"shiftKey":e});this._focusOnElement(t)},"_focusOnElement":function(e){e&&e instanceof i&&(this.tabableRegionBehavior&&(this.tabableRegionBehavior.ignoreFocusEvents=!0),e.focus(),this.tabableRegionBehavior&&(this.tabableRegionBehavior.ignoreFocusEvents=!1))},"_moveTo":function(e,t){e.preventDefault(),e.stopPropagation();var i=this;t.csuiPromise?t.csuiPromise.done(function(){t.prop("tabindex","0"),i._focusOnElement(t),setTimeout(function(){i.skipAutoScroll=!1},600)}):(t.prop("tabindex","0"),i._focusOnElement(t),setTimeout(function(){i.skipAutoScroll=!1},600))},"onKeyInView":function(e){if(9===e.keyCode||32===e.keyCode||13===e.keyCode||46===e.keyCode){e.activeTabLink=this.activeTabLink,e.activeTabContent=this.activeTabContent;for(var t,n,o=this.currentTabPosition,r=this.keyboardBehavior.tabableElements.length,a=0;a<r;){if((t=this.keyboardBehavior.tabableElements[a])&&t.containTargetElement&&t.containTargetElement(e)){if(0===t.numberOfTabableElements())return void(this.currentTabPosition=-1);break}a++}if(a>=0&&a<r&&(o=this.currentTabPosition=a),o>=0&&o<r&&(t=this.keyboardBehavior.tabableElements[o],t.onKeyInView&&(0===o&&(this.skipAutoScroll=!0),void 0!==(n=t.onKeyInView(e)))))return void this._moveTo(e,n);if(9===e.keyCode&&o>=0&&o<r){var l=-1;for(e.shiftKey?this.currentTabPosition>0&&(l=this.currentTabPosition-1):this.currentTabPosition<r-1&&(l=this.currentTabPosition+1);l>=0&&l<r&&(t=this.keyboardBehavior.tabableElements[l],!t.currentlyFocusedElement||void 0===(n=t.currentlyFocusedElement(e)));)e.shiftKey?l-=1:l+=1;l>=0&&l<r&&l!==this.currentTabPosition?(l===this.tabLinksIndex&&(this.skipAutoScroll=!0),this.currentTabPosition=l,this._moveTo(e,n)):(s.isMSBrowser()?i(e.srcElement).blur():i(e.target).blur(),this.currentTabPosition=-1)}}}})},"onBeforeDestroy":function(){this.view.$el.unbind("tab:content:render")},"refreshTabableElements":function(e){e.tabLinks.triggerMethod("refresh:tabable:elements",e),e.tabContent.triggerMethod("refresh:tabable:elements",e),this.tabLinksIndex=0,this.tabableElements[this.tabLinksIndex]=e.tabLinks,this.tabContentHeaderIndex=-1,e.tabContentHeader&&(this.tabContentHeaderIndex=1,this.tabableElements[this.tabContentHeaderIndex]=e.tabContentHeader),this.tabContentIndex=e.tabContentHeader?2:1,this.tabableElements[this.tabContentIndex]=e.tabContent,this.view.currentTabPosition=-1,this.view.triggerMethod("refresh:tabindexes")}})}),csui.define("csui/controls/tab.panel/tab.panel.view",["csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/base","csui/controls/tab.panel/impl/tab.links.view","csui/controls/tab.panel/impl/tab.contents.view","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","csui/models/version","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/controls/tab.panel/behaviors/tab.panel.keyboard.behavior","csui/utils/non-emptying.region/non-emptying.region","csui/controls/form/pub.sub","csui/lib/binf/js/binf"],function(e,t,i,n,s,o,r,a,l,c,u,d){"use strict";var h=i.View.extend({"className":"cs-tabpanel tab-panel","attributes":function(){return{"id":this.id||e.uniqueId("cs-tab"),"role":"tabpanel"}},"events":{"keydown":"onKeyInView"},"behaviors":{"TabableRegionBehavior":{"behaviorClass":l,"notSetFocus":!0,"initialActivationWeight":100},"TabPanelKeyboardBehavior":{"behaviorClass":c}},"constructor":function(e){if(e||(e={}),e.tabPanel=this,e.collection||(e.collection=this._convertCollection(e)),this._generateUniqueTabId(e),e.node){var n=e.node.get("initialPanel");if(n){var s=e.collection.findIndex({"name":n});if(s>=0&&s<e.collection.length){var o=e.collection.at(s);e.activeTab=new t.Model(o.attributes),e.activeTab.set("tabIndex",s),e.selectedTab=new t.Model(o.attributes)}}}e.activeTab||(e.activeTab=new t.Model({"tabIndex":0})),i.View.prototype.constructor.apply(this,arguments),this.linksRegion=new u({"el":this.el}),this.contentRegion=new u({"el":this.el}),this.activeTab=e.activeTab,this.activeTab.get("tabIndex")>=this.collection.length&&this.activeTab.set("tabIndex",this.collection.length-1),this.listenTo(this.collection,"reset",this._generateUniqueTabId),this.listenTo(this.collection,"add",this._setModelUniqueTabId),this.listenTo(this,"activate:tab",this._scrollToActiveTab),this.listenTo(this,"before:destroy",this._destroyContent)},"_scrollToActiveTab":function(e,t,i){if(this.activeTabLink=i,this.activeTabContent=e,this.options.mode){var n=i.$el.find(">a").attr("href"),s=this.getOption("extraScrollTopOffset")||0;"#"===n[0]&&(n=n.substr(1));var o=this.$el.find("div[id='"+n+"']");if(o.length>0){var r=o[0].offsetTop+s;if("spy"===this.options.mode){var l=this.tabContent.$el.data("binf.scrollspy");l&&l.refresh()}this.tabContent.$el.animate({"scrollTop":r},300);var c=i.$el.find(".cs-tablink-text").html(),u=(this.options.node instanceof a?"v":"p")+this.options.node.get("id"),h="pubsub:tab:contents:header:view:change:tab:title:"+u;d.trigger(h,c)}}},"render":function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._destroyContent(),this._renderContent(),this._bindingToEvents(),this.triggerMethod("render",this),this},"_renderContent":function(){var e=this.options.TabLinkCollectionViewClass||s;this.tabLinks=new e(this.options);var t=this.options.TabContentCollectionViewClass||o;this.tabContent=new t(this.options),this.propagateEventsToViews(this.tabLinks,this.tabContent),this.linksRegion.show(this.tabLinks),this.contentRegion.show(this.tabContent);var i=this;this.listenTo(this.tabLinks,"childview:before:activate:tab",function(e){var t=this.tabContent.children.findByModel(e.model),i=t.content;this.activatingTab=!0,this.triggerMethod("before:activate:tab",i,t,e)}),this.listenTo(this.tabLinks,"childview:activate:tab",function(e){var t=this.tabContent.children.findByModel(e.model),n=t.content;setTimeout(function(){i.activatingTab=!1},600),this.triggerMethod("activate:tab",n,t,e),n.triggerMethod("dom:refresh")});var n=0;this.activeTab&&this.activeTab.get("tabIndex")>=0&&this.activeTab.get("tabIndex")<this.collection.length&&(n=this.activeTab.get("tabIndex")),this.activeTabLink=this.tabLinks.children.findByIndex(n),this.activeTabLink&&(this.activeTabContent=this.tabContent.children.findByIndex(n).content)},"_destroyContent":function(){this.$el.unbind("tab:content:focus"),this.$el.unbind("tab:link:delete"),this.tabLinks&&(this.cancelEventsToViewsPropagation(this.tabLinks,this.tabContent),this.stopListening(this.tabLinks).stopListening(this.tabContent),this.linksRegion.empty(),this.contentRegion.empty())},"_bindingToEvents":function(){var e=this;this.$el.bind("tab:content:focus",function(t){var i=e.tabContent.getTabContentFirstFocusableELement(t.tabId);i&&(e.currentTabPosition=this.keyboardBehavior?this.keyboardBehavior.tabContentIndex:-1,e._moveTo&&e._moveTo(t,i),e.tabContent.keyboardBehavior&&e.tabContent.keyboardBehavior.updateCurrentTabPosition())}),this.$el.bind("tab:link:delete",function(t){t.preventDefault(),t.stopPropagation(),e.tabLinks.deleteTabById(t.tabId)})},"_convertCollection":function(i){var n=new t.Collection(i.tabs);return n.each(function(t){t.set("id",e.uniqueId("cs-tab"))}),n},"_generateUniqueTabId":function(i){var n=i instanceof t.Collection?i:i.collection||this.collection;n&&n.each(e.bind(function(e){this._setModelUniqueTabId(e)},this))},"_setModelUniqueTabId":function(t){t&&t.set("uniqueTabId",e.uniqueId("cstab-uid-"),{"silent":!0})},"_isTablinkVisibleInParents":function(e,t){return this.tabLinks._isTablinkVisibleInParents(e,t)}});return e.extend(h.prototype,r),h}),csui.define("hbs!csui/controls/tab.panel/impl/tab.links.ext",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){return'  <div class="left-toolbar"></div>\r\n'},"3":function(e,t,i,n){return'  <div class="right-toolbar"></div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s,o;return(null!=(s=t.if.call(e,null!=e?e.toolbar:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?s:"")+'\r\n<div class="tab-links-bar">\r\n  <span class="fadeout"></span>\r\n  <ul class="binf-nav '+this.escapeExpression((o=null!=(o=t.tab_type||(null!=e?e.tab_type:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"tab_type","hash":{}}):o))+'" role="tablist"></ul>\r\n</div>\r\n\r\n'+(null!=(s=t.if.call(e,null!=e?e.toolbar:e,{"name":"if","hash":{},"fn":this.program(3,n,0),"inverse":this.noop}))?s:"")}});return i.registerPartial("csui_controls_tab.panel_impl_tab.links.ext",n),n}),csui.define("hbs!csui/controls/tab.panel/impl/tab.link.ext",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var s;return'    <span class="cs-icon-required category_required" aria-label="'+this.escapeExpression((s=null!=(s=t.required_tooltip||(null!=e?e.required_tooltip:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"required_tooltip","hash":{}}):s))+'"></span>\r\n'},"3":function(e,t,i,n){var s,o;return'  <div class="cs-tablink-delete" title="'+this.escapeExpression((o=null!=(o=t.delete_tooltip||(null!=e?e.delete_tooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"delete_tooltip","hash":{}}):o))+'">\r\n    <span class="icon '+this.escapeExpression((o=null!=(o=t.delete_icon||(null!=e?e.delete_icon:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"delete_icon","hash":{}}):o))+' cs-delete-icon" role="button"\r\n          '+(null!=(s=t.if.call(e,null!=e?e.removeable:e,{"name":"if","hash":{},"fn":this.program(4,n,0),"inverse":this.noop}))?s:"")+'\r\n          aria-label="'+this.escapeExpression((o=null!=(o=t.deleteCategoryAria||(null!=e?e.deleteCategoryAria:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"deleteCategoryAria","hash":{}}):o))+'"></span>\r\n  </div>\r\n'},"4":function(e,t,i,n){return'data-cstabindex="0"'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s,o;return'<a href="#'+this.escapeExpression((o=null!=(o=t.uniqueTabId||(null!=e?e.uniqueTabId:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"uniqueTabId","hash":{}}):o))+'" class="cs-tablink" data-binf-toggle="tab" title="'+this.escapeExpression((t["csui-l10n"]||e&&e["csui-l10n"]||t.helperMissing).call(e,null!=e?e.title:e,{"name":"csui-l10n","hash":{}}))+'">\r\n'+(null!=(s=t.if.call(e,null!=e?e.required:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?s:"")+'  <span class="cs-tablink-text">'+this.escapeExpression((t["csui-l10n"]||e&&e["csui-l10n"]||t.helperMissing).call(e,null!=e?e.title:e,{"name":"csui-l10n","hash":{}}))+"</span>\r\n</a>\r\n"+(null!=(s=t.if.call(e,null!=e?e.allow_delete:e,{"name":"if","hash":{},"fn":this.program(3,n,0),"inverse":this.noop}))?s:"")}});return i.registerPartial("csui_controls_tab.panel_impl_tab.link.ext",n),n}),csui.define("csui/controls/tab.panel/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/controls/tab.panel/impl/nls/root/lang",{"deleteTooltip":"Delete","deleteCategoryAria":"Delete {0}","gotoNextTooltip":"Show next tab","gotoPreviousTooltip":"Show previous tab","requiredTooltip":"Required","showMore":"Show more"}),csui.define("csui/controls/tab.panel/impl/tab.link.ext.view",["csui/lib/underscore","csui/controls/tab.panel/impl/tab.link.view","hbs!csui/controls/tab.panel/impl/tab.link.ext","i18n!csui/controls/tab.panel/impl/nls/lang","csui/lib/binf/js/binf"],function(e,t,i,n){"use strict";return t.extend({"template":i,"templateHelpers":function(){return{"required_tooltip":n.requiredTooltip,"delete_icon":this.options.delete_icon||"circle_delete","delete_tooltip":this.options.delete_tooltip||n.deleteTooltip,"deleteCategoryAria":e.str.sformat(n.deleteCategoryAria,this.model.get("title"))}},"events":{"show.binf.tab > a":"onShowingTab","shown.binf.tab > a":"onShownTab","focus .cs-delete-icon":"onFocusDeleteIcon","blur .cs-delete-icon":"onBlurDeleteIcon","click .cs-tablink-delete":"onDelete"},"ui":{"link":">a","deleteIcon":".cs-delete-icon","deleteIconParent":".cs-tablink-delete"},"constructor":function(e){this.options=e||{},t.prototype.constructor.apply(this,arguments),this.listenTo(this.model,"action:updated",function(){this._setRemoveable()})},"onRender":function(){this._setRemoveable()},"_setRemoveable":function(){this.model.get("removeable")?(this.ui.deleteIcon.addClass("removeable"),this.ui.deleteIcon.attr("data-cstabindex","0"),this.ui.deleteIconParent.removeClass("binf-hidden")):(this.ui.deleteIcon.removeClass("removeable"),this.ui.deleteIcon.removeAttr("data-cstabindex"),this.ui.deleteIconParent.addClass("binf-hidden"))},"onFocusDeleteIcon":function(){this.ui.deleteIconParent.addClass("focused")},"onBlurDeleteIcon":function(){this.ui.deleteIconParent.removeClass("focused")},"onDelete":function(e){e.preventDefault(),e.stopPropagation(),this.deleteCurrentTab()},"deleteCurrentTab":function(){!0===this.model.get("allow_delete")&&!0===this.model.get("removeable")&&this.triggerMethod("delete:tab")}})}),csui.define("csui/controls/tab.panel/tab.links.ext.view",["csui/lib/underscore","csui/controls/tab.panel/impl/tab.links.view","hbs!csui/controls/tab.panel/impl/tab.links.ext","csui/controls/tab.panel/impl/tab.link.ext.view","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","csui/lib/binf/js/binf"],function(e,t,i,n,s){"use strict";var o=t.extend({"template":i,"templateHelpers":function(){return{"tab_type":this.options.tabType||"binf-nav-tabs","toolbar":!!this.options.toolbar}},"events":{"click .left-toolbar":"onToolbarClicked","click .right-toolbar":"onToolbarClicked"},"childView":n,"childViewContainer":function(){return".tab-links-bar >."+this.tabType},"childViewOptions":function(t,i){return e.extend(this.options,{})},"constructor":function(e){this.options=e||{},t.prototype.constructor.apply(this,arguments),this.listenTo(this,"metadata:schema:updated",function(e){this.children.findByModel(e).render()},this)},"onToolbarClicked":function(e){e.preventDefault(),e.stopPropagation()},"deleteTabById":function(e){var t=!1;if(void 0===e)return t;var i="#"===e.charAt(0)?e.slice(1):e,n=this.collection.findWhere({"uniqueTabId":i});if(n){var s=this.children.findByModel(n);s&&(s.deleteCurrentTab(),t=!0)}return t}});return e.extend(o.prototype,s),o}),csui.define("hbs!csui/controls/tile/behaviors/impl/expanding.behavior",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="cs-more tile-expand">\r\n  <div class="icon circular icon-tileExpand" title="'+this.escapeExpression((s=null!=(s=t.expandIconTitle||(null!=e?e.expandIconTitle:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"expandIconTitle","hash":{}}):s))+'" aria-label="'+this.escapeExpression((s=null!=(s=t.expandIconAria||(null!=e?e.expandIconAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"expandIconAria","hash":{}}):s))+'" role="button"></div>\r\n</div>\r\n'}});return i.registerPartial("csui_controls_tile_behaviors_impl_expanding.behavior",n),n}),csui.define("csui/controls/tile/behaviors/expanding.behavior",["require","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","hbs!csui/controls/tile/behaviors/impl/expanding.behavior"],function(e,t,i,n,s){"use strict";function o(e){var i=this.options||{},n=i[e];return t.isFunction(n)?i[e].call(this.view):n}return n.Behavior.extend({"defaults":{"expandButton":".tile-footer"},"triggers":{"click .cs-more":"expand","click .tile-header":"expand"},"constructor":function(e,i){n.Behavior.prototype.constructor.apply(this,arguments),this.listenTo(i,"render",this._renderExpandButton),this.listenTo(i,"expand",this._expand);var s=t.bind(this._destroyExpandedView,this,!1),o=(t.bind(this._destroyExpandedView,this,!0),i.options&&i.options.context);this.listenTo(this,"before:destroy",s),o&&this.listenTo(o,"request",s).listenTo(o,"request:perspective",s)},"_renderExpandButton":function(){var e=o.call(this,"expandButton"),t=this.view.$(e),i=o.call(this,"expandIconTitle"),n=i||"Expand",r=o.call(this,"expandIconAria"),a=r||n,l={"expandIconTitle":n,"expandIconAria":a};t.html(s(l))},"_expand":function(){if(!this.expanded){this.expanded=!0;var n=this.getOption("expandedView"),s=n.prototype instanceof i.View?n:n.call(this.view),r=["csui/controls/dialog/dialog.view"],a=this;t.isString(s)&&r.push(s),e(r,function(e){t.isString(s)&&(s=arguments[1]);var i=o.call(a,"expandedViewOptions"),n=new s(i);a._dialog=new e({"iconLeft":o.call(a,"titleBarIcon"),"imageLeftUrl":o.call(a,"titleBarImageUrl"),"imageLeftClass":o.call(a,"titleBarImageClass"),"title":o.call(a,"dialogTitle"),"iconRight":o.call(a,"dialogTitleIconRight"),"className":"cs-expanded "+(o.call(a,"dialogClassName")||""),"largeSize":!0,"view":n}),a.listenTo(a._dialog,"hide",function(){a.triggerMethod("collapse")}).listenTo(a._dialog,"destroy",a._enableExpandingAgain),a._dialog.show()})}},"_enableExpandingAgain":function(){this.expanded=!1},"_destroyExpandedView":function(){this._dialog&&(this._dialog.destroy(),this._dialog=void 0)}})}),csui.define("hbs!csui/controls/tile/impl/tile",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var s;return'    <div class="tile-type-icon">\r\n      <span class="icon title-icon '+this.escapeExpression((s=null!=(s=t.icon||(null!=e?e.icon:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"icon","hash":{}}):s))+'" aria-hidden="true"></span>\r\n    </div>\r\n'},"3":function(e,t,i,n){var s;return null!=(s=t.if.call(e,null!=e?e.imageUrl:e,{"name":"if","hash":{},"fn":this.program(4,n,0),"inverse":this.noop}))?s:""},"4":function(e,t,i,n){var s;return'      <div class="tile-type-image '+this.escapeExpression((s=null!=(s=t.imageClass||(null!=e?e.imageClass:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"imageClass","hash":{}}):s))+'">\r\n        <span class="tile-type-icon tile-type-icon-img"><img src="'+this.escapeExpression((s=null!=(s=t.imageUrl||(null!=e?e.imageUrl:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"imageUrl","hash":{}}):s))+'" alt="" aria-hidden="true"></span>\r\n      </div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s,o;return'<div class="tile-header">\r\n\r\n'+(null!=(s=t.if.call(e,null!=e?e.icon:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.program(3,n,0)}))?s:"")+'\r\n  <div class="tile-title" >\r\n    <h2 class="csui-heading">'+this.escapeExpression((o=null!=(o=t.title||(null!=e?e.title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"title","hash":{}}):o))+'</h2>\r\n  </div>\r\n\r\n  <div class="tile-controls" title="'+this.escapeExpression((o=null!=(o=t.title||(null!=e?e.title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"title","hash":{}}):o))+'"></div>\r\n\r\n</div>\r\n\r\n<div class="tile-content"></div>\r\n\r\n<div class="tile-footer"></div>\r\n'}});return i.registerPartial("csui_controls_tile_impl_tile",n),n}),csui.define("css!csui/controls/tile/impl/tile",[],function(){}),
csui.define("csui/controls/tile/tile.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","hbs!csui/controls/tile/impl/tile","css!csui/controls/list/impl/list","css!csui/controls/tile/impl/tile"],function(e,t,i,n,s,o){function r(t,n){var s;return n?s=n[t]:void 0===(s=r.call(this,t,this.options||{}))&&(s=this[t]),!e.isFunction(s)||s.prototype instanceof i.View?s:s.call(this)}var a=n.LayoutView.extend({"className":"cs-tile cs-list tile content-tile","template":o,"regions":{"headerControls":".tile-controls","content":".tile-content","footer":".tile-footer"},"constructor":function(){n.LayoutView.prototype.constructor.apply(this,arguments),this.listenTo(this,"render",this._renderContentView)},"serializeData":function(){return e.reduce(["icon","imageUrl","imageClass","title"],function(e,t){return e[t]=r.call(this,t),e},{},this)},"_renderContentView":function(){var e=r.call(this,"contentView");if(!e)throw new n.Error({"name":"NoContentViewError","message":'A "contentView" must be specified'});var t=r.call(this,"contentViewOptions");this.contentView=new e(t),this.propagateEventsToViews(this.contentView),this.content.show(this.contentView)}});return e.extend(a.prototype,s),a}),csui.define("csui/controls/iconpreload/icon.preload.view",["csui/lib/underscore","csui/lib/jquery","csui/utils/log","csui/utils/base","csui/lib/marionette","csui/utils/non-emptying.region/non-emptying.region","csui/lib/binf/js/binf"],function(e,t,i,n,s,o){"use strict";var r=s.ItemView.extend({"id":"csui-icon-preload","template":!1,"onRender":function(){this._preloadIcons()},"constructor":function(e){s.ItemView.prototype.constructor.apply(this,arguments)},"_preloadIcons":function(){var t=this,i=["icon-toolbar-copy","icon-toolbarAdd","icon-toolbarFilter","icon-toolbar-share","icon-toolbar-download","icon-toolbar-metadata","icon-toolbar-shortcut","icon-toolbar-add-version","icon-toolbar-copy","icon-toolbar-delete","icon-toolbar-edit","icon-toolbar-more","icon-toolbar-move","icon-toolbar-rename","icon-toolbar-reserve","icon-toolbar-unreserve","icon-publish_status","icon-waiting_for_approval_status","icon-in_draft_status","icon-socialFav","icon-socialFavOpen","icon-reserved_other","icon-reserved_other_mo","icon-reserved_other_md","icon-reserved_self","icon-reserved_self_mo","icon-reserved_self_md","icon-toolbar-permissions"];e.each(i,function(e){t.$el.append('<span class="csui-icon '+e+'" style="position:fixed;top:-100px;left:-100px;"></span>')})}});return r.ensureOnThePage=function(){if(n.isIE11()&&!t("#csui-icon-preload").length){var e=new r,i=t.fn.binf_modal.getDefaultContainer();new o({"el":i}).show(e)}},r}),csui.define("csui/widgets/html.editor/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/html.editor/impl/nls/root/lang",{"ConfirmQuestionMessage":"Are you sure to leave this page?","ConfirmQuestionTitle":"Cancel edits?","CancelConfirmMessage":"Are you sure you want to cancel?","cancelTitle":"Cancel","cancelAria":"Cancel edit","saveTitle":"Save","saveAria":"Save contents","moreActionsAria":"{0} actions menu","PageDefaultContent":"your content goes here","noWikiPageFound":"This content no longer exists","RestoreDialogMessage":"You have unsaved changes. Do you want to restore changes and continue editing?","RestoreDiaglogTitle":"Restore changes","reservedBy":"Reserved by {0}\n{1}","more":"more","properties":"Properties","permissions":"View permissions","Edit":"Edit","unreserve":"Unreserve","Continue":"Continue","Discard":"Discard","insertContentServerLink":"Insert Content Server Link","contentServerLink":"Content Server Link","versionDifferenceConfirmMessage":"Another user has saved an alternate version of this page. Do you still want to add a new version?","versionDifferenceConfirmTitle":"Intermediate version added","brokenLinkMessage":"Sorry, the item you requested could not be accessed. Either it does not exist, or you do not have permission to access it. If you were sent a link to this item, please contact the sender for assistance.","goToTooltip":"go to {0}","previewUnavailable":"Preview Unavailable","cannotFindObject":"Cannot find object"}),csui.define("csui/controls/rich.text.editor/impl/rich.text.util",["csui/lib/underscore","csui/lib/jquery","csui/utils/url","csui/models/node/node.model","csui/utils/base","csui/utils/commands","i18n!csui/widgets/html.editor/impl/nls/lang","csui/utils/log"],function(e,t,i,n,s,o,r,a){return{"isEmptyContentElement":function(e){return t.trim(t(e).text())},"checkDomain":function(e,t){var i=e.connector.connection.url,n=t.target.href;return e.options.isSameDomain=-1!==n.search(new RegExp(i.split("/api")[0],"i")),e.options.isSameDomain},"getUrl":function(e,n){var s=t.Deferred();if(n.target.href){var o,r=n.target.href.match(/^.*\/app\/(.+)$/i),a=new i(n.target.href).isAbsolute(),l=!a||this.checkDomain(e,n),c=n.target.href.match(/^.*\/wiki\/(.+)$/i),u=n.target.href.match(/^.*\/open\/(.+)$/i)||n.target.href.match(/^.*\/nodes\/(.+)$/i),d=n.target.href.match(/^.*objId\=(.+)$/i),h=this;!r&&l?c||d?h.renderLinks({"event":n,"connector":e.connector,"callingViewInstance":e}).done(function(){s.resolve()}):u?(o=u[1],this.updateLink(n,o),s.resolve()):s.resolve():s.resolve()}return s.promise()},"renderLinks":function(e){var i,n=t.Deferred(),s=e.event.target.href?t(e.event.target):t(e.event.target).parents("a"),o=(e.callingViewInstance,this);if(e.event.target=s[0],e.event.target.href.match(/^.*\/wiki\/[0-9]+\/(.+)$/i)||e.event.target.href.match(/^.*\/wiki\/[0-9]+$/i))e.event.stopPropagation(),e.event.preventDefault(),e.event.target.href.match(/^.*\/wiki\/[0-9]+\/(.+)$/i)?(i=e.event.target.href.match(/^.*\/wiki\/(.+)\/(.+)$/i),i=parseInt(i[1]),o._getWikiPageId(e,i,e.event.target.href).done(function(t,i){o.id=t,i?o.updateLink(e.event,i.id):a.info(r.brokenLinkMessage),n.resolve()})):e.event.target.href.match(/^.*\/wiki\/[0-9]+$/i)&&(i=e.event.target.href.match(/^.*\/wiki\/(.+)$/i),i=parseInt(i[1]),o.updateLink(e.event,i),n.resolve());else if(e.event.target.href.match(/^.*objId\=(.+)$/)){e.event.stopPropagation(),e.event.preventDefault();var l=e.event.target.href.match(/^.*objId\=(.+)$/)[1];-1!==l&&(i=this.getNewNodeModel({"attributes":{"id":parseInt(l)},"connector":e.connector}),o.updateLink(e.event,i.attributes.id)),n.resolve()}return n.promise()},"getNewNodeModel":function(e){return new n(e.attributes,{"connector":e.connector,"commands":o.getAllSignatures(),"fields":e.fields||{},"expand":e.expand||{}})},"updateLink":function(e,t){var i=/^.*\/(cs\.\w{3}|livelink\.\w{3}|llisapi\.\w{3}|llisapi|cs|livelink).*$/,n=!!t&&t,s=e.target.href.match(i),o=!!s&&s.length&&e.target.href.substring(0,e.target.href.indexOf("/".concat(s[1]))+"/".concat(s[1]).length);e.target.href=o&&o.length?o.concat("/app/nodes/",n):e.target.href},"_getWikiPageId":function(e,i,n){var s=decodeURIComponent(n.substring(n.lastIndexOf("/")+1,n.length)),o=t.Deferred(),r=e.connector,a=r.extendAjaxOptions({"url":this._getWikiContainerUrl(e,i),"type":"GET"});return t.ajax(a).done(function(e){e.targetWikiPageNode=e.results.find(function(e){if(e.name===s)return e}),e.targetWikiPageNode&&e.targetWikiPageNode.id?o.resolve(e.targetWikiPageNode.id,e.targetWikiPageNode):o.resolve(-1)}).fail(function(e){o.reject(e)}),o.promise()},"_getWikiContainerUrl":function(e,t){return e.connector.connection.url.replace("/v1","/v2")+"/wiki/"+t+"/wikipages"},"_getNicknameId":function(e,i){var n=t.Deferred(),s=e.connector.extendAjaxOptions({"url":e.connector.connection.url.replace("/api/v1","/api/v2")+"/wiki/nickname/"+i+"?actions=open","requestType":"nickname","view":this,"type":"GET"});return i&&t.ajax(s).done(function(e){n.resolve(e)}).fail(function(){n.reject()}),n.promise()}}}),csui.define("css!csui/widgets/html.editor/impl/html.editor",[],function(){}),csui.define("css!csui/lib/ckeditor/plugins/cssyntaxhighlight/styles/shCoreDefault",[],function(){}),csui.define("csui/controls/rich.text.editor/rich.text.editor",["csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/ckeditor/ckeditor","csui/controls/rich.text.editor/impl/rich.text.util","css!csui/widgets/html.editor/impl/html.editor","css!csui/lib/ckeditor/plugins/cssyntaxhighlight/styles/shCoreDefault"],function(e,t,i,n,s){"use strict";var o=function(e){var t=window.CKEDITOR.skin["ua_"+e],i=window.CKEDITOR.env;if(t){t=t.split(",").sort(function(e,t){return e>t?-1:1});for(var n,s=0;s<t.length;s++)if(n=t[s],i.ie&&(n.replace(/^ie/,"")==i.version||i.quirks&&"iequirks"==n)&&(n="ie"),i[n]){e+="_"+t[s];break}}return e+".css"};return{"getRichTextEditor":function(i){i=i||{},t.each(n.instances,function(e){e.destroy()});var s={"custcsuiimage_imageExtensions":"gif|jpeg|jpg|png","skin":"otskin","format_tags":"p;h1;h2;h3;h4;h5","allowedContent":!0,"disableAutoInline":!0,"autoHideToolbar":!1,"title":!1,"cs_syntaxhighlight_hideGutter":!0,"enterMode":n.ENTER_P,"extraPlugins":"filebrowser,find,panelbutton,colorbutton,font,selectall,smiley,dialog,sourcedialog,print,preview,justify,save,cancel,cssyntaxhighlight,cslink","toolbar":[["Undo","Redo","-","Font","FontSize","-","Styles","Format","TextColor"],"/",["Bold","Italic","Blockquote","-","Replace","-","NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","-","Link","cslink","-","Image","Table","Sourcedialog"]]};if(i.externalPlugins){if(!t.isArray(i.externalPlugins))throw TypeError("externalPlugins must be array type");if(!i.externalPluginsBasePath||"string"!=typeof i.externalPluginsBasePath)throw Error("externalPluginsBasePath option missing or is not a string");"/"!==i.externalPluginsBasePath.charAt(i.externalPluginsBasePath.length-1)&&(i.externalPluginsBasePath+="/");var r=[];i.externalPlugins.map(function(e){n.plugins.addExternal(e,i.externalPluginsBasePath+e+"/","plugin.js"),r.push(e)}),delete i.externalPlugins,delete i.externalPluginsBasePath,r=r.join(),i.extraPlugins?(i.extraPlugins.length&&(r=i.externalPlugins+","+r),i.extraPlugins=r):s.extraPlugins+=","+r}i=t.defaults(i,s,n.config),n.config=i,n.on("dialogDefinition",function(e){var t=e.data.name,n=e.data.definition;if(e.data.definition.dialog.getElement().addClass("csui-ckeditor-control-dialog"),e.data.definition.dialog.getElement().addClass("csui-ckeditor-dialog-"+t),"link"==t&&!i.linkShowUploadTab){n.getContents("upload").hidden=!0}});var a=i.skin.split(","),l=o("dialog"),c=o("editor");return e('head link[href*="ckeditor/skins/'+a[0]+"/"+c+'"], head link[href*="ckeditor/skins/'+a[0]+"/"+l+'"]').remove(),window.CKEDITOR.document.appendStyleSheet(a[1]+c),window.CKEDITOR.document.appendStyleSheet(a[1]+l),n},"getRichTextEditorUtils":function(){return s},"isEmptyContent":function(e){return!!e&&e.getData().replace(/<\/div>|<div>|<\/p>|<p>|&nbsp;|<br \/>|\s/g,"")}}}),csui.define("csui/controls/mixins/keyboard.navigation/modal.keyboard.navigation.mixin",["csui/lib/underscore","csui/lib/jquery","csui/utils/base"],function(e,t,i){"use strict";return{"mixin":function(n){return e.extend(n,{"_rebuildFocusableElements":function(){this.focusableElements=i.findFocusables(this._focusHolder)},"refreshFocusEngage":function(){this._rebuildFocusableElements()},"_maintainTabFocus":function(e){this._focusHolder=e,this._rebuildFocusableElements();var t=this;return e.keydown(function(e){var i=t.focusableElements.index(e.target),n=t.focusableElements.length,s=!1;-1!==i&&(9===e.keyCode&&(e.shiftKey||i!==n-1?e.shiftKey&&0===i&&(t.focusableElements[n-1].focus(),s=!0):(t.focusableElements[0].focus(),s=!0)),s&&e.preventDefault(),e.stopPropagation())}),this.listenTo(this,"dom:refresh",function(){this.refreshFocusEngage()}),{"disengage":function(){e.off("keydown")}}},"engageModalKeyboardFocusOnOpen":function(e){this._allyHandles||(this._allyHandles=[]),e=t(e||this.el),this._allyHandles.push(this._maintainTabFocus(e))},"disengageModalKeyboardFocusOnClose":function(){if(this._allyHandles)for(;this._allyHandles.length>0;)this._allyHandles.pop().disengage()},"hasEngagedModalKeyboardFocus":function(){return this._allyHandles&&this._allyHandles.length}})}}}),csui.define("csui/controls/tab.panel/tab.links.ext.scroll.mixin",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/models/version","i18n!csui/controls/tab.panel/impl/nls/lang","csui/controls/form/pub.sub"],function(e,t,i,n,s,o){return{"_initializeToolbars":function(i){i=i||{},this.tabsSelector=t(this.$el.find(".tab-links .tab-links-bar")[0]).find("> ul li"),this.tablinksToolbar=t(this.$el.find(".tab-links .tab-links-bar")[0]);var n;this.leftToolbar=t(this.$el.find(".tab-links .left-toolbar")[0]),this.leftToolbar&&0===this.leftToolbar.find(">div.goto_previous_div").length&&(n=i.gotoPreviousTooltip||s.gotoPreviousTooltip,this.leftToolbar.append("<div class='goto_previous_div' title='"+n+"'><span class='icon goto_previous_page'></span></div>"),this.gotoPreviousPage=t(this.$el.find(".tab-links .goto_previous_div")[0]),this.gotoPreviousPage.on("click",e.bind(this._gotoPreviousTabClick,this))),this._hideLeftToolbar(),this.rightToolbar=t(this.$el.find(".tab-links .right-toolbar")[0]),this.rightToolbar&&0===this.rightToolbar.find(">div.goto_next_div").length?(n=i.gotoNextTooltip||s.gotoNextTooltip,this.rightToolbar.append("<div class='goto_next_div' title='"+n+"'><span class='icon goto_next_page'></span></div>"),this.gotoNextPage=t(this.$el.find(".tab-links div.goto_next_div")[0]),this.gotoNextPage.on("click",e.bind(this._gotoNextTabClick,this))):this.gotoNextPage=t(this.$el.find(".tab-links div.goto_next_div")[0]),this.gotoNextPage&&this.gotoNextPage.hide()},"_listenToTabEvent":function(){var e,t=this.$el.find(this.tabsSelector);for(e=0;e<t.length;e++)this._listenToTabIdEvent(e,t)},"_listenToTabIdEvent":function(e,i){var s=this,r=void 0===i?this.$el.find(this.tabsSelector):i;t(r[e]).off("activate.binf.scrollspy").on("activate.binf.scrollspy",function(){var i=t(this).find("a").attr("href"),a=0;if(i&&("#"===i[0]&&(i=i.substr(1)),a=s._findTabIndexByID(i),s.tabContentHeader)){var l=t(r).parent().find("li.binf-active .cs-tablink-text").html(),c=(s.options.node instanceof n?"v":"p")+s.options.node.get("id"),u="pubsub:tab:contents:header:view:change:tab:title:"+c;o.trigger(u,l)}r.removeAttr("aria-selected"),t(r[e]).attr("aria-selected","true"),!0===s.activatingTab||!0===s.skipAutoScroll||!0===s.scrollspyActivatingTab&&s.scrollspyActivatingTabId===a||i&&a>=0&&!s._isTablinkVisibleInParents(t(r[a]))&&(s.scrollspyActivatingTab=!0,s.scrollspyActivatingTabId=a,s._autoScrollTabTo(a).done(function(){s.scrollspyActivatingTab=!1,s.scrollspyActivatingTabId=-1}))})},"_beginTabHidden":function(e){var i=!1,n=void 0===e?this.$el.find(this.tabsSelector):e;if(n){var s;for(s=0;s<n.length;s++){var o=this._isTablinkVisibleInParents(t(n[s]));if(o)break;if(!o&&!t(n[s]).hasClass("hidden-by-switch")){i=!0;break}}}return i},"_trailingTabHidden":function(e){var i=!1,n=void 0===e?this.$el.find(this.tabsSelector):e;if(n){var s;for(s=n.length-1;s>=0;s--){var o=this._isTablinkVisibleInParents(t(n[s]));if(o)break;if(!o&&!t(n[s]).hasClass("hidden-by-switch")){i=!0;break}}}return i},"_findTabIndexByID":function(e){var i=-1,n=this.$el.find(this.tabsSelector);if(n){var s;for(s=0;s<n.length;s++){var o=t(n[s]).find(">a").attr("href");if("#"===o[0]&&(o=o.substr(1)),e===o){i=s;break}}}return i},"_firstVisibleTabIndex":function(e){var i=-1,n=void 0===e?this.$el.find(this.tabsSelector):e;if(n){var s;for(s=0;s<n.length;s++)if(this._isTablinkVisibleInParents(t(n[s]))){i=s;break}}return i},"_lastVisibleTabIndex":function(e){var i=-1,n=void 0===e?this.$el.find(this.tabsSelector):e;if(n){var s;for(s=n.length-1;s>=0;s--)if(this._isTablinkVisibleInParents(t(n[s]))){i=s;break}}return i},"_showLeftToolbar":function(){this.leftToolbar&&this.leftToolbar.show(),this.tablinksToolbar&&this.tablinksToolbar.addClass("with-left-toolbar")},"_hideLeftToolbar":function(){this.leftToolbar&&this.leftToolbar.hide(),this.tablinksToolbar&&this.tablinksToolbar.removeClass("with-left-toolbar")},"_hideTabLinkByRequiredSwitch":function(e){if(e&&e instanceof t){e.addClass("binf-hidden hidden-by-switch"),this._hideTab(e),e.find("a").attr("data-cstabindex","-1");var i=e.find(".cs-delete-icon");void 0!==i.attr("data-cstabindex")&&i.attr("data-cstabindex","-1")}},"_showTabLinkByRequiredSwitch":function(e,i){e&&e instanceof t&&(e.removeClass("binf-hidden hidden-by-switch"),this._showTab(e),e.find("a").removeAttr("data-cstabindex"),!0===i&&e.find(".cs-delete-icon").attr("data-cstabindex","0"))},"_hideTab":function(e){e&&e instanceof t&&(e.css("width",""),e.css("text-overflow","clip"),e.hide())},"_showTab":function(e){e&&e instanceof t&&(e.css("width",""),e.css("text-overflow","ellipsis"),e.show())},"_showLastTab":function(e){var i,n=void 0===e?this.$el.find(this.tabsSelector):e;for(i=n.length-1;i>=0;i--){var s=t(n[i]);if(!this._isTablinkVisibleInParents(s)&&!s.hasClass("hidden-by-switch")){this._showTab(s);break}}},"_enableToolbarState":function(e){var t=void 0===e?this.$el.find(this.tabsSelector):e;t&&(this._beginTabHidden(t)?this._showLeftToolbar():this._hideLeftToolbar(),this.gotoNextPage&&this.gotoNextPage.toggle(this._trailingTabHidden(t)))},"_gotoPreviousTabClick":function(e){i.trigger("closeToggleAction"),this._gotoPreviousTab({"event":e})},"_gotoNextTabClick":function(e){i.trigger("closeToggleAction");var n=(t.Deferred(),this.$el.find(this.tabsSelector)),s=this._lastVisibleTabIndex(n);if(s>=0&&s<n.length){var o,r=-1;for(o=s+1;o<n.length;o++){var a=t(n[o]);if(!a.hasClass("hidden-by-switch")&&!this._isTablinkVisibleInParents(a)){r=o;break}}if(r>=0&&r<n.length)return this._gotoNextTab({"tabs":n,"visibleTabIndex":r})}return t.Deferred().resolve()},"_gotoPreviousTab":function(i){i||(i={}),i.event&&i.event.preventDefault(),i.event&&i.event.stopPropagation();var n,s=i.deferred?i.deferred:t.Deferred(),o=void 0===i.tabs?this.$el.find(this.tabsSelector):i.tabs,r=o.length-1,a=i.visibleTabIndex;if(void 0!==a&&a>=0&&a<=r&&this._isTablinkVisibleInParents(t(o[a])))return s.resolve();var l=!1;for(n=0;n<=r;n++){var c=t(o[n]);if(this._isTablinkVisibleInParents(c)){0===n&&this._hideLeftToolbar();var u;for(u=n-1;u>=0;u--){var d=t(o[u]);if(d&&!this._isTablinkVisibleInParents(d)&&!d.hasClass("hidden-by-switch")){d.css("visibility","binf-hidden"),d.css("width",""),d.show();var h=d.width();d.css("text-overflow","clip"),d.width(0),d.css("visibility",""),l=!0;var p=!0===i.animationOff?0:"fast";d.animate({"width":"+="+h},p,e.bind(function(){d.css("width",""),d.css("text-overflow","ellipsis");var e=!1;if(void 0!==a&&a>=0&&a<=r&&!1===this._isTablinkVisibleInParents(t(o[a]))&&(e=!0),e){var n={"tabs":o,"deferred":s};i.event&&(n.event=i.event),void 0!==a&&(n.visibleTabIndex=a),void 0!==i.animationOff&&(n.animationOff=i.animationOff),this._gotoPreviousTab(n)}else this._enableToolbarState(o),this.autoScrollingLastTab=!1,s.resolve()},this));break}}break}n===r&&(this._showLastTab(o),this._enableToolbarState(o),this.autoScrollingLastTab=!1,s.resolve())}return!1===l?s.resolve():void 0===i.deferred?s.promise():void 0},"_gotoNextTab":function(i){i||(i={}),i.event&&i.event.preventDefault(),i.event&&i.event.stopPropagation();var n,s=i.deferred?i.deferred:t.Deferred(),o=void 0===i.tabs?this.$el.find(this.tabsSelector):i.tabs,r=o.length-1,a=i.visibleTabIndex;if(void 0!==a&&a>=0&&a<=r&&this._isTablinkVisibleInParents(t(o[a])))return s.resolve();var l=!1;for(n=0;n<=r;n++){var c=t(o[n]);if(this._isTablinkVisibleInParents(c)){if(this.leftToolbar.is(":hidden")&&this._showLeftToolbar(),c){l=!0;var u=!0===i.animationOff?0:"fast";c.animate({"width":"-="+c.width()},u,e.bind(function(){c.hide(),c.css("width","");var e=!1;if(void 0!==a&&a>=0&&a<=r&&!1===this._isTablinkVisibleInParents(t(o[a]))&&(e=!0),e){var n={"tabs":o,"deferred":s};i.event&&(n.event=i.event),void 0!==a&&(n.visibleTabIndex=a),void 0!==i.animationOff&&(n.animationOff=i.animationOff),this._gotoNextTab(n)}else this._enableToolbarState(o),this.autoScrollingLastTab=!1,s.resolve()},this))}break}n===r&&(this._showLastTab(o),this._enableToolbarState(o),this.autoScrollingLastTab=!1,s.resolve())}return!1===l?s.resolve():void 0===i.deferred?s.promise():void 0},"_autoScrollLastTab":function(){this.autoScrollingLastTab=!0;var t=this.$el.find(this.tabsSelector),i=this._gotoNextTab({"tabs":t,"visibleTabIndex":t.length-1});return i.done(e.bind(function(){this.autoScrollingLastTab=!1},this)),i},"_autoScrollFirstTabAsync":function(i,n,s,o){var r=void 0===s?0:s;if(r<0&&r>=n.length)return o?void o.resolve():t.Deferred().resolve();var a=o||t.Deferred();return this._gotoPreviousTab({"tabs":n}).done(e.bind(function(){this._isTablinkVisibleInParents(i)?a.resolve():(r++,this._autoScrollFirstTabAsync(i,n,r,a))},this)),void 0===o?a:void 0},"_autoScrollFirstTab":function(){var i=t.Deferred();this.autoScrollingLastTab=!0;var n=this.$el.find(this.tabsSelector),s=t(n[0]);return!this._isTablinkVisibleInParents(s)&&n.length>0?this._autoScrollFirstTabAsync(s,n).done(e.bind(function(){this._enableToolbarState(n),this.autoScrollingLastTab=!1,i.resolve()},this)):this.autoScrollingLastTab=!1,i.promise()},"_autoScrollTabTo":function(i,n){n||(n={});var s=this.$el.find(this.tabsSelector),o=e.extend({"visibleTabIndex":i},n,{"tabs":s}),r=this._firstVisibleTabIndex(s),a=this._lastVisibleTabIndex(s);if(r>=0&&r<s.length&&a>=0&&a<s.length&&i>=0&&i<s.length){this.autoScrollingLastTab=!0;var l;if(i<r)l=this._gotoPreviousTab(o);else{if(!(i>a))return this.autoScrollingLastTab=!1,t.Deferred().resolve();l=this._gotoNextTab(o)}return l.done(e.bind(function(){this.autoScrollingLastTab=!1},this)),l}return t.Deferred().resolve()},"_autoScrolling":function(){if(this.autoScrollingLastTab||!0===this.activatingTab||!0===this.skipAutoScroll)return t.Deferred().resolve();var e,i=-1,n=this.$el.find(this.tabsSelector),s=!1;for(e=0;e<n.length;e++){var o=t(n[e]);if(-1===i&&o.hasClass("binf-active")){!1===this._isTablinkVisibleInParents(o)&&(s=!0),i=e;break}}return s?this._autoScrollTabTo(i):t.Deferred().resolve()}}}),csui.define("hbs!csui/dialogs/modal.alert/impl/modal.alert",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var s;return'  class="binf-modal-dialog binf-modal-'+this.escapeExpression((s=null!=(s=t.dialogSize||(null!=e?e.dialogSize:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"dialogSize","hash":{}}):s))+'"\r\n'},"3":function(e,t,i,n){return'  class="binf-modal-dialog"\r\n'},"5":function(e,t,i,n){var s;return'       aria-labelledby="'+this.escapeExpression((s=null!=(s=t.dlgTitleId||(null!=e?e.dlgTitleId:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"dlgTitleId","hash":{}}):s))+'"\r\n'},"7":function(e,t,i,n){var s;return'       aria-describedby="'+this.escapeExpression((s=null!=(s=t.dlgMsgId||(null!=e?e.dlgMsgId:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"dlgMsgId","hash":{}}):s))+'"\r\n'},"9":function(e,t,i,n){var s,o;return'      <div class="binf-modal-header '+this.escapeExpression((o=null!=(o=t.headerClass||(null!=e?e.headerClass:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"headerClass","hash":{}}):o))+'">\r\n'+(null!=(s=t.if.call(e,null!=e?e.showTitleCloseButton:e,{"name":"if","hash":{},"fn":this.program(10,n,0),"inverse":this.noop}))?s:"")+'        <h4 class="binf-modal-title">\r\n'+(null!=(s=t.if.call(e,null!=e?e.showTitleIcon:e,{"name":"if","hash":{},"fn":this.program(12,n,0),"inverse":this.noop}))?s:"")+'          <span class="title-text" title="'+this.escapeExpression((o=null!=(o=t.title||(null!=e?e.title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"title","hash":{}}):o))+'" id="'+this.escapeExpression((o=null!=(o=t.dlgTitleId||(null!=e?e.dlgTitleId:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"dlgTitleId","hash":{}}):o))+'">'+this.escapeExpression((o=null!=(o=t.title||(null!=e?e.title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"title","hash":{}}):o))+"</span>\r\n        </h4>\r\n      </div>\r\n"},"10":function(e,t,i,n){var s;return'          <button type="button" class="binf-close" data-binf-dismiss="modal"\r\n                  aria-label="'+this.escapeExpression((s=null!=(s=t.closeButtonAria||(null!=e?e.closeButtonAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"closeButtonAria","hash":{}}):s))+'" tabindex="0">\r\n            <span class="icon '+this.escapeExpression((s=null!=(s=t.titleCloseIcon||(null!=e?e.titleCloseIcon:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"titleCloseIcon","hash":{}}):s))+'"></span>\r\n          </button>\r\n'},"12":function(e,t,i,n){var s;return'            <span class="icon '+this.escapeExpression((s=null!=(s=t.titleIcon||(null!=e?e.titleIcon:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"titleIcon","hash":{}}):s))+'"></span>\r\n'},"14":function(e,t,i,n){var s;return'      <div class="binf-modal-body" id="'+this.escapeExpression((s=null!=(s=t.dlgMsgId||(null!=e?e.dlgMsgId:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"dlgMsgId","hash":{}}):s))+'" title="'+this.escapeExpression((s=null!=(s=t.message||(null!=e?e.message:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"message","hash":{}}):s))+'">'+this.escapeExpression((s=null!=(s=t.message||(null!=e?e.message:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"message","hash":{}}):s))+"</div>\r\n"},"16":function(e,t,i,n){return'    <div class="binf-modal-footer">\r\n'},"18":function(e,t,i,n){return'    <div class="binf-modal-footer csui-no-body">\r\n'},"20":function(e,t,i,n){var s;return'      <button type="button" class="binf-btn binf-btn-primary csui-yes csui-default" tabindex="0"\r\n              data-binf-dismiss="modal" title="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.buttons:e)?s.labelYes:s,e))+'">'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.buttons:e)?s.labelYes:s,e))+"</button>\r\n"},"22":function(e,t,i,n){var s;return'      <button type="button" class="binf-btn binf-btn-default csui-no" tabindex="0"\r\n              data-binf-dismiss="modal" title="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.buttons:e)?s.labelNo:s,e))+'">'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.buttons:e)?s.labelNo:s,e))+"</button>\r\n"},"24":function(e,t,i,n){var s;return'      <button class="binf-btn binf-btn-default csui-cancel" tabindex="0"\r\n              data-binf-dismiss="modal" title="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.buttons:e)?s.labelCancel:s,e))+'">'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.buttons:e)?s.labelCancel:s,e))+"</button>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div role="alertdialog"\r\n'+(null!=(s=t.if.call(e,null!=e?e.dialogSize:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.program(3,n,0)}))?s:"")+"\r\n"+(null!=(s=t.if.call(e,null!=e?e.showHeader:e,{"name":"if","hash":{},"fn":this.program(5,n,0),"inverse":this.noop}))?s:"")+(null!=(s=t.if.call(e,null!=e?e.message:e,{"name":"if","hash":{},"fn":this.program(7,n,0),"inverse":this.noop}))?s:"")+'>\r\n  <div class="binf-modal-content">\r\n'+(null!=(s=t.if.call(e,null!=e?e.showHeader:e,{"name":"if","hash":{},"fn":this.program(9,n,0),"inverse":this.noop}))?s:"")+"\r\n"+(null!=(s=t.if.call(e,null!=e?e.message:e,{"name":"if","hash":{},"fn":this.program(14,n,0),"inverse":this.noop}))?s:"")+"\r\n"+(null!=(s=t.if.call(e,null!=e?e.message:e,{"name":"if","hash":{},"fn":this.program(16,n,0),"inverse":this.program(18,n,0)}))?s:"")+(null!=(s=t.if.call(e,null!=(s=null!=e?e.buttons:e)?s.showYes:s,{"name":"if","hash":{},"fn":this.program(20,n,0),"inverse":this.noop}))?s:"")+(null!=(s=t.if.call(e,null!=(s=null!=e?e.buttons:e)?s.showNo:s,{"name":"if","hash":{},"fn":this.program(22,n,0),"inverse":this.noop}))?s:"")+(null!=(s=t.if.call(e,null!=(s=null!=e?e.buttons:e)?s.showCancel:s,{"name":"if","hash":{},"fn":this.program(24,n,0),"inverse":this.noop}))?s:"")+"  </div>\r\n  </div>\r\n  </div>\r\n\r\n"}});return i.registerPartial("csui_dialogs_modal.alert_impl_modal.alert",n),n}),csui.define("csui/dialogs/modal.alert/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/dialogs/modal.alert/impl/nls/root/lang",{"YesButtonLabel":"Yes","NoButtonLabel":"No","OkButtonLabel":"OK","CancelButtonLabel":"Cancel","CloseButtonLabel":"Close","CloseButtonAria":"Close dialog","DefaultWarningTitle":"Warning","DefaultInfoTitle":"Information","DefaultErrorTitle":"Error","DefaultSuccessTitle":"Success","DefaultMessageTitle":"Message","DefaultQuestionTitle":"Question"}),csui.define("css!csui/dialogs/modal.alert/impl/modal.alert",[],function(){}),csui.define("csui/dialogs/modal.alert/modal.alert",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/log","csui/utils/base","hbs!csui/dialogs/modal.alert/impl/modal.alert","i18n!csui/dialogs/modal.alert/impl/nls/lang","csui/behaviors/keyboard.navigation/tabkey.behavior","csui/lib/binf/js/binf","css!csui/dialogs/modal.alert/impl/modal.alert","css!csui/controls/globalmessage/globalmessage_icons"],function(e,t,i,n,s,o,r,a,l){s=s(e.id);var c=n.ItemView.extend({"className":function(){var e="csui-alert cs-dialog binf-modal binf-fade";return this.options.modalClass&&(e+=" "+this.options.modalClass),e},"template":r,"ui":{"defaultButton":".binf-modal-footer > .csui-default"},"triggers":{"click .csui-yes":"click:yes","click .csui-no":"click:no"},"events":{"shown.binf.modal":"onShown","hide.binf.modal":"onHiding","hidden.binf.modal":"onHidden","keydown":"onKeyDown"},"behaviors":{"TabKeyBehavior":{"behaviorClass":l,"recursiveNavigation":!0}},"constructor":function e(s){n.ItemView.prototype.constructor.apply(this,arguments),s=this.options;var o=t.reduce(e.buttonLabels,function(e,t,i){return e["label"+i]=t,e},{});s.buttons=t.defaults({},t.isEmpty(s.buttons)?e.buttons.Close:s.buttons,o),t.defaults(s,e.defaultOptions.Information,{"centerVertically":!0,"showHeader":""!==s.title}),this._deferred=i.Deferred()},"templateHelpers":function(){var e=t(this.options).clone();return e.dlgTitleId=t.uniqueId("dlgTitle"),e.dlgMsgId=t.uniqueId("dlgMsg"),e},"show":function(){this.render(),this.$el.attr("tabindex",0),this.options.centerVertically&&this.centerVertically(),this.$el.binf_modal("show"),this.triggerMethod("show");var e=this._deferred.promise(),t=this;return e.close=function(){return t.$el.binf_modal("hide"),e},e},"centerVertically":function(){var e,t;e=this.$el.clone(),e.css("display","block"),e.appendTo(i.fn.binf_modal.getDefaultContainer()),t=Math.round((e.height()-e.find(".binf-modal-content").height())/2),t=t>0?t:0,e.remove(),this.$el.find(".binf-modal-content").css("margin-top",t)},"onShown":function(){this._deferred.notify({"state":"shown"}),this._setTabFocus(!1)},"onHiding":function(){this._deferred.notify({"state":"hiding"})},"onHidden":function(e){this.destroy(),this.options.callback&&this.options.callback(this._result),this._result?this._deferred.resolve(this._result):this._deferred.reject(this._result)},"onKeyDown":function(e){switch(e.keyCode){case 13:e.target===this.el?this.ui.defaultButton.click():i(e.target).click();break;case 9:return this._setTabFocus(e.shiftKey)}},"onClickYes":function(){this._result=!0},"onClickNo":function(){this._result=!1},"_setTabFocus":function(e){var t=this.$("*[tabindex=0]"),n=t.length-1,s=this._getStartIndex(n,e,t);if(n>-1){var r=void 0!==this.activeIndex?this.activeIndex:e?0:n;do{var a=i(t[s]);if(o.isVisibleInWindowViewport(a)){this.activeIndex=s,a.focus();break}s=e?0===s?n:s-1:s===n?0:s+1}while(s!=r)}return!1},"_getStartIndex":function(e,t){var i=0,n=this.activeIndex;return t?(i=e,void 0!==n&&n>0&&(i=this.activeIndex-1)):void 0!==n&&n<e&&(i=n+1),i}},{"defaultOptions":{"Success":{"title":a.DefaultSuccessTitle,"titleIcon":"csui-icon-notification-success-white","showTitleIcon":!0,"titleCloseIcon":"csui-icon-dismiss-white","showTitleCloseButton":!1,"headerClass":"success-header"},"Information":{"title":a.DefaultInfoTitle,
"titleIcon":"csui-icon-notification-information-white","showTitleIcon":!0,"titleCloseIcon":"csui-icon-dismiss-white","showTitleCloseButton":!1,"headerClass":"info-header"},"Warning":{"title":a.DefaultWarningTitle,"titleIcon":"csui-icon-notification-warning-white","showTitleIcon":!0,"titleCloseIcon":"csui-icon-dismiss-white","showTitleCloseButton":!1,"headerClass":"warning-header"},"Error":{"title":a.DefaultErrorTitle,"titleIcon":"csui-icon-notification-error-white","showTitleIcon":!0,"titleCloseIcon":"csui-icon-dismiss-white","showTitleCloseButton":!1,"headerClass":"error-header"},"Message":{"title":a.DefaultMessageTitle,"titleIcon":"","showTitleIcon":!1,"titleCloseIcon":"csui-icon-dismiss","showTitleCloseButton":!1,"headerClass":"message-header"},"Question":{"title":a.DefaultQuestionTitle,"titleIcon":"csui-icon-notification-confirmation-white","showTitleIcon":!0,"titleCloseIcon":"csui-icon-dismiss-white","showTitleCloseButton":!1,"headerClass":"question-header"}},"buttons":{"YesNoCancel":{"showYes":!0,"showNo":!0,"showCancel":!0},"YesNo":{"showYes":!0,"showNo":!0,"showCancel":!1},"OkCancel":{"showYes":!0,"labelYes":a.OkButtonLabel,"showNo":!1,"showCancel":!0},"Ok":{"showYes":!0,"labelYes":a.OkButtonLabel,"showNo":!1,"showCancel":!1},"Cancel":{"showYes":!1,"showNo":!1,"showCancel":!0},"Close":{"showYes":!1,"showNo":!1,"showCancel":!0,"labelCancel":a.CloseButtonLabel}},"buttonLabels":{"Yes":a.YesButtonLabel,"No":a.NoButtonLabel,"Ok":a.OkButtonLabel,"Cancel":a.CancelButtonLabel,"Close":a.CloseButtonLabel},"showSuccess":function(e,t,i,n){return n=this._makeOptions(arguments,c.defaultOptions.Success,c.buttons.Close),this._show(n)},"showInfo":function(e,t,i,n){this.showInformation.apply(this,arguments)},"showInformation":function(e,t,i,n){return n=this._makeOptions(arguments,c.defaultOptions.Information,c.buttons.Close),this._show(n)},"showWarning":function(e,t,i,n){return n=this._makeOptions(arguments,c.defaultOptions.Warning,c.buttons.Close),this._show(n)},"showError":function(e,t,i,n){return n=this._makeOptions(arguments,c.defaultOptions.Error,c.buttons.Close),this._show(n)},"showMessage":function(e,t,i,n){return n=this._makeOptions(arguments,c.defaultOptions.Message,c.buttons.Close),this._show(n)},"confirmSuccess":function(e,t,i,n){return n=this._makeOptions(arguments,c.defaultOptions.Success,c.buttons.YesNo),this._show(n)},"confirmInfo":function(e,t,i,n){s.warn("The method 'configInfo' has been deprecated and will be removed.  Use 'configInformation' instead.")&&console.warn(s.last),s.warn("Occurred "+s.getStackTrace(2))&&console.warn(s.last),this.confirmInformation.apply(this,arguments)},"confirmInformation":function(e,t,i,n){return n=this._makeOptions(arguments,c.defaultOptions.Information,c.buttons.YesNo),this._show(n)},"confirmWarning":function(e,t,i,n){return n=this._makeOptions(arguments,c.defaultOptions.Warning,c.buttons.YesNo),this._show(n)},"confirmError":function(e,t,i,n){return n=this._makeOptions(arguments,c.defaultOptions.Error,c.buttons.YesNo),this._show(n)},"confirmQuestion":function(e,t,i,n){return n=this._makeOptions(arguments,c.defaultOptions.Question,c.buttons.YesNo),this._show(n)},"confirmMessage":function(e,t,i,n){return n=this._makeOptions(arguments,c.defaultOptions.Message,c.buttons.YesNo),this._show(n)},"_makeOptions":function(e,i,n){var s=e[0],o=e[1],r=e[2],l=e[3];return"function"!=typeof s&&(l=r,r=o,o=s,s=void 0),l="object"==typeof o?t.clone(o):"object"==typeof r?t.defaults({"message":o},r):t.defaults({"message":o,"title":r},l),l.buttons=t.defaults({},l.buttons,n),l.callback=s,i.closeButtonAria=a.CloseButtonAria,t.defaults(l,i)},"_show":function(e){return new c(e).show()}});return c}),csui.define("csui/lib/jquery.mockjax",["module","csui/lib/jquery"],function(e,t){"use strict";function i(e){void 0===window.DOMParser&&window.ActiveXObject&&(window.DOMParser=function(){},DOMParser.prototype.parseFromString=function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t});try{var i=(new DOMParser).parseFromString(e,"text/xml");if(!t.isXMLDoc(i))throw new Error("Unable to parse XML");if(1===t("parsererror",i).length)throw new Error("Error: "+t(i).text());return i}catch(e){var n=void 0===e.name?e:e.name+": "+e.message;return void t(document).trigger("xmlParseError",[n])}}function n(e,i){S.debug(e,["Checking mock data against request data",e,i]);var o=!0;if(t.isFunction(e))return!!e(i);if("string"==typeof i){if(t.isFunction(e.test))return e.test(i);if("object"!=typeof e)return e===i;i=s(i)}return t.each(e,function(s){if(void 0===i[s])return o=!1;"object"==typeof i[s]&&null!==i[s]?(o&&t.isArray(i[s])&&(o=t.isArray(e[s])&&i[s].length===e[s].length),o=o&&n(e[s],i[s])):o=e[s]&&t.isFunction(e[s].test)?o&&e[s].test(i[s]):o&&e[s]===i[s]}),o}function s(e){var t,i,n,s,o={},r=String(e).split(/&/);for(t=0,i=r.length;t<i;++t){n=r[t];try{n=decodeURIComponent(n.replace(/\+/g," ")),n=n.split(/=/)}catch(e){continue}o[n[0]]?(o[n[0]].splice||(s=o[n[0]],o[n[0]]=[],o[n[0]].push(s)),o[n[0]].push(n[1])):o[n[0]]=n[1]}return S.debug(null,["Getting query params from string",e,o]),o}function o(e,i){return e[i]===t.mockjaxSettings[i]}function r(e,i){if(t.isFunction(e))return e(i);if(t.isFunction(e.url.test)){if(!e.url.test(i.url))return null}else{var s=e.namespace||t.mockjaxSettings.namespace;if(s){var o=[s,e.url].join("/");o=o.replace(/(\/+)/g,"/"),e.url=o}var r=e.url.indexOf("*");if(e.url!==i.url&&-1===r||!new RegExp(e.url.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".+")).test(i.url))return null}if(e.requestHeaders){if(void 0===i.headers)return null;var a=!1;if(t.each(e.requestHeaders,function(e,t){if(i.headers[e]!==t)return a=!0,!1}),a)return null}return!e.data||i.data&&n(e.data,i.data)?e&&e.type&&e.type.toLowerCase()!==i.type.toLowerCase()?null:e:null}function a(e){return"number"==typeof e&&e>=0}function l(e){if(t.isArray(e)&&2===e.length){var i=e[0],n=e[1];if(a(i)&&a(n))return Math.floor(Math.random()*(n-i))+i}else if(a(e))return e;return I}function c(e,n,s){S.debug(e,["Sending fake XHR request",e,n,s]);var r=function(o){return function(){return function(){this.status=e.status,this.statusText=e.statusText,this.readyState=1;var r=function(){this.readyState=4;var s;"json"===n.dataType&&"object"==typeof e.responseText?this.responseText=JSON.stringify(e.responseText):"xml"===n.dataType?"string"==typeof e.responseXML?(this.responseXML=i(e.responseXML),this.responseText=e.responseXML):this.responseXML=e.responseXML:"object"==typeof e.responseText&&null!==e.responseText?(e.contentType="application/json",this.responseText=JSON.stringify(e.responseText)):this.responseText=e.responseText,"number"!=typeof e.status&&"string"!=typeof e.status||(this.status=e.status),"string"==typeof e.statusText&&(this.statusText=e.statusText),s=this.onload||this.onreadystatechange,t.isFunction(s)?(e.isTimeout&&(this.status=-1),s.call(this,e.isTimeout?"timeout":void 0)):e.isTimeout&&(this.status=-1)};if(t.isFunction(e.response)){if(2===e.response.length)return void e.response(s,function(){r.call(o)});e.response(s)}r.call(o)}.apply(o)}}(this);e.proxy?(S.info(e,["Retrieving proxy file: "+e.proxy,e]),x({"global":!1,"url":e.proxy,"type":e.proxyType,"data":e.data,"async":n.async,"dataType":"script"===n.dataType?"text/plain":n.dataType,"complete":function(t){e.responseXML=e.responseText=t.responseText,o(e,"status")&&(e.status=t.status),o(e,"statusText")&&(e.statusText=t.statusText),!1===n.async?r():this.responseTimer=setTimeout(r,l(e.responseTime))}})):!1===n.async?r():this.responseTimer=setTimeout(r,l(e.responseTime))}function u(e,i,n,s){return S.debug(e,["Creating new mock XHR object",e,i,n,s]),e=t.extend(!0,{},t.mockjaxSettings,e),void 0===e.headers&&(e.headers={}),void 0===i.headers&&(i.headers={}),e.contentType&&(e.headers["content-type"]=e.contentType),{"status":e.status,"statusText":e.statusText,"readyState":1,"open":function(){},"send":function(){s.fired=!0,c.call(this,e,i,n)},"abort":function(){clearTimeout(this.responseTimer)},"setRequestHeader":function(e,t){i.headers[e]=t},"getResponseHeader":function(t){return e.headers&&e.headers[t]?e.headers[t]:"last-modified"===t.toLowerCase()?e.lastModified||(new Date).toString():"etag"===t.toLowerCase()?e.etag||"":"content-type"===t.toLowerCase()?e.contentType||"text/plain":void 0},"getAllResponseHeaders":function(){var i="";return e.contentType&&(e.headers["Content-Type"]=e.contentType),t.each(e.headers,function(e,t){i+=e+": "+t+"\n"}),i}}}function d(e,t,i){if(h(e),e.dataType="json",e.data&&C.test(e.data)||C.test(e.url)){f(e,t,i);var n=/^(\w+:)?\/\/([^\/?#]+)/,s=n.exec(e.url),o=s&&(s[1]&&s[1]!==location.protocol||s[2]!==location.host);if(e.dataType="script","GET"===e.type.toUpperCase()&&o){var r=p(e,t,i);return r||!0}}return null}function h(e){"GET"===e.type.toUpperCase()?C.test(e.url)||(e.url+=(/\?/.test(e.url)?"&":"?")+(e.jsonp||"callback")+"=?"):e.data&&C.test(e.data)||(e.data=(e.data?e.data+"&":"")+(e.jsonp||"callback")+"=?")}function p(e,i,n){S.debug(i,["Performing JSONP request",i,e,n]);var s=n&&n.context||e,o=t.Deferred?new t.Deferred:null;if(i.response&&t.isFunction(i.response))i.response(n);else if("object"==typeof i.responseText)t.globalEval("("+JSON.stringify(i.responseText)+")");else{if(i.proxy)return S.info(i,["Performing JSONP proxy request: "+i.proxy,i]),x({"global":!1,"url":i.proxy,"type":i.proxyType,"data":i.data,"dataType":"script"===e.dataType?"text/plain":e.dataType,"complete":function(n){t.globalEval("("+n.responseText+")"),b(e,i,s,o)}}),o;t.globalEval("("+("string"==typeof i.responseText?'"'+i.responseText+'"':i.responseText)+")")}return b(e,i,s,o),o}function b(e,i,n,s){var o;setTimeout(function(){if(m(e,n,i),g(e,n),s){try{o=t.parseJSON(i.responseText)}catch(e){}s.resolveWith(n,[o||i.responseText]),S.log(i,["JSONP mock call complete",i,s])}},l(i.responseTime))}function f(e,t,i){var n=i&&i.context||e,s="string"==typeof e.jsonpCallback&&e.jsonpCallback||"jsonp"+E++;e.data&&(e.data=(e.data+"").replace(C,"="+s+"$1")),e.url=e.url.replace(C,"="+s+"$1"),window[s]=window[s]||function(){m(e,n,t),g(e,n),window[s]=void 0;try{delete window[s]}catch(e){}},e.jsonpCallback=s}function m(e,i,n){e.success&&e.success.call(i,n.responseText||"","success",{}),e.global&&(e.context?t(e.context):t.event).trigger("ajaxSuccess",[{},e])}function g(e,i){e.complete&&e.complete.call(i,{"statusText":"success","status":200},"success"),e.global&&(e.context?t(e.context):t.event).trigger("ajaxComplete",[{},e]),e.global&&!--t.active&&t.event.trigger("ajaxStop")}function v(e,i){var n,s,o,a;S.debug(null,["Ajax call intercepted",e,i]),"object"==typeof e?(i=e,e=void 0):(i=i||{},i.url=e||i.url),s=t.ajaxSetup({},i),s.type=s.method=s.method||s.type,a=function(e,n){var s=i[e.toLowerCase()];return function(){t.isFunction(s)&&s.apply(this,[].slice.call(arguments)),n["onAfter"+e]()}};for(var l=0;l<T.length;l++)if(T[l]){if(o=r(T[l],s))return t.mockjaxSettings.retainAjaxCalls&&_.push(s),S.info(o,["MOCK "+s.type.toUpperCase()+": "+s.url,t.ajaxSetup({},s)]),s.dataType&&"JSONP"===s.dataType.toUpperCase()&&(n=d(s,o,i))?n:(i.crossDomain=!1,o.cache=s.cache,o.timeout=s.timeout,o.global=s.global,o.isTimeout&&(o.responseTime>1?i.timeout=o.responseTime-1:(o.responseTime=2,i.timeout=1)),t.isFunction(o.onAfterSuccess)&&(i.success=a("Success",o)),t.isFunction(o.onAfterError)&&(i.error=a("Error",o)),t.isFunction(o.onAfterComplete)&&(i.complete=a("Complete",o)),w(o,i),function(e,i,s,o){n=x.call(t,t.extend(!0,{},s,{"xhr":function(){return u(e,i,s,o)}}))}(o,s,i,T[l]),n);S.debug(T[l],["Mock does not match request",e,s])}if(S.log(null,["No mock matched to request",e,i]),t.mockjaxSettings.retainAjaxCalls&&k.push(i),!0===t.mockjaxSettings.throwUnmocked)throw new Error("AJAX not mocked: "+i.url);return x.apply(t,[i])}function w(e,t){if(e.url instanceof RegExp&&e.hasOwnProperty("urlParams")){var i=e.url.exec(t.url);if(1!==i.length){i.shift();var n=0,s=i.length,o=e.urlParams.length,r=Math.min(s,o),a={};for(n;n<r;n++){a[e.urlParams[n]]=i[n]}t.urlParams=a}}}function y(e){var t,i,n,s=[],o=e instanceof RegExp?function(t){return e.test(t)}:function(t){return e===t};for(t=0,i=T.length;t<i;t++)n=T[t],o(n.url)?S.log(n,["Clearing mock: "+(n&&n.url),n]):s.push(n);return s}var x=t.ajax,T=[],_=[],k=[],C=/=\?(&|$)/,E=(new Date).getTime(),I=500;t.extend({"ajax":v});var S={"_log":function(e,i,n){var s=t.mockjaxSettings.logging;if(e&&void 0!==e.logging&&(s=e.logging),n=0===n?n:n||B.LOG,i=i.splice?i:[i],!(!1===s||s<n))return t.mockjaxSettings.log?t.mockjaxSettings.log(e,i[1]||i[0]):t.mockjaxSettings.logger&&t.mockjaxSettings.logger[t.mockjaxSettings.logLevelMethods[n]]?t.mockjaxSettings.logger[t.mockjaxSettings.logLevelMethods[n]].apply(t.mockjaxSettings.logger,i):void 0},"debug":function(e,t){return S._log(e,t,B.DEBUG)},"log":function(e,t){return S._log(e,t,B.LOG)},"info":function(e,t){return S._log(e,t,B.INFO)},"warn":function(e,t){return S._log(e,t,B.WARN)},"error":function(e,t){return S._log(e,t,B.ERROR)}},B={"DEBUG":4,"LOG":3,"INFO":2,"WARN":1,"ERROR":0};return t.mockjaxSettings={"log":null,"logger":window.console,"logging":2,"logLevelMethods":["error","warn","info","log","debug"],"namespace":null,"status":200,"statusText":"OK","responseTime":I,"isTimeout":!1,"throwUnmocked":!1,"retainAjaxCalls":!0,"contentType":"text/plain","response":"","responseText":"","responseXML":"","proxy":"","proxyType":"GET","lastModified":null,"etag":"","headers":{"etag":"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}},t.mockjax=function(e){if(t.isArray(e))return t.map(e,function(e){return t.mockjax(e)});var i=T.length;return T[i]=e,S.log(e,["Created new mock handler",e]),i},t.mockjax._logger=S,t.mockjax.clear=function(e){"string"==typeof e||e instanceof RegExp?T=y(e):e||0===e?(S.log(T[e],["Clearing mock: "+(T[e]&&T[e].url),T[e]]),T[e]=null):(S.log(null,"Clearing all mocks"),T=[]),_=[],k=[]},t.mockjax.clearRetainedAjaxCalls=function(){_=[],k=[],S.debug(null,"Cleared retained ajax calls")},t.mockjax.handler=function(e){if(1===arguments.length)return T[e]},t.mockjax.mockedAjaxCalls=function(){return _},t.mockjax.unfiredHandlers=function(){for(var e=[],t=0,i=T.length;t<i;t++){var n=T[t];null===n||n.fired||e.push(n)}return e},t.mockjax.unmockedAjaxCalls=function(){return k},t.mockjax.publishHandlers=function(){for(var e=0,t=T.length;e<t;e++){var i=T[e];if(null!==i){var n="Handler "+i.name+":\nurl"+i.url;console.log(n)}}},t.extend(!0,t.mockjaxSettings,e.config().settings),t.mockjax}),csui.define("csui/lib/jquery.simulate",["module","csui/lib/jquery"],function(e,t){!function(e,t){"use strict";function i(e){return l.test(Object.prototype.toString.call(e))}function n(e){for(var t=0;t<window.frames.length;t+=1)if(window.frames[t]&&window.frames[t].document===e)return window.frames[t];return window}function s(t){var n,s,o=e(t);return i(o[0])?(s=o,n={"left":0,"top":0}):(s=e(o[0].ownerDocument||document),n=o.offset()),{"x":n.left+o.outerWidth()/2-s.scrollLeft(),"y":n.top+o.outerHeight()/2-s.scrollTop()}}function o(t){var n,s=e(t);return i(s[0])?(s,n={"left":0,"top":0}):(e(s[0].ownerDocument||document),n=s.offset()),{"x":n.left-document.scrollLeft(),"y":n.top-document.scrollTop()}}var r=/^key/,a=/^(?:mouse|contextmenu)|click/,l=/\[object (?:HTML)?Document\]/;e.fn.simulate=function(t,i){return this.each(function(){new e.simulate(this,t,i)})},e.simulate=function(t,i,n){var s=e.camelCase("simulate-"+i);this.target=t,this.options=n||{},this[s]?this[s]():this.simulateEvent(t,i,this.options)},e.extend(e.simulate,{"keyCode":{"BACKSPACE":8,"COMMA":188,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"LEFT":37,"NUMPAD_ADD":107,"NUMPAD_DECIMAL":110,"NUMPAD_DIVIDE":111,"NUMPAD_ENTER":108,"NUMPAD_MULTIPLY":106,"NUMPAD_SUBTRACT":109,"PAGE_DOWN":34,"PAGE_UP":33,"PERIOD":190,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38},"buttonCode":{"LEFT":0,"MIDDLE":1,"RIGHT":2}}),e.extend(e.simulate.prototype,{"simulateEvent":function(e,t,i){var n=this.createEvent(t,i);this.dispatchEvent(e,t,n,i)},"createEvent":function(e,t){return r.test(e)?this.keyEvent(e,t):a.test(e)?this.mouseEvent(e,t):void 0},"mouseEvent":function(t,s){var o,r,a,l,c=i(this.target)?this.target:this.target.ownerDocument||document;return s=e.extend({"bubbles":!0,"cancelable":"mousemove"!==t,"view":n(c),"detail":0,"screenX":0,"screenY":0,"clientX":1,"clientY":1,"ctrlKey":!1,"altKey":!1,"shiftKey":!1,"metaKey":!1,"button":0,"relatedTarget":void 0},s),c.createEvent?(o=c.createEvent("MouseEvents"),o.initMouseEvent(t,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget||c.body.parentNode),0===o.pageX&&0===o.pageY&&Object.defineProperty&&(r=i(o.relatedTarget)?o.relatedTarget:o.relatedTarget.ownerDocument||document,a=r.documentElement,l=r.body,Object.defineProperty(o,"pageX",{"get":function(){return s.clientX+(a&&a.scrollLeft||l&&l.scrollLeft||0)-(a&&a.clientLeft||l&&l.clientLeft||0)}}),Object.defineProperty(o,"pageY",{"get":function(){return s.clientY+(a&&a.scrollTop||l&&l.scrollTop||0)-(a&&a.clientTop||l&&l.clientTop||0)}}))):c.createEventObject&&(o=c.createEventObject(),e.extend(o,s),o.button={"0":1,"1":4,"2":2}[o.button]||o.button),o},"keyEvent":function(t,s){var o,r;if(s=e.extend({"bubbles":!0,"cancelable":!0,"view":n(r),"ctrlKey":!1,"altKey":!1,"shiftKey":!1,"metaKey":!1,"keyCode":0,"charCode":void 0},s),r=i(this.target)?this.target:this.target.ownerDocument||document,r.createEvent)try{o=r.createEvent("KeyEvents"),o.initKeyEvent(t,s.bubbles,s.cancelable,s.view,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.keyCode,s.charCode)}catch(i){o=r.createEvent("Events"),o.initEvent(t,s.bubbles,s.cancelable),e.extend(o,{"view":s.view,"ctrlKey":s.ctrlKey,"altKey":s.altKey,"shiftKey":s.shiftKey,"metaKey":s.metaKey,"keyCode":s.keyCode,"charCode":s.charCode})}else r.createEventObject&&(o=r.createEventObject(),e.extend(o,s));return(/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())||"[object Opera]"==={}.toString.call(window.opera))&&(o.keyCode=s.charCode>0?s.charCode:s.keyCode,o.charCode=void 0),o},"dispatchEvent":function(t,i,n,s){!0===s.jQueryTrigger?e(t).trigger(e.extend({},n,s,{"type":i})):t.dispatchEvent?t.dispatchEvent(n):t.fireEvent&&t.fireEvent("on"+i,n)},"simulateFocus":function(){function t(){n=!0}var i,n=!1,s=e(this.target);s.bind("focus",t),s[0].focus(),n||(i=e.Event("focusin"),i.preventDefault(),s.trigger(i),s.triggerHandler("focus")),s.unbind("focus",t)},"simulateBlur":function(){function t(){n=!0}var i,n=!1,s=e(this.target);s.bind("blur",t),s[0].blur(),setTimeout(function(){s[0].ownerDocument.activeElement===s[0]&&s[0].ownerDocument.body.focus(),n||(i=e.Event("focusout"),i.preventDefault(),s.trigger(i),s.triggerHandler("blur")),s.unbind("blur",t)},1)}}),e.extend(e.simulate.prototype,{"simulateDrag":function(){var t=0,i=this.target,n=this.options,r="corner"===n.handle?o(i):s(i),a=Math.floor(r.x),l=Math.floor(r.y),c={"clientX":a,"clientY":l},u=n.dx||(void 0!==n.x?n.x-a:0),d=n.dy||(void 0!==n.y?n.y-l:0),h=n.moves||3;for(this.simulateEvent(i,"mousedown",c);t<h;t++)a+=u/h,l+=d/h,c={"clientX":Math.round(a),"clientY":Math.round(l)},this.simulateEvent(i.ownerDocument,"mousemove",c);e.contains(document,i)?(this.simulateEvent(i,"mouseup",c),this.simulateEvent(i,"click",c)):this.simulateEvent(document,"mouseup",c)}})}(t)}),csui.define("csui/models/expandable",["module","csui/lib/underscore","csui/utils/log"],function(e,t,i){"use strict";function n(e){var i={"makeExpandable":function(e){var t=e&&e.expand;return"string"==typeof t&&(t=t.split(",")),this.expand=t||[],this},"setExpand":function(e){t.isArray(e)||(e=e.split(",")),t.each(e,function(e){t.contains(this.expand,e)||this.expand.push(e)},this)},"resetExpand":function(e){e?(t.isArray(e)||(e=e.split(",")),t.each(e,function(e){var i=t.indexOf(this.expand,e);i>=0&&this.expand.splice(i,1)},this)):this.expand=[]},"getExpandableResourcesUrlQuery":function(){return{"expand":this.expand}}};return i.Expandable=t.clone(i),i}return i=i(e.id),n}),csui.define("css!csui/widgets/navigation.header/impl/navigation.header.controls",[],function(){}),csui.define("csui/widgets/navigation.header/navigation.header.controls",["module","csui/lib/underscore","csui/lib/backbone","css!csui/widgets/navigation.header/impl/navigation.header.controls"],function(e,t,i){"use strict";function n(e){return!t.contains(l.blacklist,e.id)&&(!l.whitelist.length||t.contains(l.whitelist,e.id))}var s=e.config(),o=new i.Model(t.extend({"location":"center"},s.logo)),r=new i.Collection([{"id":"csui/widgets/navigation.header/controls/help/help.view","sequence":100,"parentClassName":"csui-help"},{"id":"csui/widgets/navigation.header/controls/home/home.view","sequence":200,"parentClassName":"csui-home-item"},{"id":"csui/widgets/navigation.header/controls/breadcrumbs/breadcrumbs.view","sequence":300,"parentClassName":"tile-breadcrumb"}],{"comparator":"sequence"}),a=new i.Collection([{"id":"csui/widgets/navigation.header/controls/search/search.view","sequence":100,"parentClassName":"csui-search"},{"id":"csui/widgets/navigation.header/controls/favorites/favorites.view","sequence":200,"parentClassName":"csui-favorites"},{"id":"csui/widgets/navigation.header/controls/user.profile/user.profile.view","sequence":300,"parentClassName":"csui-profile"}],{"comparator":"sequence"}),l=t.reduce(t.values(s.masks||{}),function(e,t){return{"blacklist":e.blacklist.concat(t.blacklist||[]),"whitelist":e.whitelist.concat(t.whitelist||[])}},{"blacklist":[],"whitelist":[]});return l={"blacklist":t.unique(l.blacklist),"whitelist":t.unique(l.whitelist)},r.remove(r.reject(n)),a.remove(a.reject(n)),{"logo":o,"leftSide":r,"rightSide":a}}),csui.define("hbs!csui/pages/start/impl/navigationheader/impl/navigationheader",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="csui-global-message"></div>\r\n<nav class="csui-navbar binf-navbar binf-navbar-default zero-gutter" aria-label="'+this.escapeExpression((s=null!=(s=t.mainNavigationAria||(null!=e?e.mainNavigationAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"mainNavigationAria","hash":{}}):s))+'">\r\n  <div class="binf-container-fluid" role="menubar">\r\n    <span class="binf-navbar-brand binf-collapse binf-navbar-collapse">\r\n      <span class="csui-logo binf-hidden-xs">\r\n        <span class="csui-logo-image"></span>\r\n      </span>\r\n    </span>\r\n    <div class="binf-nav binf-navbar-nav binf-navbar-left"></div>\r\n    <div class="binf-nav binf-navbar-nav binf-navbar-right" ></div>\r\n    <div class="binf-nav binf-navbar-nav csui-navbar-message"></div>\r\n  </div>\r\n</nav>\r\n'}});return i.registerPartial("csui_pages_start_impl_navigationheader_impl_navigationheader",n),n}),csui.define("css!csui/pages/start/impl/navigationheader/impl/navigationheader",[],function(){}),csui.define("csui/pages/start/impl/navigationheader/navigationheader.view",["require","csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/globalmessage/globalmessage","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/widgets/navigation.header/navigation.header.controls","hbs!csui/pages/start/impl/navigationheader/impl/navigationheader","i18n!csui/pages/start/impl/nls/lang","css!csui/pages/start/impl/navigationheader/impl/navigationheader","csui/lib/jquery.when.all"],function(e,t,i,n,s,o,r,a,l,c){"use strict";var u=s.LayoutView.extend({"template":l,"regions":{"messageRegion":".csui-navbar-message"},"ui":{"branding":".binf-navbar-brand","logo":".csui-logo","left":".binf-navbar-left","right":".binf-navbar-right"},"templateHelpers":function(){return{"mainNavigationAria":c.mainNavigationAria}},"constructor":function(e){s.LayoutView.call(this,e),this.propagateEventsToRegions()},"onRender":function(){function e(e,o){var r=o.get("view");if(r){var a=i("<div>").addClass(o.get("parentClassName")).appendTo(e).attr("role","menuitem"),l=s.addRegion(t.uniqueId("csui:navigation.header.control"),{"selector":a}),c=new r({"context":n,"parentView":s});l.show(c)}}var n=this.options.context,s=this;o.setMessageRegionView(this,{"classes":"csui-global-message"});var r=a.logo.get("location");"none"===r?this.ui.logo.addClass("binf-hidden"):this.ui.branding.addClass("csui-logo-"+r),this._resolveComponents().done(function(){s.trigger("before:render:controls",s),a.leftSide.each(e.bind(s,s.ui.left)),a.rightSide.each(e.bind(s,s.ui.right)),s.trigger("render:controls",s)})},"_resolveComponents":function(){function t(t){var n=i.Deferred();return e([t],n.resolve,n.reject),n.promise()}if(this._controlsResolved)return this._controlsResolved;var n=a.leftSide.models.concat(a.rightSide.models),s=n.map(function(e){return t(e.id)}),o=i.Deferred();return i.whenAll.apply(i,s).always(function(e){e.forEach(function(e,t){n[t].set("view",e)}),o.resolve()}),this._controlsResolved=o.promise(),this._controlsResolved}});return t.extend(u.prototype,r),u}),csui.define("hbs!csui/controls/breadcrumbspanel/impl/breadcrumbspanel",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="binf-row">\r\n  <div class="binf-item binf-col-xs-12">\r\n    <div class="breadcrumb-inner breadcrumb-inner-header" role="navigation"\r\n         aria-label="'+this.escapeExpression((s=null!=(s=t.breadcrumbAria||(null!=e?e.breadcrumbAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"breadcrumbAria","hash":{}}):s))+'"></div>\r\n  </div>\r\n</div>\r\n'}});return i.registerPartial("csui_controls_breadcrumbspanel_impl_breadcrumbspanel",n),n}),csui.define("css!csui/controls/breadcrumbspanel/impl/breadcrumbspanel",[],function(){}),csui.define("csui/controls/breadcrumbspanel/breadcrumbspanel.view",["csui/lib/marionette","csui/utils/contexts/factories/ancestors","csui/controls/breadcrumbs/breadcrumbs.view","hbs!csui/controls/breadcrumbspanel/impl/breadcrumbspanel","i18n!csui/controls/breadcrumbs/impl/breadcrumb/impl/nls/lang","css!csui/controls/breadcrumbspanel/impl/breadcrumbspanel"],function(e,t,i,n,s){"use strict";return e.LayoutView.extend({"attributes":{"id":"breadcrumb-wrap"},"className":"binf-container-fluid","template":n,"ui":{"tileBreadcrumb":".tile-breadcrumb","breadcrumbsWrap":"#breadcrumb-wrap"},"regions":{"breadcrumbsInner":".breadcrumb-inner"},"templateHelpers":function(){return{"breadcrumbAria":s.breadcrumbAria}},"constructor":function(t){e.LayoutView.apply(this,arguments),this.listenTo(this.options.context,"request",this._contextFetching),this.listenTo(this.options.context,"current:folder:changed",this._currentFolderChanged)},"_getAncestors":function(){var e=this.options.context.getCollection(t);return this.ancestors!==e&&(this.ancestors&&this.stopListening(this.ancestors,"sync",this.breadcrumbsChanged),this.listenTo(e,"sync",this.breadcrumbsChanged),this.ancestors=e),e},"_contextFetching":function(){var e=this._getAncestors();this.breadcrumbs&&e!==this.breadcrumbs.completeCollection&&this.breadcrumbs.updateCompleteCollection(e)},"_currentFolderChanged":function(e){if(this.ancestors)if(this.ancestors.isFetchable())if(e){var t=this.ancestors.findWhere({"id":e.get("id")});t?t.set("name",e.get("name")):(this.ancestors.reset([]),this.breadcrumbs&&(this.breadcrumbs.updateCompleteCollection(this.ancestors),this.triggerMethod("change:breadcrumbs",{"isBreadcrumbsEmpty":!0})))}else this.ancestors.fetch();else this.ancestors.reset([])},"breadcrumbsChanged":function(){this.triggerMethod("change:breadcrumbs",{"isBreadcrumbsEmpty":0===this.ancestors.size()})},"onRender":function(){this.breadcrumbs=new i({"context":this.options.context,"collection":this._getAncestors(),"fetchOnCollectionUpdate":!1}),this.breadcrumbsInner.show(this.breadcrumbs)},"hideBreadcrumbs":function(){this.breadcrumbs&&this.breadcrumbs.hideSubCrumbs(),this.$el.removeClass("breadcrumb-wrap-visible"),this.triggerMethod("tabable:not",this),this.$el.hide()},"showBreadcrumbs":function(){this.$el.addClass("breadcrumb-wrap-visible"),this.triggerMethod("tabable",this),this.$el.show(),this.breadcrumbs&&this.breadcrumbs.triggerMethod("refresh:tabindexes")},"isTabable":function(){return!!this.breadcrumbs&&this.ancestors.size()>1}})}),csui.define("css!csui/pages/start/impl/start.page",[],function(){}),csui.define("csui/pages/start/start.page.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/lib/backbone","csui/utils/namedlocalstorage","csui/utils/contexts/perspective/perspective.context","csui/utils/contexts/factories/connector","csui/utils/contexts/factories/user","csui/pages/start/perspective.routing","csui/utils/base","csui/pages/start/impl/navigationheader/navigationheader.view","csui/controls/breadcrumbspanel/breadcrumbspanel.view","csui/pages/start/impl/perspective.panel/perspective.panel.view","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","csui/behaviors/keyboard.navigation/tabables.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/utils/non-emptying.region/non-emptying.region","csui/utils/non-attaching.region/non-attaching.region","csui/utils/page.leaving.blocker","csui/controls/iconpreload/icon.preload.view","csui/lib/radio","css!csui/pages/start/impl/start.page"],function(e,t,i,n,s,o,r,a,l,c,u,d,h,p,b,f,m,g,v,w,y,x){var T=t.extend({"signInPageUrl":"signin.html","redirectToSignInPage":!c.routesWithSlashes()},e.config()),_=n.ItemView.extend({"template":!1,"behaviors":{"TabablesBehavior":{"behaviorClass":f}},"constructor":function(e){e||(e={}),e.el=document.body,n.View.prototype.constructor.call(this,e);var t=new r,o=t.getObject(a);if(!o.connection.credentials&&!o.authenticator.isAuthenticated()&&!o.authenticator.syncStorage().isAuthenticated())return void this._navigateToSignIn();o.authenticator.on("loggedOut",function(e){"logged-out"!==e.reason&&this._navigateToSignIn()},this),this.navigationHeader=new d({"context":t,"signInPageUrl":this.options.signInPageUrl}),this.context=t,this.listenTo(this.navigationHeader,"show:breadcrumbs",this.onShowBreadcrumbs),this.listenTo(this.navigationHeader,"hide:breadcrumbs",this.onHideBreadcrumbs),this.listenTo(this.navigationHeader,"change:breadcrumbs",this.onChangeBreadcrumbs),this.listenTo(s,"show:breadcrumbsoverride",this.onOverrideShowBreadcrumb),this.overrideShowBreadcrumb=!1,this.isBreadcrumbsEmpty=!0,this.breadcrumbsChannel=x.channel("csui:breadcrumbs"),this.breadcrumbsPanel=new h({"context":t}),this.listenTo(this.breadcrumbsPanel,"change:breadcrumbs",this.onChangeBreadcrumbs),this.user=t.getModel(l),this.listenTo(this.user,"change",this.updateUserPreferences),this.perspectivePanel=new p({"context":t}),this.propagateEventsToViews(this.navigationHeader,this.breadcrumbsPanel,this.perspectivePanel),c.getInstance({"context":t}).start(),this.$el.addClass("binf-widgets"),u.isAppleMobile()&&this.$el.addClass("csui-on-ipad"),i(window).unload(function(){}),this.resizeTimer=void 0,i(window).bind("resize",{"view":this},this._onWindowResize)},"_onWindowResize":function(e){if(e&&e.data&&e.data.view){var t=e.data.view;t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t._toggleBreadcrumbsVisibility()},200)}},"onRender":function(){if(this._redirecting)return this;y.ensureOnThePage(),this._appendView(this.navigationHeader),i(this.$el.children()[0]).attr("role","banner"),this._appendView(this.breadcrumbsPanel),this._appendView(this.perspectivePanel),i(this.$el.children()[2]).attr("role","main"),setTimeout(t.bind(function(){new v({"el":this.el}).show(this,{"render":!1})},this)),this.$el.bind("globalmessage.shown",function(e,t){new m(t.options,t)})},"onBeforeDestroy":function(){this.navigationHeader&&this.navigationHeader.destroy(),this.breadcrumbsPanel&&this.breadcrumbsPanel.destroy(),this.perspectivePanel&&this.perspectivePanel.destroy()},"updateUserPreferences":function(){var e=this.user.get("name")
;this.userPreferences=e?new o("userPreferences:"+e):void 0,this._isRendered&&this._toggleBreadcrumbsVisibility()},"onShowBreadcrumbs":function(){this.setPrefBreadcrumbsVisible(!0),this._toggleBreadcrumbsVisibility()},"onHideBreadcrumbs":function(){this.setPrefBreadcrumbsVisible(!1),this._toggleBreadcrumbsVisibility()},"onChangeBreadcrumbs":function(e){this.isBreadcrumbsEmpty!=e.isBreadcrumbsEmpty&&(this.isBreadcrumbsEmpty=e.isBreadcrumbsEmpty,this._toggleBreadcrumbsVisibility())},"setPrefBreadcrumbsVisible":function(e){this.userPreferences.set("breadcrumbs-visible",e)},"onOverrideShowBreadcrumb":function(){this.overrideShowBreadcrumb=!this.overrideShowBreadcrumb},"_isPrefBreadcrumbsVisible":function(){var e;return void 0===this.userPreferences?e=!0:void 0===(e=this.userPreferences.get("breadcrumbs-visible"))&&(e=!0),e},"_isScreenNarrow":function(){return i(window).width()<=992},"_toggleBreadcrumbsVisibility":function(){this.isBreadcrumbsEmpty?(this.breadcrumbsChannel.request("hide:handle"),this.breadcrumbsPanel.hideBreadcrumbs(),i("body").removeClass("csui-breadcrumbs-visible")):this._isScreenNarrow()||this._isPrefBreadcrumbsVisible()&&!this.overrideShowBreadcrumb?(this.breadcrumbsChannel.request("arrow:up"),this.breadcrumbsPanel.showBreadcrumbs(),i("body").addClass("csui-breadcrumbs-visible")):(this.breadcrumbsChannel.request("arrow:down"),this.breadcrumbsPanel.hideBreadcrumbs(),i("body").removeClass("csui-breadcrumbs-visible"))},"_appendView":function(e){new g({"el":this.el}).show(e)},"_navigateToSignIn":function(){if(T.redirectToSignInPage){var e=this.options.signInPageUrl||T.signInPageUrl,t=location.search;t+=t?"&":"?",t+="nextUrl="+encodeURIComponent(location.pathname),location.href=e+t+location.hash}else w.forceDisable(),location.reload();this._redirecting=!0}});return t.extend(_.prototype,b),_}),csui.define("csui/widgets/navigation.header/controls/help/impl/nls/localized.strings",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/navigation.header/controls/help/impl/nls/root/localized.strings",{"HelpIconTitle":"Help","HelpIconAria":"Help pages"}),csui.define("csui/lib/othelp",["module"],function(e){var t=function(e){var t="product",n="version",s="http://docsapi.opentext.com/mapperpi",o={"tboolean":"touch bookmarks toc bookmarkEntries sectionNumbers caseSensitive highContrast".split(" "),"nameValuePair":{"find":["anyWord","allWords","exactWord"],"search":["allModules","document","section","page"],"sort":["match","divisions"]},"tstring":"query"};Array.isArray||(Array.isArray=function(e){return e instanceof Array}),void 0===String.prototype.endsWith&&(String.prototype.endsWith=function(e){return this.lastIndexOf(e)==this.length-e.length}),"undefined"==typeof debug&&(debug=!1),"undefined"==typeof trace&&(trace=!1),e&&(t=e.product||t,n=e.version||n,s=e.urlRoot||s);try{console||(console={"error":function(){},"log":function(){},"warn":function(){}})}catch(e){console={"error":function(){},"log":function(){},"warn":function(){}}}return{"buildHelpUrl":function(e,t,i){if(!e||!t)return console.error("Please specify 'locale' and 'context'"),"";if("string"==typeof e&&0>e.indexOf(",")&&"string"==typeof t)return this._.generateSixParam(e,t,i);var n=null,n="string"==typeof e&&-1<e.indexOf(",")?e.split(","):"string"==typeof e?[e]:e;return this._.generateComplexParam(n,t,i)},"optionConstants":o,"_":{"generateComplexParam":function(e,t,i){var n,r,a,l,c,u,d,h,p,b,f,m,g=[],v=[],w=null,w=!1,y=[],x=[];if(!e||!t)return console.error("Missing parameter!, Please specify 'locale', and 'context', not:",e,t,i),"";if("object"!=typeof e||"object"!=typeof t||i&&"object"!=typeof i)return console.error("Invalid parameter!:",e,t,i,"are not objects. Parameter order should be ([],{},{})"),"";c=i?i.tenant:null,u=i?i.type||"ofh1":"ofh1",d=function(e,t){if(e){p=!1;for(b in t)p|=t[b]==e;p||t.push(e)}},n="";for(l in t.documents)h=t.documents[l],h.active&&!0===h.active&&(w&&delete h.active,w=!0),!0===h.exclude&&g.push(h),this.fixApp(h),d(h.version,x),h.err||y.push(h);if("object"==typeof i&&i.options){debug&&console.log("Complex params options: ",i.options),w={"find":1,"search":10,"sort":100},h=0,f=1;for(l in o.tboolean)b=o.tboolean[l],b=i.options[b],"boolean"==typeof b&&(h+=b?f:0),f*=2;h=h.toString(16),"0"!=h&&(n+=2>h.length?"0"+h:h),h=0;for(l in i.options)if(b=o.nameValuePair[l])for(f=i.options[l],m=0;m<b.length;m++)if(b[m]==f){h+=(m+1)*w[l];break}if(0<h&&121!=h&&(h=h.toString(16),n+=(0===n.length?"00":"")+(2>h.length?"0"+h:h)),"string"==typeof i.options.query&&(n+="S"+encodeURI(i.options.query)),i.options.flags&&(r=(""+i.options.flags).replace(/[^a-zA-Z0-9]/g,"")),i.options.custom)for(h in a="",i.options.custom)0<=",ml,t,o,f,key,type,".indexOf(","+h+",")||(b=h.replace(/[^a-zA-Z0-9]/g,"")+"="+encodeURIComponent(i.options.custom[h]),a+="&"+b)}for(debug&&console.log("Complex params: ",c,u,JSON.stringify(y),n),i=s+"?ml=",i+=this.altArray(e),1==x.length&&(i=i+","+x[0]),l=0;l<y.length;l++)w=y[l].module,y[l].version&&(w+=y[l].version),y[l].release&&(w+="-"+y[l].release),y[l].help&&(w+="-"+y[l].help),y[l].docType&&(w+="-"+y[l].docType),y[l].locale&&(w+="-"+y[l].locale),y[l].PageID&&(w+="."+y[l].PageID),y[l].exclude&&(w+="_"),y[l].active&&(w+="~"),d(w,v);return debug&&(console.log("Complex params: ",x,i,JSON.stringify(g)),console.log("Compressable: ",JSON.stringify(v))),w=this.compress({"docs":v,"preserve":t.preserve,"locale":e},e[0]),debug&&console.log("Compressed:",w),c&&(w+="&t="+encodeURIComponent(c)),n&&(0<parseInt(n,16)||0<=n.indexOf("S"))&&(w+="&o="+n),r&&(w+="&f="+r),a&&(w+=a),e=this.generateKey(),s+"?type="+u+"&ml="+w+"&key="+e},"compress":function(e,t){var i,n,s=e.locale;i=null;var o,r,a=[],l="NotAPossibleValue",c=l,u=!0,d=l,h=!0;s||(s=t),s&&null!==s||(s="en"),i=e.docs,!0!==e.preserve&&(i=i.sort()),n=this.altArray(s),a=[],o=null,c=l="NotAPossibleValue",u=!0,d=l,h=!0;for(r in i)o=this.parseRevnum(i[r]),a.push(o),u&&c!=o.help&&(c==l?c=o.help:c!=o.help&&(u=!1)),h&&d!=o.release&&(d==l?d=o.release:d!=o.release&&(h=!1));2>i.length&&(h=u=!1),h&&null!==d&&(n=n+"-"+d.toUpperCase()),u&&null!==c&&(n+="-",n+=c),c=l=r=null;for(o in a)i=a[o],null===r||r!=i.product?(n+="$",r=i.product,l=c=null,n+=r):n+=",",d=i.version,h||null===i.release||i.release&&(d+="-"+i.release.toUpperCase()),null!==l&&l==d||(n+=d,l=d,c=null),d="",i.docType&&(d+=i.docType),null!==i.locale&&s!=i.locale&&(d+="-",d+=i.locale),null!==i.PageID&&0<i.PageID.length&&(d+=".",d+=window.encodeURIComponent(i.PageID)),null!==c&&c==d||(null!==c&&","!=n.substring(n.length-1)&&(n+=","),c=d,u||null===i.help||(n+=i.help,n+="-"),n+=c),null!==i.flag&&(n+=i.flag);return n},"fixApp":function(e){var t,i=null;if(e){if(e.version||(i=this.parseRevnum(e.module),e.module=i.product,e.version=i.version&&0<i.version.length?i.version:"0",e.release=i.release&&0<i.release.length?i.release:null,e.docType=i.docType,e.help=i.help,e.err=i.err),"v"==e.version[0]&&(e.version=e.version.substring(1)),-1<e.module.indexOf("-")){for(i=e.module.split(/(?=-)/),i[0]=i[0].split(/\d+$/)[0],e.module=i[0]+e.version,t=1;t<i.length;t++)e.module+=i[t];i=this.parseRevnum(e.module),e.module=i.product,e.version=i.version,e.release=i.release,e.docType=i.docType,e.help=i.help,e.err=i.err}i||(i=this.parseRevnum(e.module)),e.locale=i.locale&&0<i.locale.length&&!e.locale?i.locale:e.locale,e.PageID=i.PageID&&0<i.PageID.length&&!e.topic?i.PageID:e.topic,e.module=e.module.split(/\d+$/)[0]}},"generateSixParam":function(e,i,o){var r,a=null,l=null,c=null,u=null;if(o&&(a=o.product,l=o.version,c=o.module,u=o.type),"string"==typeof u&&0===u.length&&(u=null),o=this.generateKey(),a=a||t,l=l||n,r=s,"string"!=typeof c&&"string"!=typeof u&&0<r.indexOf("mapperpi")&&(r=r.substring(0,r.length-2)),r=r+"?product="+encodeURIComponent(a),r+="&version="+encodeURIComponent(l),r+="&locale="+encodeURIComponent(e),r+="&context="+encodeURIComponent(i),"string"==typeof c&&"string"==typeof u)r+="&module="+encodeURIComponent(c),r+="&type="+encodeURIComponent(u);else if(!c&&u||!u&&c)return console.error("'module' and 'type' need to be either BOTH or NEITHER defined"),"";return r+="&key="+o,debug&&console.log(r),r},"generateKey":function(){var e=this.generatePassPhrase();return this.encryptByDES("Vignette",e)},"parseRevnum":function(e){var t,i=null;if(i=e.match(/^([a-zA-Z]+)(\d+(-\d+\w*)?)((-[a-z])?)(-[a-z]+)?(-[_a-z]+)?(-\d+)?(\.([a-zA-Z0-9#.\_\-]+))?([\_\~])?$/i)){e=i[2],i[3]&&"-"==i[3][0]&&(e=e.substring(0,e.length-i[3].length)),i={"product":i[1],"version":e,"release":i[3],"help":i[4],"docType":i[6],"locale":i[7],"revision":i[8],"PageID":i[10],"flag":i[11]};for(t in i)i[t]&&"-"==i[t][0]?i[t]=i[t].substring(1):i[t]||(i[t]=null);null!==i.PageID&&null===i.flag&&i.PageID.endsWith("_")&&(i.flag="_",i.PageID=i.PageID.substring(0,i.PageID.length-1))}else i={"product":e,"version":null,"release":null,"help":null,"docType":null,"locale":null,"revision":null,"PageID":null,"flag":null,"err":!0};return i},"generatePassPhrase":function(){var e=new Date,t=e.getFullYear(),i=e.getMonth(),e=e.getDate(),n=""+i,s=""+e;return 10>i&&(n="0"+n),10>e&&(s="0"+s),t+n+s},"encryptByDES":function(e,t){var n;n=i.enc.Utf8.parse(t);var s=i.enc.Hex.parse(i.enc.Utf8.parse("ruhulio!").toString(i.enc.Hex));return trace&&(console.log(i.enc.Utf8.stringify(n),i.enc.Hex.stringify(n)),console.log(i.enc.Hex.parse(i.enc.Utf8.parse(t).toString(i.enc.Hex)))),n=i.DES.encrypt(e,n,{"iv":s,"mode":i.mode.CBC,"padding":i.pad.Pkcs7}),trace&&(console.log("encrypted.toString()  -> base64(ciphertext)  :",n.toString()),console.log("base64(ciphertext)    <- encrypted.toString():",n.ciphertext.toString(i.enc.Base64)),console.log("ciphertext.toString() -> ciphertext hex      :",n.ciphertext.toString())),n.ciphertext.toString()},"altArray":function(e){var t,i,n="";if(Array.isArray(e)){for(t=0;t<e.length;t++)i=e[t],n=0==t%2?n+i.toLowerCase():n+i.toUpperCase();return n}return e}}}},i=i||function(e,t){var i={},n=i.lib={},s=function(){},o=n.Base={"extend":function(e){s.prototype=this;var t=new s;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},"create":function(){var e=this.extend();return e.init.apply(e,arguments),e},"init":function(){},"mixIn":function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},"clone":function(){return this.init.prototype.extend(this)}},r=n.WordArray=o.extend({"init":function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},"toString":function(e){return(e||l).stringify(this)},"concat":function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var s=0;s<e;s++)t[n+s>>>2]|=(i[s>>>2]>>>24-s%4*8&255)<<24-(n+s)%4*8;else if(65535<i.length)for(s=0;s<e;s+=4)t[n+s>>>2]=i[s>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},"clamp":function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},"clone":function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},"random":function(t){for(var i=[],n=0;n<t;n+=4)i.push(4294967296*e.random()|0);return new r.init(i,t)}}),a=i.enc={},l=a.Hex={"stringify":function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++){var s=t[n>>>2]>>>24-n%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},"parse":function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new r.init(i,t/2)}},c=a.Latin1={"stringify":function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},"parse":function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new r.init(i,t)}},u=a.Utf8={"stringify":function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},"parse":function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=o.extend({"reset":function(){this._data=new r.init,this._nDataBytes=0},"_append":function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},"_process":function(t){var i=this._data,n=i.words,s=i.sigBytes,o=this.blockSize,a=s/(4*o),a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0);if(t=a*o,s=e.min(4*t,s),t){for(var l=0;l<t;l+=o)this._doProcessBlock(n,l);l=n.splice(0,t),i.sigBytes-=s}return new r.init(l,s)},"clone":function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},"_minBufferSize":0});n.Hasher=d.extend({"cfg":o.extend(),"init":function(e){this.cfg=this.cfg.extend(e),this.reset()},"reset":function(){d.reset.call(this),this._doReset()},"update":function(e){return this._append(e),this._process(),this},"finalize":function(e){return e&&this._append(e),this._doFinalize()},"blockSize":16,"_createHelper":function(e){return function(t,i){return new e.init(i).finalize(t)}},"_createHmacHelper":function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}});var h=i.algo={};return i}(Math);return function(){var e=i,t=e.lib.WordArray;e.enc.Base64={"stringify":function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp(),e=[];for(var s=0;s<i;s+=3)for(var o=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,r=0;4>r&&s+.75*r<i;r++)e.push(n.charAt(o>>>6*(3-r)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},"parse":function(e){var i=e.length,n=this._map,s=n.charAt(64);s&&-1!=(s=e.indexOf(s))&&(i=s);for(var s=[],o=0,r=0;r<i;r++)if(r%4){var a=n.indexOf(e.charAt(r-1))<<r%4*2,l=n.indexOf(e.charAt(r))>>>6-r%4*2;s[o>>>2]|=(a|l)<<24-o%4*8,o++}return t.create(s,o)},"_map":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,i,n,s,o,r){return((e=e+(t&i|~t&n)+s+r)<<o|e>>>32-o)+t}function n(e,t,i,n,s,o,r){return((e=e+(t&n|i&~n)+s+r)<<o|e>>>32-o)+t}function s(e,t,i,n,s,o,r){return((e=e+(t^i^n)+s+r)<<o|e>>>32-o)+t}function o(e,t,i,n,s,o,r){return((e=e+(i^(t|~n))+s+r)<<o|e>>>32-o)+t}for(var r=i,a=r.lib,l=a.WordArray,c=a.Hasher,a=r.algo,u=[],d=0;64>d;d++)u[d]=4294967296*e.abs(e.sin(d+1))|0;a=a.MD5=c.extend({"_doReset":function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},"_doProcessBlock":function(e,i){for(var r=0;16>r;r++){var a=i+r,l=e[a];e[a]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var r=this._hash.words,a=e[i+0],l=e[i+1],c=e[i+2],d=e[i+3],h=e[i+4],p=e[i+5],b=e[i+6],f=e[i+7],m=e[i+8],g=e[i+9],v=e[i+10],w=e[i+11],y=e[i+12],x=e[i+13],T=e[i+14],_=e[i+15],k=r[0],C=r[1],E=r[2],I=r[3],k=t(k,C,E,I,a,7,u[0]),I=t(I,k,C,E,l,12,u[1]),E=t(E,I,k,C,c,17,u[2]),C=t(C,E,I,k,d,22,u[3]),k=t(k,C,E,I,h,7,u[4]),I=t(I,k,C,E,p,12,u[5]),E=t(E,I,k,C,b,17,u[6]),C=t(C,E,I,k,f,22,u[7]),k=t(k,C,E,I,m,7,u[8]),I=t(I,k,C,E,g,12,u[9]),E=t(E,I,k,C,v,17,u[10]),C=t(C,E,I,k,w,22,u[11]),k=t(k,C,E,I,y,7,u[12]),I=t(I,k,C,E,x,12,u[13]),E=t(E,I,k,C,T,17,u[14]),C=t(C,E,I,k,_,22,u[15]),k=n(k,C,E,I,l,5,u[16]),I=n(I,k,C,E,b,9,u[17]),E=n(E,I,k,C,w,14,u[18]),C=n(C,E,I,k,a,20,u[19]),k=n(k,C,E,I,p,5,u[20]),I=n(I,k,C,E,v,9,u[21]),E=n(E,I,k,C,_,14,u[22]),C=n(C,E,I,k,h,20,u[23]),k=n(k,C,E,I,g,5,u[24]),I=n(I,k,C,E,T,9,u[25]),E=n(E,I,k,C,d,14,u[26]),C=n(C,E,I,k,m,20,u[27]),k=n(k,C,E,I,x,5,u[28]),I=n(I,k,C,E,c,9,u[29]),E=n(E,I,k,C,f,14,u[30]),C=n(C,E,I,k,y,20,u[31]),k=s(k,C,E,I,p,4,u[32]),I=s(I,k,C,E,m,11,u[33]),E=s(E,I,k,C,w,16,u[34]),C=s(C,E,I,k,T,23,u[35]),k=s(k,C,E,I,l,4,u[36]),I=s(I,k,C,E,h,11,u[37]),E=s(E,I,k,C,f,16,u[38]),C=s(C,E,I,k,v,23,u[39]),k=s(k,C,E,I,x,4,u[40]),I=s(I,k,C,E,a,11,u[41]),E=s(E,I,k,C,d,16,u[42]),C=s(C,E,I,k,b,23,u[43]),k=s(k,C,E,I,g,4,u[44]),I=s(I,k,C,E,y,11,u[45]),E=s(E,I,k,C,_,16,u[46]),C=s(C,E,I,k,c,23,u[47]),k=o(k,C,E,I,a,6,u[48]),I=o(I,k,C,E,f,10,u[49]),E=o(E,I,k,C,T,15,u[50]),C=o(C,E,I,k,p,21,u[51]),k=o(k,C,E,I,y,6,u[52]),I=o(I,k,C,E,d,10,u[53]),E=o(E,I,k,C,v,15,u[54]),C=o(C,E,I,k,l,21,u[55]),k=o(k,C,E,I,m,6,u[56]),I=o(I,k,C,E,_,10,u[57]),E=o(E,I,k,C,b,15,u[58]),C=o(C,E,I,k,x,21,u[59]),k=o(k,C,E,I,h,6,u[60]),I=o(I,k,C,E,w,10,u[61]),E=o(E,I,k,C,c,15,u[62]),C=o(C,E,I,k,g,21,u[63]);r[0]=r[0]+k|0,r[1]=r[1]+C|0,r[2]=r[2]+E|0,r[3]=r[3]+I|0},"_doFinalize":function(){var t=this._data,i=t.words,n=8*this._nDataBytes,s=8*t.sigBytes;i[s>>>5]|=128<<24-s%32;var o=e.floor(n/4294967296);for(i[15+(s+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(s+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(i.length+1),this._process(),t=this._hash,i=t.words,n=0;4>n;n++)s=i[n],i[n]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);return t},"clone":function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}}),r.MD5=c._createHelper(a),r.HmacMD5=c._createHmacHelper(a)}(Math),function(){var e=i,t=e.lib,n=t.Base,s=t.WordArray,t=e.algo,o=t.EvpKDF=n.extend({"cfg":n.extend({"keySize":4,"hasher":t.MD5,"iterations":1}),"init":function(e){this.cfg=this.cfg.extend(e)},"compute":function(e,t){for(var i=this.cfg,n=i.hasher.create(),o=s.create(),r=o.words,a=i.keySize,i=i.iterations;r.length<a;){l&&n.update(l);var l=n.update(e).finalize(t);n.reset();for(var c=1;c<i;c++)l=n.finalize(l),n.reset();o.concat(l)}return o.sigBytes=4*a,o}});e.EvpKDF=function(e,t,i){return o.create(i).compute(e,t)}}(),i.lib.Cipher||function(e){var t=i,n=t.lib,s=n.Base,o=n.WordArray,r=n.BufferedBlockAlgorithm,a=t.enc.Base64,l=t.algo.EvpKDF,c=n.Cipher=r.extend({"cfg":s.extend(),"createEncryptor":function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},"createDecryptor":function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},"init":function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},"reset":function(){r.reset.call(this),this._doReset()},"process":function(e){return this._append(e),this._process()},"finalize":function(e){return e&&this._append(e),this._doFinalize()},"keySize":4,"ivSize":4,"_ENC_XFORM_MODE":1,"_DEC_XFORM_MODE":2,"_createHelper":function(e){return{"encrypt":function(t,i,n){return("string"==typeof i?f:b).encrypt(e,t,i,n)},"decrypt":function(t,i,n){return("string"==typeof i?f:b).decrypt(e,t,i,n)}}}});n.StreamCipher=c.extend({"_doFinalize":function(){return this._process(!0)},"blockSize":1});var u=t.mode={},d=function(e,t,i){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var s=0;s<i;s++)e[t+s]^=n[s]},h=(n.BlockCipherMode=s.extend({"createEncryptor":function(e,t){return this.Encryptor.create(e,t)},"createDecryptor":function(e,t){return this.Decryptor.create(e,t)},"init":function(e,t){this._cipher=e,this._iv=t}})).extend();h.Encryptor=h.extend({"processBlock":function(e,t){var i=this._cipher,n=i.blockSize;d.call(this,e,t,n),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),h.Decryptor=h.extend({"processBlock":function(e,t){var i=this._cipher,n=i.blockSize,s=e.slice(t,t+n);i.decryptBlock(e,t),d.call(this,e,t,n),this._prevBlock=s}}),u=u.CBC=h,h=(t.pad={}).Pkcs7={"pad":function(e,t){for(var i=4*t,i=i-e.sigBytes%i,n=i<<24|i<<16|i<<8|i,s=[],r=0;r<i;r+=4)s.push(n);i=o.create(s,i),e.concat(i)},"unpad":function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},n.BlockCipher=c.extend({"cfg":c.cfg.extend({"mode":u,"padding":h}),"reset":function(){c.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=e.createEncryptor;else i=e.createDecryptor,this._minBufferSize=1;this._mode=i.call(e,this,t&&t.words)},"_doProcessBlock":function(e,t){this._mode.processBlock(e,t)},"_doFinalize":function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},"blockSize":4});var p=n.CipherParams=s.extend({"init":function(e){this.mixIn(e)},"toString":function(e){return(e||this.formatter).stringify(this)}}),u=(t.format={}).OpenSSL={"stringify":function(e){var t=e.ciphertext;return e=e.salt,(e?o.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a)},"parse":function(e){e=a.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var i=o.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return p.create({"ciphertext":e,"salt":i})}},b=n.SerializableCipher=s.extend({"cfg":s.extend({"format":u}),"encrypt":function(e,t,i,n){n=this.cfg.extend(n);var s=e.createEncryptor(i,n);return t=s.finalize(t),s=s.cfg,p.create({"ciphertext":t,"key":i,"iv":s.iv,"algorithm":e,"mode":s.mode,"padding":s.padding,"blockSize":e.blockSize,"formatter":n.format})},"decrypt":function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},"_parse":function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={"execute":function(e,t,i,n){return n||(n=o.random(8)),e=l.create({"keySize":t+i}).compute(e,n),i=o.create(e.words.slice(t),4*i),e.sigBytes=4*t,p.create({"key":e,"iv":i,"salt":n})}},f=n.PasswordBasedCipher=b.extend({"cfg":b.cfg.extend({"kdf":t}),"encrypt":function(e,t,i,n){return n=this.cfg.extend(n),i=n.kdf.execute(i,e.keySize,e.ivSize),n.iv=i.iv,e=b.encrypt.call(this,e,t,i.key,n),e.mixIn(i),e},"decrypt":function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),i=n.kdf.execute(i,e.keySize,e.ivSize,t.salt),n.iv=i.iv,b.decrypt.call(this,e,t,i.key,n)}})}(),function(){function e(e,t){var i=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=i,this._lBlock^=i<<e}function t(e,t){var i=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=i,this._rBlock^=i<<e}var n=i,s=n.lib,o=s.WordArray,s=s.BlockCipher,r=n.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{"0":8421888,"268435456":32768,"536870912":8421378,"805306368":2,"1073741824":512,"1342177280":8421890,"1610612736":8389122,"1879048192":8388608,"2147483648":514,"2415919104":8389120,"2684354560":33280,"2952790016":8421376,"3221225472":32770,"3489660928":8388610,"3758096384":0,"4026531840":33282,"134217728":0,"402653184":8421890,"671088640":33282,"939524096":32768,"1207959552":8421888,"1476395008":512,"1744830464":8421378,"2013265920":2,"2281701376":8389120,"2550136832":33280,"2818572288":8421376,"3087007744":8389122,"3355443200":8388610,"3623878656":32770,"3892314112":514,"4160749568":8388608,"1":32768,"268435457":2,"536870913":8421888,"805306369":8388608,"1073741825":8421378,"1342177281":33280,"1610612737":512,"1879048193":8389122,"2147483649":8421890,"2415919105":8421376,"2684354561":8388610,"2952790017":33282,"3221225473":514,"3489660929":8389120,"3758096385":32770,"4026531841":0,"134217729":8421890,"402653185":8421376,"671088641":8388608,"939524097":512,"1207959553":32768,"1476395009":8388610,"1744830465":2,"2013265921":33282,"2281701377":32770,"2550136833":8389122,"2818572289":514,"3087007745":8421888,"3355443201":8389120,"3623878657":0,"3892314113":33280,"4160749569":8421378},{"0":1074282512,"16777216":16384,"33554432":524288,"50331648":1074266128,"67108864":1073741840,"83886080":1074282496,"100663296":1073758208,"117440512":16,"134217728":540672,"150994944":1073758224,"167772160":1073741824,"184549376":540688,"201326592":524304,"218103808":0,"234881024":16400,"251658240":1074266112,"8388608":1073758208,"25165824":540688,"41943040":16,"58720256":1073758224,"75497472":1074282512,"92274688":1073741824,"109051904":524288,"125829120":1074266128,"142606336":524304,"159383552":0,"176160768":16384,"192937984":1074266112,"209715200":1073741840,"226492416":540672,"243269632":1074282496,"260046848":16400,"268435456":0,"285212672":1074266128,"301989888":1073758224,"318767104":1074282496,"335544320":1074266112,"352321536":16,"369098752":540688,"385875968":16384,"402653184":16400,"419430400":524288,"436207616":524304,"452984832":1073741840,"469762048":540672,"486539264":1073758208,"503316480":1073741824,"520093696":1074282512,"276824064":540688,"293601280":524288,"310378496":1074266112,"327155712":16384,"343932928":1073758208,"360710144":1074282512,"377487360":16,"394264576":1073741824,"411041792":1074282496,"427819008":1073741840,"444596224":1073758224,"461373440":524304,"478150656":0,"494927872":16400,"511705088":1074266128,"528482304":540672},{"0":260,"1048576":0,"2097152":67109120,"3145728":65796,"4194304":65540,"5242880":67108868,"6291456":67174660,"7340032":67174400,"8388608":67108864,"9437184":67174656,"10485760":65792,"11534336":67174404,"12582912":67109124,"13631488":65536,"14680064":4,"15728640":256,"524288":67174656,"1572864":67174404,"2621440":0,"3670016":67109120,"4718592":67108868,"5767168":65536,"6815744":65540,"7864320":260,"8912896":4,"9961472":256,"11010048":67174400,"12058624":65796,"13107200":65792,"14155776":67109124,"15204352":67174660,"16252928":67108864,"16777216":67174656,"17825792":65540,"18874368":65536,"19922944":67109120,"20971520":256,"22020096":67174660,"23068672":67108868,"24117248":0,"25165824":67109124,"26214400":67108864,"27262976":4,"28311552":65792,"29360128":67174400,"30408704":260,"31457280":65796,"32505856":67174404,"17301504":67108864,"18350080":260,"19398656":67174656,"20447232":0,"21495808":65540,"22544384":67109120,"23592960":256,"24641536":67174404,"25690112":65536,"26738688":67174660,"27787264":65796,"28835840":67108868,"29884416":67109124,"30932992":67174400,"31981568":4,"33030144":65792},{"0":2151682048,"65536":2147487808,"131072":4198464,"196608":2151677952,"262144":0,"327680":4198400,"393216":2147483712,"458752":4194368,"524288":2147483648,"589824":4194304,"655360":64,"720896":2147487744,"786432":2151678016,"851968":4160,"917504":4096,"983040":2151682112,"32768":2147487808,"98304":64,"163840":2151678016,"229376":2147487744,"294912":4198400,"360448":2151682112,"425984":0,"491520":2151677952,"557056":4096,"622592":2151682048,"688128":4194304,"753664":4160,"819200":2147483648,"884736":4194368,"950272":4198464,"1015808":2147483712,"1048576":4194368,"1114112":4198400,"1179648":2147483712,"1245184":0,"1310720":4160,"1376256":2151678016,"1441792":2151682048,"1507328":2147487808,"1572864":2151682112,"1638400":2147483648,"1703936":2151677952,"1769472":4198464,"1835008":2147487744,"1900544":4194304,"1966080":64,"2031616":4096,"1081344":2151677952,"1146880":2151682112,"1212416":0,"1277952":4198400,"1343488":4194368,"1409024":2147483648,"1474560":2147487808,"1540096":64,"1605632":2147483712,"1671168":4096,"1736704":2147487744,"1802240":2151678016,"1867776":4160,"1933312":2151682048,"1998848":4194304,"2064384":4198464},{"0":128,"4096":17039360,"8192":262144,"12288":536870912,"16384":537133184,"20480":16777344,"24576":553648256,"28672":262272,"32768":16777216,"36864":537133056,"40960":536871040,"45056":553910400,"49152":553910272,"53248":0,"57344":17039488,"61440":553648128,"2048":17039488,"6144":553648256,"10240":128,"14336":17039360,"18432":262144,"22528":537133184,"26624":553910272,"30720":536870912,"34816":537133056,"38912":0,"43008":553910400,"47104":16777344,"51200":536871040,"55296":553648128,"59392":16777216,"63488":262272,"65536":262144,"69632":128,"73728":536870912,"77824":553648256,"81920":16777344,"86016":553910272,"90112":537133184,"94208":16777216,"98304":553910400,"102400":553648128,"106496":17039360,"110592":537133056,"114688":262272,"118784":536871040,"122880":0,"126976":17039488,"67584":553648256,"71680":16777216,"75776":17039360,"79872":537133184,"83968":536870912,"88064":17039488,"92160":128,"96256":553910272,"100352":262272,"104448":553910400,"108544":0,"112640":553648128,"116736":16777344,"120832":262144,"124928":537133056,"129024":536871040},{"0":268435464,"256":8192,"512":270532608,"768":270540808,"1024":268443648,"1280":2097152,"1536":2097160,"1792":268435456,"2048":0,"2304":268443656,"2560":2105344,"2816":8,"3072":270532616,"3328":2105352,"3584":8200,"3840":270540800,"128":270532608,"384":270540808,"640":8,"896":2097152,"1152":2105352,"1408":268435464,"1664":268443648,"1920":8200,"2176":2097160,"2432":8192,"2688":268443656,"2944":270532616,"3200":0,"3456":270540800,"3712":2105344,"3968":268435456,"4096":268443648,"4352":270532616,"4608":270540808,"4864":8200,"5120":2097152,"5376":268435456,"5632":268435464,"5888":2105344,"6144":2105352,"6400":0,"6656":8,"6912":270532608,"7168":8192,"7424":268443656,"7680":270540800,"7936":2097160,"4224":8,"4480":2105344,"4736":2097152,"4992":268435464,"5248":268443648,"5504":8200,"5760":270540808,"6016":270532608,"6272":270540800,"6528":270532616,"6784":8192,"7040":2105352,"7296":2097160,"7552":0,"7808":268435456,"8064":268443656},{"0":1048576,"16":33555457,"32":1024,"48":1049601,"64":34604033,"80":0,"96":1,"112":34603009,"128":33555456,"144":1048577,"160":33554433,"176":34604032,"192":34603008,"208":1025,"224":1049600,"240":33554432,"8":34603009,"24":0,"40":33555457,"56":34604032,"72":1048576,"88":33554433,"104":33554432,"120":1025,"136":1049601,"152":33555456,"168":34603008,"184":1048577,"200":1024,"216":34604033,"232":1,"248":1049600,"256":33554432,"272":1048576,"288":33555457,"304":34603009,"320":1048577,"336":33555456,"352":34604032,"368":1049601,"384":1025,"400":34604033,"416":1049600,"432":1,"448":0,"464":34603008,"480":33554433,"496":1024,"264":1049600,"280":33555457,"296":34603009,"312":1,"328":33554432,"344":1048576,"360":1025,"376":34604032,"392":33554433,"408":34603008,"424":0,"440":34604033,"456":1049601,"472":1024,"488":33555456,"504":1048577},{"0":134219808,"1":131072,"2":134217728,"3":32,"4":131104,"5":134350880,"6":134350848,"7":2048,"8":134348800,"9":134219776,"10":133120,"11":134348832,"12":2080,"13":0,"14":134217760,"15":133152,"2147483648":2048,"2147483649":134350880,"2147483650":134219808,"2147483651":134217728,"2147483652":134348800,"2147483653":133120,"2147483654":133152,"2147483655":32,"2147483656":134217760,"2147483657":2080,"2147483658":131104,"2147483659":134350848,"2147483660":0,"2147483661":134348832,"2147483662":134219776,"2147483663":131072,"16":133152,"17":134350848,"18":32,"19":2048,"20":134219776,"21":134217760,"22":134348832,"23":131072,"24":0,"25":131104,"26":134348800,"27":134219808,"28":134350880,"29":133120,"30":2080,"31":134217728,"2147483664":131072,"2147483665":2048,"2147483666":134348832,"2147483667":133152,"2147483668":32,"2147483669":134348800,"2147483670":134217728,"2147483671":134219808,"2147483672":134350880,"2147483673":134217760,"2147483674":134219776,"2147483675":0,"2147483676":133120,"2147483677":2080,"2147483678":131104,"2147483679":134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=r.DES=s.extend({"_doReset":function(){for(var e=this._key.words,t=[],i=0;56>i;i++){var n=a[i]-1;t[i]=e[n>>>5]>>>31-n%32&1}for(e=this._subKeys=[],n=0;16>n;n++){for(var s=e[n]=[],o=c[n],i=0;24>i;i++)s[i/6|0]|=t[(l[i]-1+o)%28]<<31-i%6,s[4+(i/6|0)]|=t[28+(l[i+24]-1+o)%28]<<31-i%6;for(s[0]=s[0]<<1|s[0]>>>31,i=1;7>i;i++)s[i]>>>=4*(i-1)+3;s[7]=s[7]<<5|s[7]>>>27}for(t=this._invSubKeys=[],i=0;16>i;i++)t[i]=e[15-i]},"encryptBlock":function(e,t){this._doCryptBlock(e,t,this._subKeys)},"decryptBlock":function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},"_doCryptBlock":function(i,n,s){this._lBlock=i[n],this._rBlock=i[n+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var o=0;16>o;o++){for(var r=s[o],a=this._lBlock,l=this._rBlock,c=0,h=0;8>h;h++)c|=u[h][((l^r[h])&d[h])>>>0];this._lBlock=l,this._rBlock=a^c}s=this._lBlock,this._lBlock=this._rBlock,this._rBlock=s,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),i[n]=this._lBlock,i[n+1]=this._rBlock},"keySize":2,"ivSize":2,"blockSize":2});n.DES=s._createHelper(h),r=r.TripleDES=s.extend({"_doReset":function(){var e=this._key.words;this._des1=h.createEncryptor(o.create(e.slice(0,2))),this._des2=h.createEncryptor(o.create(e.slice(2,4))),this._des3=h.createEncryptor(o.create(e.slice(4,6)))},"encryptBlock":function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),
this._des3.encryptBlock(e,t)},"decryptBlock":function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},"keySize":6,"ivSize":2,"blockSize":2}),n.TripleDES=s._createHelper(r)}(),t}),csui.define("hbs!csui/widgets/navigation.header/controls/help/impl/help",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="icon-help" title="'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"title","hash":{}}):s))+'"></div>'}});return i.registerPartial("csui_widgets_navigation.header_controls_help_impl_help",n),n}),csui.define("csui/widgets/navigation.header/controls/help/help.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","i18n!csui/widgets/navigation.header/controls/help/impl/nls/localized.strings","i18n","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/models/server.module/server.module.collection","csui/lib/othelp","hbs!csui/widgets/navigation.header/controls/help/impl/help"],function(e,t,i,n,s,o,r,a,l,c){"use strict";var u=window.csui.requirejs.s.contexts._.config.config["csui/pages/start/impl/navigationheader/navigationheader.view"]||{};return t.extend(u,e.config()),u.help||(u.help={}),t.defaults(u.help,{"language":o.settings.locale.replace(/[-_]\w+$/,""),"preserve":!0}),""===u.help.urlRoot&&(u.help.urlRoot=void 0),""===u.help.tenant&&(u.help.tenant=void 0),""===u.help.type&&(u.help.type=void 0),n.ItemView.extend({"tagName":"a","attributes":{"href":"#","title":s.HelpIconTitle,"aria-label":s.HelpIconAria},"template":c,"templateHelpers":function(){return{"title":s.HelpIconTitle}},"behaviors":{"TabableRegion":{"behaviorClass":r,"initialActivationWeight":50}},"currentlyFocusedElement":function(){return this.$el},"constructor":function(e){n.ItemView.call(this,e),this.listenTo(this,"click:help",this._onClick)},"onRender":function(){var e=this;this.$el.click(function(){e.triggerMethod("click:help")}),this.$el.keydown(function(t){32===t.keyCode&&(t.preventDefault(),e.triggerMethod("click:help"))})},"_onClick":function(){var e=new a;e.fetch().then(function(){var i,n,s,o,r;i=e.filter(function(e){return!!e.get("helpDocId")}),n=new l({"urlRoot":u.help.urlRoot}),s={"preserve":u.help.preserve,"documents":[]},t.each(i,function(e,t){var i=e.get("helpDocId");s.documents.push({"module":i,"active":0===t,"topic":0===i.indexOf("cssui")?"sui-overview-bg":void 0})}),o=n.buildHelpUrl(u.help.language,s,{"tenant":u.help.tenant,"type":u.help.type,"options":{"search":"allModules"}}),r=window.open(o,"_blank"),r.focus()},function(e){console.error(e)})}})}),csui.define("csui/widgets/navigation.header/controls/home/impl/nls/localized.strings",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/navigation.header/controls/home/impl/nls/root/localized.strings",{"HomeIconTitle":"Home","HomeIconAria":"Home page"}),csui.define("hbs!csui/widgets/navigation.header/controls/home/impl/home",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="csui-icon-home" title="'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"title","hash":{}}):s))+'"></div>'}});return i.registerPartial("csui_widgets_navigation.header_controls_home_impl_home",n),n}),csui.define("csui/widgets/navigation.header/controls/home/home.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","i18n!csui/widgets/navigation.header/controls/home/impl/nls/localized.strings","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/utils/contexts/factories/application.scope.factory","hbs!csui/widgets/navigation.header/controls/home/impl/home"],function(e,t,i,n,s,o,r){"use strict";return i.ItemView.extend({"tagName":"a","className":"csui-home binf-hidden","attributes":{"href":"#","title":n.HomeIconTitle,"aria-label":n.HomeIconAria},"ui":{"homeButton":".csui-icon-home"},"events":{"click .csui-icon-home":"onClickHomeIcon"},"template":r,"templateHelpers":function(){return{"title":n.HomeIconTitle}},"behaviors":{"TabableRegion":{"behaviorClass":s}},"currentlyFocusedElement":function(){return this.$el},"constructor":function(e){i.ItemView.call(this,e),this.listenTo(e.context,"sync error",this._toggleVisibility),this.applicationScope=e.context.getModel(o),this.listenTo(this,"click:home",this._onClick)},"onRender":function(){var e=this;this.$el.click(function(){e.triggerMethod("click:home")}),this.$el.keydown(function(t){32===t.keyCode&&(t.preventDefault(),e.triggerMethod("click:home"))})},"onClickHomeIcon":function(e){e.preventDefault()},"_toggleVisibility":function(){this._isRendered&&(this.applicationScope.id?this.$el.removeClass("binf-hidden"):this.$el.addClass("binf-hidden"))},"_onClick":function(){this.applicationScope.set("id","")}})}),csui.define("csui/widgets/navigation.header/controls/breadcrumbs/impl/nls/localized.strings",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/navigation.header/controls/breadcrumbs/impl/nls/root/localized.strings",{"ShowBreadcrumbs":"Show Breadcrumbs","HideBreadcrumbs":"Hide Breadcrumbs"}),csui.define("hbs!csui/widgets/navigation.header/controls/breadcrumbs/impl/breadcrumbs",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<a href="javascript:;" class="caret-show-breadcrumb" style="display: none;" aria-label="'+this.escapeExpression((s=null!=(s=t.showBreadcrumbsAria||(null!=e?e.showBreadcrumbsAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"showBreadcrumbsAria","hash":{}}):s))+'">\r\n    <span class="csui-button-icon icon-expandArrowDown"></span>\r\n</a>\r\n<a href="javascript:;" class="caret-hide-breadcrumb" style="display: none;" aria-label="'+this.escapeExpression((s=null!=(s=t.hideBreadcrumbsAria||(null!=e?e.hideBreadcrumbsAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"hideBreadcrumbsAria","hash":{}}):s))+'">\r\n    <span class="csui-button-icon icon-expandArrowUp"></span>\r\n</a>\r\n<button type="button" class="binf-btn binf-btn-default btn-show-breadcrumb"\r\n        aria-label="'+this.escapeExpression((s=null!=(s=t.showBreadcrumbsAria||(null!=e?e.showBreadcrumbsAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"showBreadcrumbsAria","hash":{}}):s))+'" style="display: none;" aria-pressed="false">\r\n    <span class="csui-button-icon icon-expandArrowDown"></span> '+this.escapeExpression((s=null!=(s=t.showBreadcrumbs||(null!=e?e.showBreadcrumbs:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"showBreadcrumbs","hash":{}}):s))+'\r\n</button>\r\n<button type="button" class="binf-btn binf-btn-default btn-hide-breadcrumb"\r\n        aria-label="'+this.escapeExpression((s=null!=(s=t.hideBreadcrumbsAria||(null!=e?e.hideBreadcrumbsAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"hideBreadcrumbsAria","hash":{}}):s))+'" style="display: none;" aria-pressed="true">\r\n    <span class="csui-button-icon icon-expandArrowUp"></span> '+this.escapeExpression((s=null!=(s=t.hideBreadcrumbs||(null!=e?e.hideBreadcrumbs:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"hideBreadcrumbs","hash":{}}):s))+"\r\n</button>\r\n"}});return i.registerPartial("csui_widgets_navigation.header_controls_breadcrumbs_impl_breadcrumbs",n),n}),csui.define("csui/widgets/navigation.header/controls/breadcrumbs/breadcrumbs.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","i18n!csui/widgets/navigation.header/controls/breadcrumbs/impl/nls/localized.strings","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/utils/contexts/factories/application.scope.factory","csui/utils/contexts/factories/next.node","csui/lib/radio","hbs!csui/widgets/navigation.header/controls/breadcrumbs/impl/breadcrumbs"],function(e,t,i,n,s,o,r,a,l){"use strict";return i.ItemView.extend({"tagName":"div","className":"breadcrumbs-handle","ui":{"caretShowBreadcrumbs":".caret-show-breadcrumb","btnShowBreadcrumbs":".btn-show-breadcrumb","caretHideBreadcrumbs":".caret-hide-breadcrumb","btnHideBreadcrumbs":".btn-hide-breadcrumb"},"serializeData":function(){return{"showBreadcrumbs":n.ShowBreadcrumbs,"showBreadcrumbsAria":n.ShowBreadcrumbs,"hideBreadcrumbs":n.HideBreadcrumbs,"hideBreadcrumbsAria":n.HideBreadcrumbs}},"template":l,"triggers":{"mouseenter .caret-show-breadcrumb .icon-expandArrowDown":"mouseenter:caret:show:breadcrumbs","mouseleave .btn-show-breadcrumb":"mouseleave:btn:show:breadcrumbs","click .caret-show-breadcrumb, .btn-show-breadcrumb":"click:show:breadcrumbs","mouseenter .caret-hide-breadcrumb .icon-expandArrowUp":"mouseenter:caret:hide:breadcrumbs","mouseleave .btn-hide-breadcrumb":"mouseleave:btn:hide:breadcrumbs","click .caret-hide-breadcrumb, .btn-hide-breadcrumb":"click:hide:breadcrumbs"},"events":{"focus":"onFocus","blur":"onBlur","keydown":"onKeyInView"},"behaviors":{"TabableRegion":{"behaviorClass":s}},"currentlyFocusedElement":function(){if(this.isBreadcrumbsHandleVisible())return this.$el},"constructor":function(e){i.ItemView.call(this,e),this.ignoreNextMouseleave=!1,this.ignoreFocusBlur=!1,this.applicationScope=e.context.getModel(o),this.nextNode=e.context.getModel(r),this.listenTo(this.applicationScope,"change:id",this._showOrHideBreadcrumb).listenTo(this,"show:breadcrumbs",this.onShowBreadcrumbs).listenTo(this,"hide:breadcrumbs",this.onHideBreadcrumbs).listenTo(this,"before:destroy",this._stopReplying),this._startReplying()},"_startReplying":function(){this.breadcrumbsChannel=a.channel("csui:breadcrumbs"),this.breadcrumbsChannel.reply("hide:handle",this.hideBreadcrumbsHandle.bind(this)).reply("arrow:up",this.showBreadcrumbsUpArrow.bind(this)).reply("arrow:down",this.showBreadcrumbsDownArrow.bind(this))},"_stopReplying":function(){this.breadcrumbsChannel.stopReplying()},"_showOrHideBreadcrumb":function(){this.nextNode&&void 0!==this.nextNode.get("id")||this.options.parentView.triggerMethod("change:breadcrumbs",{"isBreadcrumbsEmpty":!0})},"onHideBreadcrumbs":function(){this.options.parentView.trigger("hide:breadcrumbs")},"onShowBreadcrumbs":function(){this.options.parentView.trigger("show:breadcrumbs")},"onFocus":function(){this.ignoreFocusBlur||(this.breadcrumbVisible?this.onMouseenterCaretHideBreadcrumbs():this.onMouseenterCaretShowBreadcrumbs())},"onBlur":function(){this.ignoreFocusBlur||(this.breadcrumbVisible?this.onMouseleaveBtnHideBreadcrumbs():this.onMouseleaveBtnShowBreadcrumbs())},"onKeyInView":function(e){switch(e.keyCode){case 9:this.ignoreFocusBlur=!1;break;case 13:case 32:this.ignoreFocusBlur=!1,this.breadcrumbVisible?this.trigger("hide:breadcrumbs"):this.trigger("show:breadcrumbs")}},"onClickHideBreadcrumbs":function(){this.ignoreNextMouseleave=!0,this.trigger("hide:breadcrumbs")},"onClickShowBreadcrumbs":function(){this.ignoreNextMouseleave=!0,this.trigger("show:breadcrumbs")},"onMouseenterCaretShowBreadcrumbs":function(){this.ignoreFocusBlur=!0,this.ui.caretShowBreadcrumbs.css({"display":"none"}),this.ui.caretHideBreadcrumbs.css({"display":"none"}),this.ui.btnHideBreadcrumbs.css({"display":"none"}),this.ui.btnShowBreadcrumbs.css({"display":"block"})},"onMouseleaveBtnShowBreadcrumbs":function(){this.ignoreFocusBlur=!1,this.ignoreNextMouseleave?this.ignoreNextMouseleave=!1:(this.ui.btnShowBreadcrumbs.css({"display":"none"}),this.ui.btnHideBreadcrumbs.css({"display":"none"}),this.ui.caretHideBreadcrumbs.css({"display":"none"}),this.ui.caretShowBreadcrumbs.css({"display":"block"}))},"onMouseenterCaretHideBreadcrumbs":function(){this.ignoreFocusBlur=!0,this.ui.caretHideBreadcrumbs.css({"display":"none"}),this.ui.caretShowBreadcrumbs.css({"display":"none"}),this.ui.btnShowBreadcrumbs.css({"display":"none"}),this.ui.btnHideBreadcrumbs.css({"display":"block"})},"onMouseleaveBtnHideBreadcrumbs":function(){this.ignoreFocusBlur=!1,this.ignoreNextMouseleave?this.ignoreNextMouseleave=!1:(this.ui.btnHideBreadcrumbs.css({"display":"none"}),this.ui.btnShowBreadcrumbs.css({"display":"none"}),this.ui.caretShowBreadcrumbs.css({"display":"none"}),this.ui.caretHideBreadcrumbs.css({"display":"block"}))},"isBreadcrumbsHandleVisible":function(){return"none"!==this.ui.btnHideBreadcrumbs.css("display")||"none"!==this.ui.caretHideBreadcrumbs.css("display")||"none"!==this.ui.btnShowBreadcrumbs.css("display")||"none"!==this.ui.caretShowBreadcrumbs.css("display")},"hideBreadcrumbsHandle":function(){this.ui.btnHideBreadcrumbs.css({"display":"none"}),this.ui.caretHideBreadcrumbs.css({"display":"none"}),this.ui.btnShowBreadcrumbs.css({"display":"none"}),this.ui.caretShowBreadcrumbs.css({"display":"none"}),this.triggerMethod("refresh:tabindexes")},"showBreadcrumbsUpArrow":function(){this.breadcrumbVisible=!0,this.hideBreadcrumbsHandle(),this.ui.caretHideBreadcrumbs.css({"display":"block"}),this.triggerMethod("refresh:tabindexes")},"showBreadcrumbsDownArrow":function(){this.breadcrumbVisible=!1,this.hideBreadcrumbsHandle(),this.ui.caretShowBreadcrumbs.css({"display":"block"}),this.triggerMethod("refresh:tabindexes")}})}),csui.define("csui/widgets/search.box/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/search.box/impl/nls/root/lang",{"placeholder":"Search","clearerTitle":"Clear keywords","searchBoxTitle":"Enter your search term","searchOptionsTitle":"Show search options","searchFromHere":"Search from here","searchIconTitle":"Search","searchIconAria":"Search in Content Server","searchOptionsSelect":"Select: ","startSearch":"Start search","searchLandmarkAria":"Global content search"}),csui.define("hbs!csui/widgets/search.box/impl/search.box",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var s;return'      <button type="button" class="icon-expandArrowDown csui-search-box-slice-popover"\r\n              data-binf-toggle="popover" data-placement="bottom"\r\n              title="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.messages:e)?s.searchOptionsTitle:s,e))+'" aria-label="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.messages:e)?s.searchOptionsTitle:s,e))+'"\r\n              aria-haspopup="true" aria-expanded="false"></button>\r\n'},"3":function(e,t,i,n){return'        <div class="csui-search-options-dropdown"></div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="search-bar" style="display: none;" role="dialog">\r\n  <div class="search-bar-content">\r\n'+(null!=(s=t.if.call(e,null!=(s=null!=e?e.messages:e)?s.showOptionsDropDown:s,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?s:"")+'    <div class="csui-search-input-container">\r\n      <input type="search" class="csui-input" placeholder="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.messages:e)?s.placeholder:s,e))+'"\r\n             title="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.messages:e)?s.searchBoxTitle:s,e))+'" aria-label="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.messages:e)?s.searchBoxTitle:s,e))+'">\r\n'+(null!=(s=t.if.call(e,null!=(s=null!=e?e.messages:e)?s.showOptionsDropDown:s,{"name":"if","hash":{},"fn":this.program(3,n,0),"inverse":this.noop}))?s:"")+'    </div>\r\n    <span class="csui-clearer formfield_clear" title="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.messages:e)?s.clearerTitle:s,e))+'"\r\n          aria-label="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.messages:e)?s.clearerTitle:s,e))+'" role="button"></span>\r\n  </div>\r\n</div>\r\n<div role="search" aria-label="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.messages:e)?s.searchLandmarkAria:s,e))+'">\r\n  <a href="javascript:void(0);"\r\n     class="icon icon-global-search icon-header-search csui-header-search-icon csui-acc-focusable"\r\n     title="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.messages:e)?s.searchIconTitle:s,e))+'" aria-label="'+this.escapeExpression(this.lambda(null!=(s=null!=e?e.messages:e)?s.searchIconAria:s,e))+'"\r\n     aria-expanded="false"></a>\r\n</div>'}});return i.registerPartial("csui_widgets_search.box_impl_search.box",n),n}),csui.define("hbs!csui/widgets/search.box/impl/search.slices.popover",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){return'    <div class="csui-search-popover-row" data-sliceid="'+this.escapeExpression(this.lambda(null!=e?e.sliceId:e,e))+'"\r\n         title="'+this.escapeExpression(this.lambda(null!=e?e.select:e,e))+this.escapeExpression(this.lambda(null!=e?e.sliceDisplayName:e,e))+'" tabindex="-1">\r\n      <div class="csui-search-popover-row-body" data-sliceid="'+this.escapeExpression(this.lambda(null!=e?e.sliceId:e,e))+'">\r\n        <div class="csui-search-popover-checked" data-sliceid="'+this.escapeExpression(this.lambda(null!=e?e.sliceId:e,e))+'"\r\n             id="'+this.escapeExpression(this.lambda(null!=e?e.sliceId:e,e))+'" aria-hidden="true"></div>\r\n        <div class="csui-search-popover-label" data-sliceid="'+this.escapeExpression(this.lambda(null!=e?e.sliceId:e,e))+'">'+this.escapeExpression(this.lambda(null!=e?e.sliceDisplayName:e,e))+"</div>\r\n      </div>\r\n    </div>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="csui-search-slice-container">\r\n  <div class="csui-search-slice-container-first"></div>\r\n'+(null!=(s=t.each.call(e,null!=e?e.slices:e,{"name":"each","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?s:"")+'  <div class="csui-search-slice-container-last"></div>\r\n</div>\r\n'}});return i.registerPartial("csui_widgets_search.box_impl_search.slices.popover",n),n}),csui.define("hbs!csui/widgets/search.box/impl/search.slice.dropdown",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="csui-selected-checkbox csui-slice-checkbox csui-checkbox-primary">\r\n  <input type="checkbox" '+this.escapeExpression((s=null!=(s=t.checked||(null!=e?e.checked:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"checked","hash":{}}):s))+' class="csui-searchbox-option" name="'+this.escapeExpression(this.lambda(null!=e?e.nodeId:e,e))+'" id="'+this.escapeExpression(this.lambda(null!=e?e.nodeIdSO:e,e))+'"\r\n         value="'+this.escapeExpression(this.lambda(null!=e?e.nodeId:e,e))+'">\r\n  <label class="csui-search-slice-name csui-selectlabel" for="'+this.escapeExpression(this.lambda(null!=e?e.nodeIdSO:e,e))+'"\r\n         title="'+this.escapeExpression(this.lambda(null!=e?e.fromHere:e,e))+" "+this.escapeExpression(this.lambda(null!=e?e.nodeName:e,e))+'">\r\n          <span class="cs-ellipsis">'+this.escapeExpression(this.lambda(null!=e?e.fromHere:e,e))+" "+this.escapeExpression(this.lambda(null!=e?e.nodeName:e,e))+"</span>\r\n  </label>\r\n</div>\r\n"}});return i.registerPartial("csui_widgets_search.box_impl_search.slice.dropdown",n),n}),csui.define("css!csui/widgets/search.box/impl/search.box",[],function(){}),csui.define("csui/widgets/search.box/search.box.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/models/node/node.model","csui/utils/contexts/factories/search.box.factory","csui/utils/contexts/factories/search.query.factory","csui/behaviors/keyboard.navigation/tabable.region.behavior","i18n!csui/widgets/search.box/impl/nls/lang","csui/utils/namedsessionstorage","hbs!csui/widgets/search.box/impl/search.box","hbs!csui/widgets/search.box/impl/search.slices.popover","hbs!csui/widgets/search.box/impl/search.slice.dropdown","i18n","css!csui/widgets/search.box/impl/search.box","csui/lib/jquery.ui/js/jquery-ui","csui/lib/binf/js/binf"],function(e,t,i,n,s,o,r,a,l,c,u,d,h,p){"use strict";var b=t.defaults({},e.config(),{"showOptionsDropDown":!0,"showSearchInput":!1,"showInput":!1,"inputValue":"","slice":"","nodeId":"","nodeName":"","searchFromHere":!0,"customSearchIconClass":"icon-header-search","customSearchIconNoHoverClass":"icon-header-search-nohover","customSearchIconEnabledClass":"icon-header-search_enabled"});return n.ItemView.extend({"className":"csui-search-box","template":u,"templateHelpers":function(){return{"messages":{"showOptionsDropDown":this.options.data.showOptionsDropDown,"placeholder":this.options.data.placeholder||l.placeholder,"clearerTitle":l.clearerTitle,"searchIconTitle":l.searchIconTitle,"searchIconAria":l.searchIconAria,"searchBoxTitle":l.searchBoxTitle,"searchOptionsTitle":l.searchOptionsTitle,"searchOptionsSelect":l.searchOptionsSelect,"startSearch":l.startSearch,"searchLandmarkAria":l.searchLandmarkAria}}},"slicePopOverTemplate":d,"sliceDropDownTemplate":h,"namedSessionStorage":new c,"ui":{"input":".csui-input","clearer":".csui-clearer","searchIcon":".csui-header-search-icon","downCaret":".csui-search-box-slice-popover"},"events":{"click @ui.searchIcon":"searchIconClicked","keydown .csui-header-search-icon":"searchIconKeyPressed","click @ui.input":"hidePopover","keydown @ui.input":"inputTyped","paste @ui.input":"inputChanged","change @ui.input":"inputChanged","click @ui.clearer":"clearerClicked","keydown @ui.clearer":"keyDownOnClear","click .csui-search-popover-row":"setSlices","click .csui-searchbox-option":"selectSearchOption","click .csui-search-box-slice-popover":"prepareSlicepopover","focusout .csui-search-box-slice-popover":"focusOutSlicePopover","keydown .csui-search-box-slice-popover":"accessibility","keydown .csui-search-popover-row":"accessibility","focusout @ui.input":"hideSearchOptionsDropDown","focusout .csui-search-popover-row":"focusOutSlicePopoverRow","mouseup .csui-search-popover-row":"togglePopover","touchend .csui-search-popover-row":"togglePopover","focusout .csui-searchbox-option":"hideSearchOptionsDropDown","mouseleave .csui-search-options-dropdown":"hideSearchOptionsDropDown"},"currentlyFocusedElement":"a.csui-acc-focusable","behaviors":{"TabableRegion":{"behaviorClass":a}},"constructor":function(e){e||(e={}),e.data=t.defaults({},e.data,b),this.direction=p.settings.rtl?"left":"right";var s=e.context;e.model||(e.model=s.getModel(r)),n.ItemView.prototype.constructor.apply(this,arguments),this.listenTo(this.model,"change:where",this._updateInput),this.options.data.showOptionsDropDown&&(this.searchBoxFactory=s.getFactory(o),this.searchboxModel=this.searchBoxFactory.property,this.listenTo(s,"sync:perspective",this._perspectiveSynced),this.listenTo(s,"sync",this._dataSynced),this.listenTo(this.searchboxModel,"change",this.prepareSlicepopover),this.listenTo(this.searchboxModel,"change",this.prepareOptionsdropdown),this.listenTo(this.searchboxModel,"change",this.searchIconToggle)),(this.model.get("where")||this.options.data.showSearchInput)&&i(document).bind("click."+this.cid+" keydown."+this.cid,this,this._hideSearchBar),i(document).on("keydown",this,this._shortcutToQuery)},"_shortcutToQuery":function(e){if(e.ctrlKey&&114==e.keyCode){var t=e.data;t.isSearchInputVisible()?t.ui.input.focus():t.searchIconClicked()}},"onBeforeDestroy":function(){i(document).off("keydown",this._shortcutToQuery)},"isSearchbarVisible":function(){return this.$(".search-bar").is(":visible")},"isSearchInputVisible":function(){return this.$(".csui-input").is(":visible")},"focusOutSlicePopover":function(e){0===this.$(".binf-popover").find(e.relatedTarget).length&&this.$el.find(".csui-search-box-slice-popover").binf_popover("hide"),this.toggleIcon(e)},"focusOutSlicePopoverRow":function(e){0===this.$(".binf-popover").find(e.relatedTarget).length&&e.relatedTarget&&!e.relatedTarget.classList.contains("csui-search-box-slice-popover")&&this.$el.find(".csui-search-box-slice-popover").binf_popover("hide")},"_perspectiveSynced":function(e,t){t instanceof s&&t.get("container")?(this.searchboxModel.nodeId=t.get("id"),this.searchboxModel.nodeName=t.get("name"),this.namedSessionStorage.set(this.searchboxModel.nodeId,this.searchboxModel.nodeName),this.searchboxModel.trigger("change")):(this.searchboxModel.nodeId=void 0,this.searchboxModel.nodeName=void 0,this.searchboxModel.trigger("change"))},"_dataSynced":function(e,t){this.searchboxModel.fetched||this.searchBoxFactory.fetch()},"onRender":function(e){this.options.data.showSearchInput&&(this.$el.find(".search-bar").show(),this.searchIconToggle());var t=this.options.data.inputValue||this.model.get("where");this.slice=this.options.data.slice||this.model.get("slice"),t&&(this._setInputValue(t),this.$el.find(".search-bar").show()),(this.options.data.showInput||t)&&(this.triggerMethod("before:show:input",this),this.ui.input.show(),this.triggerMethod("show:input",this)),e&&e.data&&this.$el.find(".csui-search-box .csui-header-search-icon").removeClass(e.data.options.data.customSearchIconEnabledClass).addClass(e.data.options.data.customSearchIconClass)},"prepareSlicepopover":function(e){if(this.options.data.showOptionsDropDown){if(this.searchboxModel.attributes.slices){for(var t in this.searchboxModel.attributes.slices)this.searchboxModel.attributes.slices.hasOwnProperty(t)&&(this.searchboxModel.attributes.slices[t].select=l.searchOptionsSelect);this.$el.find(".csui-search-box-slice-popover").binf_popover({"content":this.slicePopOverTemplate(this.searchboxModel.attributes),"html":!0});var n=this.$el.find(".csui-search-box-slice-popover").attr("data-original-title");n||(n=l.searchOptionsTitle),this.$el.find(".csui-search-box-slice-popover").attr("title",n),this.slice&&this._setSliceValue(this.slice)}i(".search-bar").is(":visible")&&i(".binf-navbar-brand").removeClass("binf-navbar-collapse")}this.toggleIcon(e)},"toggleIcon":function(e,t){e&&"click"===e.type&&this.ui.downCaret.hasClass("dropup")||e&&"focusout"===e.type&&0===this.$(".binf-popover").find(e.relatedTarget).length||t?(this.ui.downCaret.removeClass("dropup"),this.ui.downCaret.attr("aria-expanded","false")):i(".search-bar-content .binf-popover").is(":visible")&&(this.ui.downCaret.addClass("dropup"),this.ui.downCaret.attr("aria-expanded","true"))},"accessibility":function(e){var t=this.$el.find(".csui-search-slice-container"),n=t.children(".csui-search-popover-row"),s=n.index(n.filter(".active"));13===e.keyCode&&i(n[s]).hasClass("active")?(i(n[s]).trigger("click"),this.togglePopover(e)):32===e.keyCode&&this.$el.find(document.activeElement).is(".csui-search-box-slice-popover")?(e.preventDefault(),this.ui.downCaret.trigger("click")):9===e.keyCode||27===e.keyCode?(i(".csui-search-box-slice-popover").binf_popover("hide"),this.ui.downCaret.focus(),this.toggleIcon(e,!0)):38!==e.keyCode&&40!==e.keyCode||(i(n).removeClass("active"),e.preventDefault(),38===e.keyCode&&(s=-1===s?n.length-1:s-1),40===e.keyCode&&(s=s===n.length-1?-1:s+1),-1===s?this.ui.downCaret.focus():i(n[s]).addClass("active").focus())},"togglePopover":function(e){var t=this;setTimeout(function(){var n=t.$el.find(document.activeElement).is(".csui-search-popover-row,.csui-search-box-slice-popover"),s=13===e.keyCode||"mouseup"===e.type||"touchend"===e.type;(n||s)&&i(".csui-search-box-slice-popover").binf_popover("hide"),s&&t.ui.downCaret.focus()},100),this.toggleIcon(e,!0)},"hidePopover":function(e){this.options.data.showOptionsDropDown&&("block"===i(".csui-search-box-slice-popover").css("display")&&i(".csui-search-box-slice-popover").binf_popover("hide"),this.showOptionsDropdown(e))},"resetPageDefaults":function(e){this.model.resetDefaults=!0},"searchIconKeyPressed":function(e){32===e.keyCode&&(e.preventDefault(),this.searchIconClicked(e))},"searchIconClicked":function(e){if(this.ui.searchIcon.attr("aria-expanded","true"),i(document).bind("click."+this.cid+" keydown."+this.cid,this,this._hideSearchBar),this.resetPageDefaults(e),this.options.data.showOptionsDropDown&&void 0!==this.searchboxModel.nodeId&&(this.$el.find(".csui-searchbox-option")[0].checked=this.options.data.searchFromHere),i(".search-bar").is(":visible")){var t=this.ui.input.val().trim();t&&(this._setInputValue(t),i(e.currentTarget).attr("title",l.startSearch),this.trigger("hide:breadcrumbspanel"));var n="",s=this.$el.find(".csui-searchbox-option:checked");this.options.data.showOptionsDropDown?s&&(n=s.val()):n=this.options.data.nodeId,history.state&&history.state.search&&(this.previousState=history.state.search),t&&(this._setSearchQuery(t,this.options.sliceString,n,e),this._updateInput(),this.options.data.searchFromHere||this.destroyOptionspopover(),this.options.data.searchFromHere=!0),this.previousState&&(this.model.prevSearchState=this.previousState)}else{var o=this;i(".search-bar").show("blind",{"direction":this.direction},"200",function(){o.ui.input.focus(),o.ui.input.prop("tabindex",0),o.ui.downCaret.prop("tabindex",0)}),this._updateInput(),i(".binf-navbar-brand").removeClass("binf-navbar-collapse"),this.options.data.showOptionsDropDown&&this.prepareSlicepopover(),""===this.model.attributes.where&&(e.currentTarget.title="",i(e.currentTarget).addClass(this.options.data.customSearchIconNoHoverClass))}},"_setSliceValue":function(e){"block"===i('[id^="popover"]').css("display")&&e&&"{}"!==e&&this.$el.find("#"+e.substring(1,e.length-1)).addClass("icon-listview-checkmark")},"inputTyped":function(e){var t=this.ui.input.val().trim();13===e.which?(e.preventDefault(),e.stopPropagation(),this._setInputValue(t),t&&this.searchIconClicked(e),this.previousValue!=t&&(this.previousValue=t)):40===e.which&&i(".csui-search-options-dropdown").is(":visible")?this.$el.find(".csui-searchbox-option").focus():this.inputChanged(e)},"inputChanged":function(e){var t=this.ui.input.val();this.ui.clearer.prop("tabindex",""!==t?0:-1),this.searchIconToggle(),this.ui.clearer.toggle(!!t.length),this.options.data.showOptionsDropDown&&this.showOptionsDropdown(e)},"showOptionsDropdown":function(e){if(this.options.data.showOptionsDropDown){var t=e||window.event;this.searchboxModel.nodeId&&27!==t.keyCode&&(this.$el.find(".csui-search-options-dropdown").show(),this.$el.find(".csui-searchbox-option")[0].checked=this.options.data.searchFromHere)}},"prepareOptionsdropdown":function(e){if(this.options.data.showOptionsDropDown)if(!this.searchboxModel.nodeId&&this.model.get("location_id1")&&(this.searchboxModel.nodeId=this.model.get("location_id1"),this.namedSessionStorage.get(this.searchboxModel.nodeId)&&(this.searchboxModel.nodeName=this.namedSessionStorage.get(this.searchboxModel.nodeId))),this.searchboxModel.nodeId){this.searchOptions={},this.searchOptions.nodeId=this.searchboxModel.nodeId,this.searchOptions.nodeIdSO=t.uniqueId("csui-so-"+this.searchboxModel.nodeId),!this.searchboxModel.nodeName&&this.options.data.nodeName&&(this.searchboxModel.nodeName=this.options.data.nodeName),this.searchboxModel.nodeName&&(this.searchOptions.nodeName=" ("+this.searchboxModel.nodeName+")"),this.searchOptions.select=l.searchOptionsSelect,this.searchOptions.fromHere=l.searchFromHere,this.searchOptions.checked=this.options.data.searchFromHere?"checked":"";var i=this.sliceDropDownTemplate(this.searchOptions);this.$el.find(".csui-search-options-dropdown").html(i),this.hideSearchOptionsDropDown()}else this.destroyOptionspopover()},"destroyOptionspopover":function(e){this.$el.find(".csui-search-options-dropdown").html(""),this.$el.find(".csui-search-options-dropdown").hide()},"selectSearchOption":function(e){this.$el.find(".csui-searchbox-option:checked").length>0?this.options.data.searchFromHere=!0:this.options.data.searchFromHere=!1},"hideSearchOptionsDropDown":function(){var e=this;setTimeout(function(){if(e.$el.find(".csui-searchbox-option")[0]===document.activeElement)return!1;if(e.options.data.showOptionsDropDown){var t=e;return e.popoverTimer&&clearTimeout(e.popoverTimer),e.popoverTimer=setTimeout(function(){t.showSearchOptionDropDown()},800),!0}},100)},"showSearchOptionDropDown":function(){this.options.data.showOptionsDropDown&&(i(".csui-search-options-dropdown").is(":hover")?this.popoverTimer&&clearTimeout(this.popoverTimer):i(".csui-search-options-dropdown").hide())},"keyDownOnClear":function(e){
13===e.keyCode&&this.clearerClicked(e)},"clearerClicked":function(e){e.preventDefault(),e.stopPropagation(),this._setInputValue(""),this.ui.searchIcon.removeClass(this.options.data.customSearchIconEnabledClass).addClass(this.options.data.customSearchIconClass),this.hidePopover(e),this.ui.input.focus()},"_setSearchQuery":function(e,t,i,n){this.model.clear({"silent":!0});var s={};t&&(s.slice=t),i&&(s.location_id1=i),e&&(s.where=e),this.model.set(s),this.hidePopover(n)},"setSlices":function(e){e.preventDefault(),e.stopPropagation();var t=i(e.target).data("sliceid"),n=this.$el.find(".csui-search-popover-checked"),s=this.$el.find(".icon-listview-checkmark"),o=s.length>0&&s.attr("id")===i(e.target).data("sliceid")+"";this.options.sliceString="",i(n).removeClass("icon-listview-checkmark"),o||(i("#"+t).addClass("icon-listview-checkmark"),this.options.sliceString="{"+t+"}"),this.slice=this.options.sliceString},"_hideSearchBar":function(e){var t=e||window.event,n=i(".search-bar");if(n.is(":visible")&&("keydown"===t.type&&(27===t.keyCode||27===t.which)&&!i(".search-bar-content .binf-popover").is(":visible")||!i(t.target).closest(n).length&&"click"===t.type&&!i(t.target).closest(".csui-header-search-icon").length&&!i(t.target).closest(".esoc-activityfeed-invisiblebutton").length)){i(this).find("."+e.data.options.data.customSearchIconNoHoverClass).removeClass(e.data.options.data.customSearchIconNoHoverClass),i(this).find(".csui-input").val(""),i(this).find(n).hide("blind",{"direction":e.data.direction},"200",function(){i(".binf-navbar-brand").addClass("binf-navbar-collapse")}),i(this).find(".csui-search-box-slice-popover").binf_popover("hide"),i(this).find(".csui-search-box .csui-header-search-icon")[0].title=l.searchIconTitle,i(i(this).find(".csui-search-box .csui-header-search-icon")[0]).attr("aria-expanded","false"),e.data.slice=e.data.model.get("slice"),e.data.options.data.searchFromHere=!0,i(this).find(".csui-search-options-dropdown").hide(),i(this).find(".csui-search-box .csui-header-search-icon").removeClass(e.data.options.data.customSearchIconEnabledClass).addClass(e.data.options.data.customSearchIconClass),i(document).unbind("click."+this.cid+" keydown."+this.cid);e.data.trigger("hide:searchbar"),i(".csui-search-box-slice-popover").prop("tabindex",-1),i(".csui-input").prop("tabindex",-1)}},"_updateInput":function(){if(this._isRendered){var e=this.model.get("where")||"";this._setInputValue(e)}},"_setInputValue":function(e){this.ui.input.val(e),this.ui.clearer.toggle(!!e.length),this.searchIconToggle(),this.options.data.showOptionsDropDown&&(this.options.data.nodeName=this.searchboxModel.nodeName)},"searchIconToggle":function(){this.ui.input.val().trim()?(this.ui.searchIcon.removeClass(this.options.data.customSearchIconClass).addClass(this.options.data.customSearchIconEnabledClass),this.ui.input.addClass("csui-input-focus"),i(this.ui.searchIcon).attr("title",l.startSearch),i(this.ui.searchIcon).removeClass(this.options.data.customSearchIconNoHoverClass)):(this.ui.searchIcon.removeClass(this.options.data.customSearchIconEnabledClass).addClass(this.options.data.customSearchIconClass),this.ui.input.removeClass("csui-input-focus"),i(".search-bar").is(":visible")&&i(this.ui.searchIcon).attr("title",l.searchBoxTitle).addClass(this.options.data.customSearchIconNoHoverClass))}})}),csui.define("csui/widgets/navigation.header/controls/search/search.view",["csui/widgets/search.box/search.box.view","csui/utils/contexts/factories/search.query.factory","csui/controls/globalmessage/globalmessage"],function(e,t,i){"use strict";return e.extend({"constructor":function(i){e.call(this,i),this.searchQuery=i.context.getModel(t),this.listenTo(this.searchQuery,"change",this._updateBreadcrumbs)},"onRender":function(){var e=function(){i.trigger("resize")};this.listenTo(this,"hide:input",e),this.listenTo(this,"show:input",e),this.listenTo(this,"hide:breadcrumbspanel",function(){this.options.parentView.triggerMethod("change:breadcrumbs",{"isBreadcrumbsEmpty":!0})})},"_updateBreadcrumbs":function(){this.searchQuery.get("query_id")&&this.options.parentView.triggerMethod("change:breadcrumbs",{"isBreadcrumbsEmpty":!0})}})}),csui.define("csui/widgets/navigation.header/controls/favorites/impl/nls/localized.strings",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/navigation.header/controls/favorites/impl/nls/root/localized.strings",{"FavoritesIconTitle":"Favorites","FavoritesTitleAria":"Content Server Favorites"}),csui.define("hbs!csui/widgets/navigation.header/controls/favorites/impl/favorites",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="csui-favorites-icon-container" title="'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"title","hash":{}}):s))+'" aria-label="'+this.escapeExpression((s=null!=(s=t.favoritesTitleAria||(null!=e?e.favoritesTitleAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"favoritesTitleAria","hash":{}}):s))+'" role="button" aria-haspopup="true" aria-expanded="false">\r\n  <span class="csui-icon-favorites favorite_header_icon"></span>\r\n</div>\r\n<div class="csui-favorites-view-container"></div>\r\n'}});return i.registerPartial("csui_widgets_navigation.header_controls_favorites_impl_favorites",n),n}),csui.define("csui/widgets/favorites/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/favorites/impl/nls/root/lang",{"dialogTitle":"Favorites","searchPlaceholder":"Search Favorites","searchAria":"Search for favorites","expandAria":"Expand the Favorites widget","emptyGroupDefaultText":"This group is empty.","emptyListText":"There are no items to display.","loadingListText":"Loading results...","failedListText":"Loading results failed.","emptyGroupText":"Adding content to your Favorites list makes it a breeze to find.","deleteGroupConfirmatonTitle":"Delete group","deleteGroupConfirmatonText":"Are you sure you want to delete this group? All the favored items in this group will also be deleted.","deleteGroupButtonLabel":"Delete","deleteGroupButtonAria":"Delete favorite group","editGroupButtonLabel":"Edit","editGroupButtonAria":"Edit favorite group name","errorFavoritesSaveFailed":"Saving favorites failed.","errorFavoriteGroupSaveFailed":"Saving favorites group failed.","favoriteColumnNameTitle":"Favorite name","favoritesGroupAria":"{0}, Favorites Group","favoritesEmptyGroupAria":"{0}, Empty Favorites Group","favoriteGroupsNavAria":"Favorites Groups","fav_ungrouped":"Ungrouped","fav_ungroupedAria":"Ungrouped favorites","groupAdd":"Add group","groupAddButtonTitle":"Add a new favorites group","groupHint1":"To personalize the Favorites tile, you can push your favorite group to the top.","groupHint2":"You can also re-order items within the groups, so that your most favorite items appear at the top of the Favorites tile.","addFav":"Add Favorite","removeFav":"Remove Favorite","updateFavoriteFailTitle":"Update Favorite","updateFavoriteFailMessage":'Failed to update favorite for node "{0}". \n\n{1}',"addFavoriteNameLabel":"Favorite name","addFavoriteNamePlaceHolder":"Enter name","addFavoriteGroupLabel":"Group","addFavoriteAddButtonLabel":"Add","addFavoriteCancelButtonLabel":"Cancel","addFavoriteCancelButtonAria":"Cancel editing favorite group name","nameErrorMaxLengthExceed":"Name cannot be longer than 248 characters.","nameErrorContainSemiColon":"Name cannot contain a colon.","startEditMode":"Edit","endEditMode":"Done"}),csui.define("css!csui/widgets/favorites/impl/favorites.view",[],function(){}),csui.define("csui/widgets/favorites/favorites.view",["csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/contexts/factories/favorites2","csui/controls/list/list.view","csui/controls/listitem/listitemstandard.view","csui/controls/listitem/simpletreelistitem.view","csui/behaviors/expanding/expanding.behavior","csui/behaviors/default.action/default.action.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/controls/list/behaviors/list.view.keyboard.behavior","csui/behaviors/collection.state/collection.state.behavior","csui/controls/list/list.state.view","csui/utils/contexts/factories/favorite2groups","csui/models/favorites2","csui/controls/node-type.icon/node-type.icon.view","csui/controls/progressblocker/blocker","i18n!csui/widgets/favorites/impl/nls/lang","css!csui/widgets/favorites/impl/favorites.view"],function(e,t,i,n,s,o,r,a,l,c,u,d,h,p,b,f,m,g,v){"use strict";var w=/\baccessibleTable\b(?:=([^&]*)?)?/i.exec(location.search);return w=w&&"false"!==w[1],o.extend({"templateHelpers":function(){return{"title":this.options.data.title||v.dialogTitle,"icon":this.options.data.titleBarIcon,"searchPlaceholder":v.searchPlaceholder,"searchAria":v.searchAria,"expandAria":v.expandAria}},"events":{"click .tile-expand":"onMoreLinkClick"},"behaviors":{"ExpandableList":{"behaviorClass":l,"expandedView":"csui/widgets/favorites/impl/favorites2.table.view","orderBy":function(){return this.options.orderBy},"titleBarIcon":function(){return this.options.data.titleBarIcon},"dialogTitle":v.dialogTitle,"dialogTitleIconRight":"icon-tileCollapse","dialogClassName":"favorites"},"DefaultAction":{"behaviorClass":c},"TabableRegion":{"behaviorClass":u},"ListViewKeyboardBehavior":{"behaviorClass":d},"CollectionState":{"behaviorClass":h,"collection":function(){return this.completeCollection},"stateView":p,"stateMessages":{"empty":v.emptyListText,"loading":v.loadingListText,"failed":v.failedListText}}},"getChildView":function(e){return this.showFlatList?r:a},"childViewOptions":function(){return{"templateHelpers":function(){if(this instanceof r)return{"name":this.model.get("favorite_name"),"enableIcon":!0,"showInlineActionBar":this.showInlineActionBar};var e,i=this.model.get("name");return e=this.model.childrenCollection&&0===this.model.childrenCollection.length?t.str.sformat(v.favoritesEmptyGroupAria,i):t.str.sformat(v.favoritesGroupAria,i),{"icon":"mime_fav_group32","name":i,"ariaName":e,"expand":this.model.searchMode}},"childViewTemplateHelpers":function(){return{"icon":this.model.get("icon"),"name":this.model.get("favorite_name"),"text":v.emptyGroupDefaultText,"showInlineActionBar":this.showInlineActionBar}},"checkDefaultAction":!0,"context":this.context,"toolbarData":this.toolbarData}},"childEvents":{"click:item":"_onClickItem","click:tree:item":"_onClickTreeItem","click:tree:header":"_onClickTreeHeader","render":"onRenderItem","before:destroy":"onBeforeDestroyItem"},"constructor":function(e){e||(e={}),t.defaults(e,{"orderBy":"favorite_name asc"}),e.data||(e.data={}),e.data.titleBarIcon=!1===e.data.showTitleIcon?void 0:"title-icon title-favourites",this.completeCollection=e.collection||e.context.getCollection(b,{"detached":!0,"permanent":!0});var n=s.getLimitedResourceScope();this.completeCollection.favorites.setResourceScope(n);var r=i.Collection.extend({"model":this.completeCollection.model});e.collection=new r,this.showInlineActionBar=!w&&(!1!==e.showInlineActionBar||e.showInlineActionBar),o.prototype.constructor.apply(this,arguments),g.imbue(this),this.listenTo(this.completeCollection,"update sync",t.bind(this._synchronizeCollections,this)),this._synchronizeCollections(),this.listenTo(this,"render",this._onRender),this.listenTo(this,"change:filterValue",this._synchronizeCollections),this.showInlineActionBar&&(e.tileViewToolbarItems="csui/widgets/favorites/tileview.toolbaritems",this.context=e.context,this.toolbarData={"toolbaritems":e.tileViewToolbarItems,"collection":this.completeCollection.favorites})},"_onRender":function(){this.$el.addClass("cs-favorites"),this.completeCollection.ensureFetched(),this.$el.on("keydown",t.bind(this.onKeyDown,this)),this._updateAccAttributes()},"_updateAccAttributes":function(){this.$el.find(".tile-content").removeAttr("role aria-expanded"),this.$el.find(".tile-content > .binf-list-group").removeAttr("role"),this.$el.find(".tile-content").attr("aria-label",this.options.data.title||v.dialogTitle),this.showFlatList?this.$el.find(".tile-content > .binf-list-group").attr("role","listbox"):(this.$el.find(".tile-content").attr("role","tree").attr("aria-expanded","true"),this.$el.find(".tile-content > .binf-list-group").attr("role","group"))},"onRenderCollection":function(){this._updateAccAttributes()},"onRenderItem":function(e){this.showFlatList&&(e._nodeIconView=new m({"el":e.$(".csui-type-icon").get(0),"node":e.model}),e._nodeIconView.render()),this.showFlatList&&e.$el.attr("role","option")},"onBeforeDestroyItem":function(e){this.showFlatList&&e._nodeIconView&&e._nodeIconView.destroy()},"_onClickItem":function(e){this.triggerMethod("execute:defaultAction",e.model)},"_onClickTreeItem":function(e,t){this.triggerMethod("execute:defaultAction",t.model)},"_onClickTreeHeader":function(e){this.trigger("update:scrollbar")},"onClickHeader":function(e){this.triggerMethod("expand")},"onMoreLinkClick":function(e){e.preventDefault(),e.stopPropagation(),this.triggerMethod("expand")},"_synchronizeCollections":function(){var n,s=this,o=this.completeCollection.connector,r=this.completeCollection.at(0),a={};if(a.favorite_name=this.options.filterValue,1===this.completeCollection.length&&-1===r.get("tab_id"))this.showFlatList=!0,n=new f(void 0,{"connector":o}),n.reset(r.favorites&&r.favorites.models||[]),n.setFilter(a),s.options.filterValue&&0!==s.options.filterValue.length?s.listenTo(n,"sync",function(){s.collection.reset(n.models)}):s.collection.reset(n.models);else{s.showFlatList=!1;var l=this.isSearchOpen(),c=new i.Collection,u=[];t.each(this.completeCollection.models,function(t){n=new f(void 0,{"connector":o}),n.reset(t.favorites.models),n.setFilter(a);var r=new i.Model(t.attributes);if(r.childrenCollection=n,r.searchMode=l,-1===r.get("tab_id")&&r.set("flatten",!0),c.add(r),s.options.filterValue&&s.options.filterValue.length>0){var d=e.Deferred();u.push(d.promise()),s.listenTo(n,"sync",function(){0===r.childrenCollection.length&&c.remove(r),d.resolve()})}}),s.options.filterValue&&s.options.filterValue.length>0?e.when.apply(e,u).then(function(){s.collection.reset(c.models)}):s.collection.reset(c.models)}},"getElementByIndex":function(e,t){if(this.showFlatList)return o.prototype.getElementByIndex.call(this,e);if(isNaN(e)||e<0)return null;var i=this.children.findByIndex(e);return i&&i.currentlyFocusedElement?i.currentlyFocusedElement(t):null}})}),csui.define("css!csui/widgets/navigation.header/controls/favorites/impl/favorites",[],function(){}),csui.define("csui/widgets/navigation.header/controls/favorites/favorites.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","i18n!csui/widgets/navigation.header/controls/favorites/impl/nls/localized.strings","csui/behaviors/keyboard.navigation/tabable.region.behavior","hbs!csui/widgets/navigation.header/controls/favorites/impl/favorites","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/widgets/favorites/favorites.view","csui/utils/contexts/factories/favorites2","css!csui/widgets/navigation.header/controls/favorites/impl/favorites"],function(e,t,i,n,s,o,r,a){"use strict";var l=i.LayoutView.extend({"className":"csui-favorites-view","template":o,"templateHelpers":function(){return{"title":n.FavoritesIconTitle,"favoritesTitleAria":n.FavoritesTitleAria}},"regions":{"favoritesViewContainerRegion":".csui-favorites-view-container"},"ui":{"favoritesButtonContainer":".csui-favorites-icon-container","favoritesViewContainer":".csui-favorites-view-container"},"events":{"keydown":"onKeyInView","mouseenter .csui-favorites-view-container":"onMouseEnterFavoritesView","mouseenter .csui-favorites-icon-container":"onMouseEnterFavoritesView","mouseleave .csui-favorites-view-container":"onMouseLeaveFavoritesView","mouseleave .csui-favorites-icon-container":"onMouseLeaveFavoritesView","mouseenter .clicked-no-hover":"onMouseEnterClickedNoHoverItem","focus .csui-favorites-icon-container":"onFocusButton","blur .csui-favorites-icon-container":"onBlurButton","blur .csui-favorites-view-container":"onBlurFavoritesViewContainer","click .csui-favorites-icon-container":"onClickFavoritesIcon"},"behaviors":{"TabableRegionBehavior":{"behaviorClass":s}},"currentlyFocusedElement":function(e){var t=this.ui.favoritesViewContainer.find(".content-tile .tile-content .binf-list-group-item");return e.shiftKey&&t.length>0?this.favoritesView._focusList():this.ui.favoritesButtonContainer},"constructor":function(e){i.LayoutView.call(this,e),this.propagateEventsToRegions()},"onBeforeDestroy":function(){this.favoritesView&&this.favoritesView.destroy()},"onRender":function(){this.ui.favoritesViewContainer.addClass("binf-hidden")},"onFocusButton":function(){this.$el.find(".csui-icon-favorites").addClass("fav_header42_mo")},"onBlurButton":function(){this.$el.find(".csui-icon-favorites").removeClass("fav_header42_mo"),!0!==this.favoritesViewInFocus&&document.activeElement!==this.ui.favoritesButtonContainer[0]&&this._hideFavoritesView()},"onBlurFavoritesViewContainer":function(){!0!==this.favoritesViewInFocus&&!0!==this.keyboardAction&&this._hideFavoritesView()},"onMouseEnterFavoritesView":function(){this.favoritesViewInFocus=!0},"onMouseLeaveFavoritesView":function(){this.favoritesViewInFocus=!1},"onMouseEnterClickedNoHoverItem":function(e){e&&e.target&&t(e.target).removeClass("clicked-no-hover")},"onKeyInView":function(e){switch(e.keyCode){case 9:var t=this.ui.favoritesButtonContainer.is(":focus");t&&!0!==e.shiftKey&&!this.ui.favoritesViewContainer.hasClass("binf-hidden")?this._focusOnFavoriteList(e):!t&&e.shiftKey?(e.preventDefault(),e.stopPropagation(),this._focusOnFavoriteButton()):this._hideFavoritesView();break;case 13:case 32:this.triggerMethod("click:favorites:icon",e),this.ui.favoritesViewContainer.hasClass("binf-hidden")||this._focusOnFavoriteList(e);break;case 40:!this.favoritesView||this.ui.favoritesViewContainer.hasClass("binf-hidden")?(this.triggerMethod("click:favorites:icon",e),this._focusOnFavoriteList(e)):!0!==this.favoritesViewInFocus&&this._focusOnFavoriteList(e);break;case 27:this._focusOnFavoriteButton(),this._hideFavoritesView()}},"_focusOnFavoriteButton":function(){this.ui.favoritesButtonContainer.focus(),this.favoritesViewInFocus=!1},"_focusOnFavoriteList":function(e){var t=this.ui.favoritesViewContainer.find("> .content-tile > .tile-content > .binf-list-group");(this.favoritesView.showFlatList?t.find("> .binf-list-group-item"):t.find("> .cs-simpletreelistitem")).length>0&&(e.preventDefault(),e.stopPropagation(),this.favoritesViewInFocus=!0,this.favoritesView._moveTo(e,this.favoritesView._focusList()))},"_toggleFavoritesView":function(){this.ui.favoritesViewContainer.hasClass("binf-hidden")?this._showFavoritesView():this._hideFavoritesView()},"_showFavoritesView":function(){this.ui.favoritesViewContainer.removeClass("binf-hidden"),this.ui.favoritesButtonContainer.attr("aria-expanded","true"),this.$el.addClass("showing-favorites-view"),this.favoritesViewContainerRegion.show(this.favoritesView)},"_hideFavoritesView":function(){this.favoritesViewInFocus=!1,this.ui.favoritesViewContainer.addClass("binf-hidden"),this.ui.favoritesButtonContainer.attr("aria-expanded","false"),this.$el.removeClass("showing-favorites-view")},"onClickFavoritesIcon":function(e){e.preventDefault(),e.stopPropagation();var i=t(".binf-open>.binf-dropdown-toggle");i.length>0&&i.binf_dropdown("toggle"),this._ensureFavoritesView(),this._toggleFavoritesView(),this._focusOnFavoriteButton()},"_ensureFavoritesView":function(){if(!this.favoritesView){var t=this,i=e.extend(this.options,{"showInlineActionBar":!1});this.favoritesView=new a(i),this.listenTo(this.favoritesView,"childview:click:tree:item",function(e,i){i.$el&&i.$el.addClass("clicked-no-hover"),t._hideFavoritesView(),t._focusOnFavoriteButton()}),this.listenTo(this.favoritesView,"childview:click:item",function(e){e.$el&&e.$el.addClass("clicked-no-hover"),t._hideFavoritesView(),t._focusOnFavoriteButton()}),this.listenTo(this.favoritesView,"before:keyboard:change:focus childview:before:keyboard:change:focus",function(){t.keyboardAction=!0}),this.listenTo(this.favoritesView,"after:keyboard:change:focus childview:after:keyboard:change:focus",function(){t.keyboardAction=!1})}}});return e.extend(l.prototype,r),l}),csui.define("csui/widgets/navigation.header/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/navigation.header/impl/nls/root/lang",{"profileMenuItemLabel":"Profile","switchToClassicMenuItemLabel":"Classic View","signOutMenuItemLabel":"Sign out","EditPerspective":"Edit page","CreatePerspective":"Edit page"}),csui.define("csui/widgets/navigation.header/profile.menuitems",["csui/lib/underscore","i18n!csui/widgets/navigation.header/impl/nls/lang","csui/controls/toolbar/toolitems.factory","csui/controls/toolbar/toolitem.model","csui-ext!csui/widgets/navigation.header/profile.menuitems"],function(e,t,i,n,s){"use strict";var o={"profileMenu":new i({"profile":[{"signature":"UserProfile","name":t.profileMenuItemLabel}],"others":[{"signature":"SwitchToClassic","name":t.switchToClassicMenuItemLabel},{"signature":"EditPerspective","name":t.EditPerspective},{"signature":"CreatePerspective","name":t.CreatePerspective}],"signout":[{"signature":"SignOut","name":t.signOutMenuItemLabel}]},{"maxItemsShown":0,"dropDownIcon":"icon icon-expandArrowDown"})};return s&&e.each(s,function(t){e.each(t,function(t,i){var s=o[i];if(!s)throw new Error("Invalid target toolbar: "+i);e.each(t,function(e){e=new n(e),s.addItem(e)})})}),o}),csui.define("csui/widgets/navigation.header/profile.menuitems.mask",["module","csui/lib/underscore","csui/controls/toolbar/toolitems.mask","csui/utils/toolitem.masks/global.toolitems.mask"],function(e,t,i,n){"use strict";return i.extend({"constructor":function(){var s=e.config(),o=new n;i.prototype.constructor.call(this,o,{"normalize":!1}),t.each(s,function(e,t){this.extendMask(e)},this),this.storeMask()}})}),csui.define("hbs!csui/widgets/navigation.header/controls/user.profile/impl/user.profile",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<a href="#" data-binf-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true"\r\n   class="binf-dropdown-toggle nav-profile csui-navbar-icons csui-acc-focusable" title="'+this.escapeExpression((s=null!=(s=t.profileMenuTitle||(null!=e?e.profileMenuTitle:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"profileMenuTitle","hash":{}}):s))+'" aria-label="'+this.escapeExpression((s=null!=(s=t.profileMenuAria||(null!=e?e.profileMenuAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"profileMenuAria","hash":{}}):s))+'">\r\n  <span class="csui-profile-default-image image_user_placeholder">'+this.escapeExpression((s=null!=(s=t.initials||(null!=e?e.initials:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"initials","hash":{}}):s))+'</span>\r\n  <img class="csui-profile-image binf-img-circle binf-hidden" role="presentation" alt="'+this.escapeExpression((s=null!=(s=t.profileImageAlt||(null!=e?e.profileImageAlt:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"profileImageAlt","hash":{}}):s))+'" src="'+this.escapeExpression((s=null!=(s=t.imgSrc||(null!=e?e.imgSrc:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"imgSrc","hash":{}}):s))+'">\r\n</a>\r\n<ul class="binf-dropdown-menu csui-profile-dropdown" role="menu"></ul>'}});return i.registerPartial("csui_widgets_navigation.header_controls_user.profile_impl_user.profile",n),n}),csui.define("css!csui/widgets/navigation.header/controls/user.profile/impl/user.profile",[],function(){}),csui.define("csui/widgets/navigation.header/controls/user.profile/user.profile.view",["require","csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/utils/url","csui/utils/base","csui/utils/commands","csui/utils/contexts/factories/connector","csui/utils/contexts/factories/user","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/controls/toolbar/toolitems.filtered.model","csui/controls/toolbar/toolitem.view","csui/widgets/navigation.header/profile.menuitems","csui/widgets/navigation.header/profile.menuitems.mask","csui/utils/user.avatar.color","csui/controls/globalmessage/globalmessage","hbs!csui/widgets/navigation.header/controls/user.profile/impl/user.profile","csui-ext!csui/widgets/navigation.header/controls/user.profile/user.profile.view","i18n!csui/pages/start/impl/nls/lang","css!csui/widgets/navigation.header/controls/user.profile/impl/user.profile","csui/lib/jquery.binary.ajax"],function(e,t,i,n,s,o,r,a,l,c,u,d,h,p,b,f,m,g,v,w){"use strict";return s.CompositeView.extend({"classname":"binf-dropdown","template":g,"templateHelpers":function(){var e=r.formatMemberName(this.model);return{"profileMenuTitle":w.profileMenuTitle,"profileMenuAria":t.str.sformat(w.profileMenuAria,e),"profileImageAlt":t.str.sformat(w.profileImageAlt,e),"imgSrc":"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=","initials":this.options.model.attributes.initials}},"serializeData":function(){return{"items":this.collection.toJSON()}},"childView":h,"childViewContainer":"> .csui-profile-dropdown","ui":{"userProfileMenu":"> .csui-profile-dropdown","userProfileMenuHandle":"> a","personalizedImage":".csui-profile-image","defaultImage":".csui-profile-default-image","profileDropdownToggler":"> .nav-profile"},"events":{"keydown @ui.profileDropdownToggler":"_showDropdown","keydown @ui.userProfileMenu":"_showDropdown","focusout @ui.profileDropdownToggler":"_toggleDropdown","focusout @ui.userProfileMenu":"_toggleDropdown"},"behaviors":{"TabableRegion":{"behaviorClass":u}},"currentlyFocusedElement":"> .csui-acc-focusable","constructor":function(e){e||(e={}),this._ensureModels(e),s.CompositeView.prototype.constructor.call(this,e),this.connector=this.options.context.getModel(l),this.listenTo(this.model,"change",this._refreshUser).listenTo(e.context,"sync error",this._refreshActions).listenTo(this,"render",this._displayUser).listenTo(this,"destroy",this._releasePhotoUrl).listenTo(this,"childview:toolitem:action",this._triggerMenuItemAction).listenTo(n,"closeToggleAction",this._closeToggle)},"_ensureModels":function(e){var t=e.context,i=t.getModel(c);this.username="ensured",this.staticMenuItems=p.profileMenu.collection.toJSON(),e.model=i,e.collection=new d(p.profileMenu,{"status":{"context":t},"commands":a,"mask":new b})},"_refreshUser":function(){this._isRendered&&!this.isDestroyed&&this.render()},"_refreshActions":function(){if(this._isRendered&&!this.isDestroyed)if(v){var e={"context":this.options.context},n=t.chain(v).flatten(!0).map(function(t){return t(e)}).value(),s=this;i.whenAll.apply(i,n).always(function(e){var i=new b;e=t.chain(e).flatten().pluck("profileMenu").flatten().value(),e=s.staticMenuItems.concat(e),e=i.maskItems(e),p.profileMenu.reset(e)})}else this.collection.refilter()},"_triggerMenuItemAction":function(e,t){this.ui.profileDropdownToggler.binf_dropdown("toggle"),this._executeAction(t.toolItem)},"_executeAction":function(e){var t=e.get("signature"),i=a.findWhere({"signature":t}),n=this.options.context,s={"context":n,"toolItem":e,"data":e.get("commandData")},o=this;i&&i.enabled(s)&&(this.$el.addClass("binf-disabled"),i.execute(s).done(function(e){}).fail(function(e){e&&(e=new r.Error(e),m.showMessage("error",e.message,e.errorDetails))}).always(function(){o.$el.removeClass("binf-disabled")}))},"_displayUser":function(){this.model.get("id")&&(this._displayProfileImage(),this._assignUserColor())},"_displayProfileImage":function(){var e=this._getUserPhotoUrl();if(e){var n=this.connector.extendAjaxOptions({"url":e,"dataType":"binary"});i.ajax(n).always(t.bind(function(e,t,i){200===i.status?this._showPersonalizedImage(e):this._showDefaultImage()},this))}else this._showDefaultImage()},"_getUserPhotoUrl":function(){var e=this.connector.connection,t=new o(e.url).getCgiScript(),i=this.model.get("photo_url");if(i&&i.indexOf("?")>0)return o.combine(t,i)},"_showPersonalizedImage":function(e){this._releasePhotoUrl(),this._photoUrl=URL.createObjectURL(e),this.ui.defaultImage.addClass("binf-hidden"),this.ui.personalizedImage.attr("src",this._photoUrl).removeClass("binf-hidden"),this.$el.parents().find(".esoc-userprofile-pic-actions img").length&&this.$el.parents().find(".esoc-userprofile-pic-actions img").focus()},"_showDefaultImage":function(e){this._releasePhotoUrl(),this.ui.personalizedImage.addClass("binf-hidden"),this.ui.defaultImage[0].innerText=this.options.model.attributes.initials,this.ui.defaultImage.removeClass("binf-hidden"),this.$el.parents().find(" span.esoc-full-profile-avatar-cursor").length&&this.$el.parents().find(" span.esoc-full-profile-avatar-cursor").focus()},"_releasePhotoUrl":function(){this._photoUrl&&(URL.revokeObjectURL(this._photoUrl),this._photoUrl=void 0)},"_closeToggle":function(){this.$el.hasClass("binf-open")&&this.ui.userProfileMenuHandle.click()},"_showDropdown":function(e){var t=this.ui.userProfileMenu.find("> li > a"),n=0,s=this.$el.find(document.activeElement);s.length>0&&(n=t.index(s[0]),38===e.keyCode||40===e.keyCode?(e.preventDefault(),38===e.keyCode&&(n=-1===n?t.length-1:n-1),40===e.keyCode&&(n=n===t.length-1?-1:n+1),-1===n?this.ui.profileDropdownToggler.focus():i(t[n]).focus()):27===e.keyCode&&i(s).closest("ul").is(".csui-profile-dropdown")?(e.stopPropagation(),this.ui.profileDropdownToggler.trigger("click").focus()):32===e.keyCode&&(e.preventDefault(),e.stopPropagation(),i(s).click()))},"_toggleDropdown":function(e){var t=this;setTimeout(function(){document.activeElement.offsetParent&&!document.activeElement.offsetParent.classList.contains("csui-profile-dropdown")&&document.activeElement!==t.ui.profileDropdownToggler[0]&&t.ui.userProfileMenu.is(":visible")&&i(t.ui.profileDropdownToggler).click()},100)},"_assignUserColor":function(){var e=f.getUserAvatarColor(this.model.attributes);this.ui.defaultImage.css("background",e)}})}),csui.define("csui/perspectives/zone/zone.perspective.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/grid/grid.view","csui/behaviors/widget.container/widget.container.behavior","csui/perspectives/mixins/perspective.edit.mixin"],function(e,t,i,n,s,o,r){function a(t,i){var n;return i?n=i[t]:void 0===(n=a.call(this,t,this.options||{}))&&(n=this[t]),e.isFunction(n)?n.call(this):n}var l=s.extend({"className":function(){var t="cs-perspective cs-zone-perspective grid-rows ",i=e.result(s.prototype,"className");return i&&(t+=i),t},"cellView":function(e){var t=e.get("widget");if(t){var i=t.view;if(!i)throw new n.Error({"name":"UnresolvedWidgetError","message":'Widget "'+t.type+'" not resolved: '+t.error});return i}},"cellViewOptions":function(e){var t=e.get("widget");return{"context":this.options.context,"data":t&&t.options||{},"model":void 0}},"behaviors":{"WidgetContainer":{"behaviorClass":o}},"constructor":function(e){e||(e={}),e=t.extend(!0,{},e),e.collection||(e.collection=this._createCollection(e)),e.collection.each(function(e,t){e.columns.each(function(e,i){e.get("widget").cellAddress="grid0:r"+t+":c"+i})}),"edit"===e.perspectiveMode&&this.prepareForEditMode(),s.prototype.constructor.call(this,e)},"_createCollection":function(t){var s=new i.Collection,o=this._getLayoutName(t);if(o){var r=a.call(this,"zoneLayouts"),l=r[o];if(!l)throw new n.Error({"name":"InvalidLayoutContentError","message":"Missing widget in the important perspective zone"});var c=s.add({}),u=e.map(l.zoneOrder,function(i){return e.defaults({"widget":t[i]},l.zoneSizes[i])});c.columns=new i.Collection(u)}return s},"_getLayoutName":function(t){var i=a.call(this,"zoneNames");return e.reduce(i,function(i,n){return t[n]&&!e.isEmpty(t[n])&&(i&&(i+="-"),i+=n),i},"")},"enumerateWidgets":function(t){var i=a.call(this,"zoneNames");e.each(i,function(i){var n=this.options[i];if(!e.isEmpty(n)){
var s=this.options[i];s&&t(s)}},this)},"serializeOptions":function(){var i=this,n=t.Deferred(),s=this._getLayoutName(this.options),o=a.call(this,"zoneLayouts"),r=o[s],l=this.collection.at(0).columns,c=e.map(r.zoneOrder,function(e,n){return"csui/perspective.manage/widgets/perspective.placeholder"===l.at(n).get("widget").type?t.Deferred().resolve({"zone":e,"config":{"widget":{}}}):i.serializeWidget(l.at(n)).then(function(t){return{"zone":e,"config":t}})});return t.whenAll.apply(t,c).done(function(t){var i=e.reduce(t,function(e,t){return e[t.zone]=t.config.widget,e},{});n.resolve(i)}).fail(function(t){t=e.filter(t,function(e){return!!e.error}),n.reject(t[0].error)}),n.promise()}});return r.mixin(l.prototype),l}),csui.define("csui/perspectives/left-center-right/left-center-right.perspective.view",["require","module","csui/lib/underscore","csui/perspectives/zone/zone.perspective.view","csui/behaviors/widget.container/widget.container.behavior"],function(e,t,i,n,s){var o=t.config();return i.defaults(o,{"zoneNames":["left","center","right"],"zoneLayouts":{"center":{"zoneOrder":["center"],"zoneSizes":{"center":{"sizes":{"xs":12},"heights":{"xs":"full"}}}},"left":{"zoneOrder":["left"],"zoneSizes":{"left":{"sizes":{"xs":12},"heights":{"xs":"full"}}}},"right":{"zoneOrder":["right"],"zoneSizes":{"right":{"sizes":{"xs":12},"heights":{"xs":"full"}}}},"left-center":{"zoneOrder":["center","left"],"zoneSizes":{"left":{"sizes":{"md":4,"xl":3},"pulls":{"md":8,"xl":9},"heights":{"xs":"full"}},"center":{"sizes":{"md":8,"xl":9},"pushes":{"md":4,"xl":3},"heights":{"xs":"full"}}}},"center-right":{"zoneOrder":["center","right"],"zoneSizes":{"center":{"sizes":{"md":8,"xl":9},"heights":{"xs":"full"}},"right":{"sizes":{"md":4,"xl":3},"heights":{"xs":"full"}}}},"left-right":{"zoneOrder":["left","right"],"zoneSizes":{"left":{"sizes":{"md":6},"heights":{"xs":"full"}},"right":{"sizes":{"md":6},"heights":{"xs":"full"}}}},"left-center-right":{"zoneOrder":["center","left","right"],"zoneSizes":{"left":{"sizes":{"sm":6,"md":6,"lg":3,"xl":3},"pulls":{"lg":6,"xl":6},"heights":{"xs":"full"}},"center":{"sizes":{"sm":12,"md":12,"lg":6,"xl":6},"pushes":{"lg":3,"xl":3},"heights":{"xs":"full"}},"right":{"sizes":{"sm":6,"md":6,"lg":3,"xl":3},"heights":{"xs":"full"}}}}}}),n.extend({"className":function(){var e="cs-left-center-right-perspective",t=i.result(n.prototype,"className");return t&&(e=e+" "+t),e},"zoneNames":o.zoneNames,"zoneLayouts":o.zoneLayouts,"constructor":function(e){e&&"edit"===e.perspectiveMode&&this._prepareForEditMode(e),n.prototype.constructor.apply(this,arguments),e&&"edit"===e.perspectiveMode&&this._registerEditEvents()},"_prepareForEditMode":function(t){t.left&&!i.isEmpty(t.left.type)||(t.left={"kind":"tile","type":"csui/perspective.manage/widgets/perspective.placeholder"}),t.center&&!i.isEmpty(t.center.type)||(t.center={"kind":"fullpage","type":"csui/perspective.manage/widgets/perspective.placeholder"}),t.right&&!i.isEmpty(t.right.type)||(t.right={"kind":"tile","type":"csui/perspective.manage/widgets/perspective.placeholder"}),t.cellBehaviours={"PerspectiveWidgetConfig":{"behaviorClass":e("csui/perspective.manage/behaviours/pman.widget.config.behaviour"),"perspectiveView":this}}},"_registerEditEvents":function(){var e=this;this.listenTo(this,"delete:widget",function(t){if(e.getPManPlaceholderWidget){var i=e.getPManPlaceholderWidget();s.resolveWidget(i).done(function(){t.model.set("widget",i)})}}),this.listenTo(this,"replace:widget",function(e,t){s.resolveWidget(t).done(function(){e.model.set("widget",t)})}.bind(this))},"serializePerspective":function(){return this.serializeOptions().then(function(e){return{"type":"left-center-right","options":e}})},"_supportMaximizeWidget":!0,"_supportMaximizeWidgetOnDisplay":!0})}),csui.define("csui/perspectives/single/single.perspective.view",["module","csui/lib/underscore","csui/perspectives/zone/zone.perspective.view"],function(e,t,i){var n=e.config();return t.defaults(n,{"zoneNames":["widget"],"zoneLayouts":{"widget":{"zoneOrder":["widget"],"zoneSizes":{"widget":{"sizes":{"xs":12},"heights":{"xs":"full"}}}}}}),i.extend({"className":function(){var e="cs-single-perspective",n=t.result(i.prototype,"className");return n&&(e=e+" "+n),e},"zoneNames":n.zoneNames,"zoneLayouts":n.zoneLayouts,"constructor":function(e){i.prototype.constructor.apply(this,arguments)}})}),csui.define("csui/utils/contexts/factories/active.tab.factory",["module","csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory"],function(e,t,i,n){var s=i.Model.extend({"defaults":{"tabIndex":0}});return n.extend({"propertyPrefix":"activeTab","constructor":function(o,r){n.prototype.constructor.apply(this,arguments);var a=this.options.activeTab||{};if(!(a instanceof i.Model)){var l=e.config();a=new s(a.models,t.extend({},a.options,l.options))}this.property=a}})}),csui.define("csui/perspectives/tabbed/behaviors/tab.extensions.behavior",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/non-emptying.region/non-emptying.region"],function(e,t,i,n,s){"use strict";return n.Behavior.extend({"constructor":function(e,t){n.Behavior.prototype.constructor.apply(this,arguments),this.listenTo(t,"render",this.renderExtension),this.listenTo(t,"before:destroy",this.destroyExtension),this.listenTo(t,"dom:refresh",this.refreshTab)},"renderExtension":function(){var e=this.view.options,t=e.tabBarExtensionViewClass,i=e.tabBarExtensionViewOptions;t&&"function"==typeof t&&(this.tabBarExtensionView=new t(i),this.tabBarExtensionView.$el.addClass("tab-extension"),this.tabBarExtensionsRegion=new s({"el":this.view.el,"prependChild":!0}),this.tabBarExtensionsRegion.show(this.tabBarExtensionView)),this.view._initializeToolbars()},"refreshTab":function(){if(this.tabBarExtensionsRegion){var e=this.view.activeTab&&this.view.activeTab.get("tabIndex"),t=!0;if(this.view.options.enableExtensionOnFirstTab||0!=e||(t=!1),t){var i=this.tabBarExtensionsRegion.currentView.$el.outerWidth(!0)+.4,n="calc(100% - "+i+"px)";this.view.tabLinks.$el.width(n)}else this.view.tabLinks.$el.width("100%")}this.view._enableToolbarState()},"destroyExtension":function(){this.tabBarExtensionsRegion&&this.tabBarExtensionsRegion.empty()}})}),csui.define("hbs!csui/perspectives/tabbed/impl/tabbed.perspective",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div class="cs-header"></div>\r\n<div class="cs-content"></div>\r\n'}});return i.registerPartial("csui_perspectives_tabbed_impl_tabbed.perspective",n),n}),csui.define("css!csui/perspectives/tabbed/impl/tabbed.perspective",[],function(){}),csui.define("csui/perspectives/tabbed/tabbed.perspective.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/controls/tab.panel/tab.panel.view","csui/controls/grid/grid.view","csui/behaviors/widget.container/widget.container.behavior","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/utils/contexts/factories/active.tab.factory","csui/controls/tab.panel/tab.links.ext.scroll.mixin","csui/controls/tab.panel/tab.links.ext.view","csui/perspectives/tabbed/behaviors/tab.extensions.behavior","hbs!csui/perspectives/tabbed/impl/tabbed.perspective","css!csui/perspectives/tabbed/impl/tabbed.perspective"],function(e,t,i,n,s,o,r,a,l,c,u,d){"use strict";var h=s.RowView.extend({"cellView":function(e){var t=e.get("widget");if(t){var n=t.view;if(!n)throw new i.Error({"name":"UnresolvedWidgetError","message":'Widget "'+t.type+'" not resolved: '+t.error});return n}},"cellViewOptions":function(e){var t=e.get("widget");return{"context":this.options.context,"data":t&&t.options||{},"model":void 0}},"constructor":function(){s.RowView.prototype.constructor.apply(this,arguments)}}),p=n.extend({"contentView":h,"contentViewOptions":function(e){return{"context":this.options.context,"columns":e.get("columns")}},"constructor":function(i){i||(i={}),e.defaults(i,{"delayTabContent":!1,"toolbar":!0,"TabLinkCollectionViewClass":c,"tabBarExtensionViewClass":i.tabBarExtensionViewClass,"tabBarExtensionViewOptions":i.tabBarExtensionViewOptions,"enableExtensionOnFirstTab":i.enableExtensionOnFirstTab}),i.tabs&&e.each(i.tabs,function(t,i){e.each(t.columns,function(e,t){e.widget.cellAddress="tab"+i+":r0:c"+t})}),this.behaviors=e.extend({"TabExtensionsBehavior":{"behaviorClass":u}},this.behaviors),t(window).bind("resize",{"view":this},this._onWindowResize),n.prototype.constructor.call(this,i)},"_onWindowResize":function(e){e&&e.data&&e.data.view&&e.data.view._enableToolbarState()}});e.extend(p.prototype,l);var b=i.LayoutView.extend({"className":"cs-tabbed-perspective cs-perspective binf-container-fluid","template":d,"behaviors":{"WidgetContainer":{"behaviorClass":o}},"regions":{"headerRegion":"> .cs-header","contentRegion":"> .cs-content"},"constructor":function(e){e||(e={}),e=t.extend(!0,{},e),i.LayoutView.prototype.constructor.call(this,e),this.propagateEventsToRegions()},"onRender":function(){this.navigationHeader=this._createWidget(this.options.header.widget),this.tabPanel=new p(e.extend({"activeTab":this.activeTab,"delayTabContent":this.options.delayTabContent,"tabBarExtensionViewClass":this.navigationHeader.tabBarExtensionView,"tabBarExtensionViewOptions":this.navigationHeader.tabBarExtensionViewOptions,"enableExtensionOnFirstTab":this.navigationHeader.enableExtensionOnFirstTab},this.options)),this._updateToggleHeaderState(),this.listenTo(this.tabPanel,"activate:tab",this._updateToggleHeaderState),this.headerRegion.show(this.navigationHeader),this.contentRegion.show(this.tabPanel),this.headerRegion.$el.on(this._transitionEnd(),e.bind(function(e){e.target===this.headerRegion.el&&(this.$el.removeClass("cs-toggling"),this.triggerMethod("dom:refresh"))},this))},"onBeforeRender":function(){this.headerRegion&&this.headerRegion.$el&&this.headerRegion.$el.off(this._transitionEnd())},"onBeforeDestroy":function(){this.headerRegion&&this.headerRegion.$el&&this.headerRegion.$el.off(this._transitionEnd())},"enumerateWidgets":function(t){var i=this.options&&this.options.header&&this.options.header.widget;i&&t(i),e.each(this.options.tabs,function(i){e.each(i.columns||[],function(e){e.widget&&t(e.widget)})})},"_createWidget":function(e){var t=e.view;if(!t)throw new i.Error({"name":"UnresolvedWidgetError","message":'Widget not resolved: "'+e.type+'"'});return new t({"context":this.options.context,"data":e.options||{}})},"_updateToggleHeaderState":function(e,t,i){var n=i?i.model.collection.indexOf(i.model):this.activeTab&&this.activeTab.get("tabIndex")||0,s=0===n?"removeClass":"addClass",o=this.$el.hasClass("cs-collapse");("removeClass"===s&&o||"addClass"===s&&!o)&&(this.$el.addClass("cs-toggling"),this.$el[s]("cs-collapse"))},"_transitionEnd":e.once(function(){var e,t={"transition":"transitionend","WebkitTransition":"webkitTransitionEnd","MozTransition":"transitionend","OTransition":"oTransitionEnd otransitionend"},i=document.createElement("div");for(e in t)if(void 0!==i.style[e])return t[e]}),"_supportMaximizeWidget":!0});return e.extend(b.prototype,r),b}),csui.define("hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){return'  <div class="left-toolbar"></div>\r\n'},"3":function(e,t,i,n){return'  <div class="right-toolbar"></div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s,o;return(null!=(s=t.if.call(e,null!=e?e.toolbar:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?s:"")+'\r\n<div class="tab-links-bar">\r\n  <span class="fadeout"></span>\r\n  <ul class="binf-nav '+this.escapeExpression((o=null!=(o=t.tab_type||(null!=e?e.tab_type:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"tab_type","hash":{}}):o))+'" role="tablist"></ul>\r\n</div>\r\n\r\n'+(null!=(s=t.if.call(e,null!=e?e.toolbar:e,{"name":"if","hash":{},"fn":this.program(3,n,0),"inverse":this.noop}))?s:"")+'\r\n<div class="csui-pman-add-newtab">\r\n  <button class="icon icon-toolbarAdd" title="Add tab"></button>\r\n</div>\r\n'}});return i.registerPartial("csui_perspectives_tabbed-flow_impl_edit.perspective_tab.links",n),n}),csui.define("hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<a href="#'+this.escapeExpression((s=null!=(s=t.uniqueTabId||(null!=e?e.uniqueTabId:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"uniqueTabId","hash":{}}):s))+'" class="cs-tablink" data-binf-toggle="tab" title="'+this.escapeExpression((t["csui-l10n"]||e&&e["csui-l10n"]||t.helperMissing).call(e,null!=e?e.title:e,{"name":"csui-l10n","hash":{}}))+'">\r\n  <span class="cs-tablink-text">'+this.escapeExpression((t["csui-l10n"]||e&&e["csui-l10n"]||t.helperMissing).call(e,null!=e?e.title:e,{"name":"csui-l10n","hash":{}}))+'</span>\r\n  <input class="csui-pman-editinput binf-hidden" tabindex="-1">\r\n</a>\r\n<div class="cs-tablink-delete" title="'+this.escapeExpression((s=null!=(s=t.removeTab||(null!=e?e.removeTab:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"removeTab","hash":{}}):s))+'">\r\n  <span class="icon circle_delete cs-delete-icon" role="button" data-cstabindex="0"></span>\r\n</div>\r\n'}});return i.registerPartial("csui_perspectives_tabbed-flow_impl_edit.perspective_tab.link",n),n}),csui.define("csui/perspectives/tabbed-flow/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/perspectives/tabbed-flow/impl/nls/root/lang",{"deleteConfirmTitle":"Remove Tab","deleteConfirmMsg":"Are you sure, you want to remove Tab?","removeTab":"Remove Tab","newTabTitle":"Tab","newTabInput":"Add tab label"}),csui.define("css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link",[],function(){}),csui.define("csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link.view",["csui/lib/underscore","csui/controls/tab.panel/impl/tab.link.view","hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link","i18n!csui/perspectives/tabbed-flow/impl/nls/lang","csui/lib/binf/js/binf","css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link"],function(e,t,i,n){return t.extend({"template":i,"templateHelpers":function(){return{"removeTab":n.removeTab}},"className":function(){return this._isOptionActiveTab()?"pman-edit-tab binf-active":"pman-edit-tab"},"events":function(){return e.extend(t.prototype.events,{"click @ui.link":"_onShowTab","dblclick @ui.tabLink":"_onTabClick","keyup @ui.editInput":"_onInputKeydown","focusout @ui.editInput":"_onInputFocusOut","click @ui.tabRemove":"_onTabRemove"})},"ui":function(){return e.extend(t.prototype.ui,{"editInput":".csui-pman-editinput","tabLink":".cs-tablink-text","tabRemove":".cs-delete-icon"})},"_onShowTab":function(e){this.model.get("title")||(e.preventDefault(),e.stopPropagation())},"_onTabRemove":function(){var e=this;csui.require(["csui/dialogs/modal.alert/modal.alert"],function(t){t.confirmQuestion(n.deleteConfirmMsg,n.deleteConfirmTitle).done(function(t){t&&e._doRemoveTab()})})},"_doRemoveTab":function(){this.model.get("title")||this.trigger("enable:addTab"),this.trigger("remove:tab",this.model)},"_onTabClick":function(e){e.preventDefault(),e.stopPropagation(),this._editTab()},"_editTab":function(){var e;this.ui.tabLink.text()?(e=this.ui.tabLink.text(),this.ui.editInput.val(e)):(e=n.newTabInput,this.ui.editInput.attr("placeholder",n.newTabInput)),this._adjustInputWidth(e),this._setEdit(!0)},"_adjustInputWidth":function(e){this.ui.editInput.css("width",8*(e.length+1)+5+"px")},"_setEdit":function(e){e?(this.ui.tabLink.addClass("binf-hidden"),this.ui.editInput.removeClass("binf-hidden"),this.ui.editInput.focus()):(this.ui.tabLink.removeClass("binf-hidden"),this.ui.editInput.addClass("binf-hidden"))},"_onInputFocusOut":function(){if(!this.model.get("title"))return void this._doRemoveTab();this._setEdit(!1),this.trigger("enable:addTab")},"_onInputKeydown":function(e){var t=e.target.value;if(this._adjustInputWidth(t),!(t&&0!==t.length||13!=e.which&&27!=e.which))return void this._doRemoveTab();switch(e.which){case 13:this._setTabTitle(t);break;case 27:this._setEdit(!1)}},"_setTabTitle":function(e){this.ui.tabLink.text(e),this.model.set("title",e),this._setEdit(!1)},"onShow":function(){this.model.get("title")||(this.trigger("disable:addTab"),this._editTab())},"constructor":function(){t.prototype.constructor.apply(this,arguments)}})}),csui.define("css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links",[],function(){}),csui.define("csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links.view",["csui/lib/underscore","csui/controls/tab.panel/tab.links.ext.view","hbs!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links","csui/perspectives/tabbed-flow/impl/edit.perspective/tab.link.view","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","i18n!csui/perspectives/tabbed-flow/impl/nls/lang","csui/lib/binf/js/binf","css!csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links"],function(e,t,i,n,s,o){return t.extend({"template":i,"childView":n,"childViewContainer":function(){return"."+this.tabType},"ui":{"addNewTab":".csui-pman-add-newtab"},"events":{"click @ui.addNewTab":"_onAddNewTab"},"childViewOptions":function(t,i){return e.extend(this.options,{})},"childEvents":{"remove:tab":"_onRemoveTab","enable:addTab":"enableAddTab","disable:addTab":"disableAddTab"},"constructor":function(){t.prototype.constructor.apply(this,arguments)},"_onRemoveTab":function(e){var t=e.isActive(),i=this.collection.indexOf(e.model);if(this.collection.remove(e.model),t&&(i>=this.collection.length&&(i=this.collection.length-1),!(i<0))){var n=this.collection.at(i);this.children.findByModel(n).activate()}},"_onAddNewTab":function(){if(!this.ui.addNewTab.hasClass("csui-pman-disable-newtab")){var e={"title":""};this.options.tabPanel.collection.add(e)}},"enableAddTab":function(){this.ui.addNewTab.removeClass("csui-pman-disable-newtab")},"disableAddTab":function(){this.ui.addNewTab.addClass("csui-pman-disable-newtab")}})}),csui.define("csui/perspectives/tabbed-flow/tabbed-flow.perspective.view",["require","module","csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/models/widget/widget.collection","csui/models/widget/widget.model","csui/controls/tab.panel/tab.panel.view","csui/controls/grid/grid.view","csui/behaviors/widget.container/widget.container.behavior","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/utils/contexts/factories/active.tab.factory","csui/controls/tab.panel/tab.links.ext.scroll.mixin","csui/controls/tab.panel/tab.links.ext.view","csui/perspectives/tabbed/behaviors/tab.extensions.behavior","csui/utils/log","csui/perspectives/tabbed-flow/impl/edit.perspective/tab.links.view","hbs!csui/perspectives/tabbed/impl/tabbed.perspective","css!csui/perspectives/tabbed/impl/tabbed.perspective"],function(e,t,i,n,s,o,r,a,l,c,u,d,h,p,b,f,m,g,v){"use strict";var w=t.config();i.defaults(w,{"defaultWidgetKind":"tile","widgetSizes":{"fullpage":{"widths":{"xs":12}},"tile":{"widths":{"md":6,"xl":4}},"header":{"widths":{"xs":12,"md":8,"xl":6}}}});var y=c.RowView.extend({"cellView":function(e){var t=e.get("widget");if(t){if(!t.view)throw new o.Error({"name":"UnresolvedWidgetError","message":'Widget "'+t.type+'" not resolved:'+t.error});return t.view}},"cellViewOptions":function(e){var t=e.get("widget");return{"context":this.options.context,"data":t&&t.options||{},"model":void 0}},"constructor":function(e){e&&"edit"===e.perspectiveMode&&this._prepareForEditMode(e),c.RowView.prototype.constructor.apply(this,arguments),"edit"===this.options.perspectiveMode&&(this._initEditMode(),this._registerEditEvents())},"_prepareForEditMode":function(t){t.cellBehaviours={"PerspectiveWidgetConfig":{"behaviorClass":e("csui/perspective.manage/behaviours/pman.widget.config.behaviour"),"perspectiveView":this,"perspectiveSelector":".perspective-editing .cs-perspective #"+t.tabId}}},"_initEditMode":function(){var e=this,t={"type":"csui/perspective.manage/widgets/perspective.placeholder"};_._resolveWidget(t).done(function(i){var n=_._createCell(t,i);e.options.collection.add(n)})},"_registerEditEvents":function(){var e=this;this.listenTo(this,"delete:widget",function(t){var i=t.model;e.collection.remove(i)}),this.listenTo(this,"replace:widget",this._replaceWidget)},"_replaceWidget":function(e,t){if(this.getPManPlaceholderWidget){var i=this;_._resolveWidget(t).done(function(){e.model.get("widget").type!==i.getPManPlaceholderWidget().type&&(t.kind=e.model.get("widget").kind);var n=_._prepareCell(t);e.model.set(n);var s=i.getPManPlaceholderWidget(),o=i.collection;o.filter(function(e){return e.get("widget").type===s.type}).length>0||_._resolveWidget(s).done(function(e){var t=_._createCell(s,e,o.length);o.add(t)})})}}}),x=l.extend({"contentView":y,"contentViewOptions":function(e){return{"context":this.options.context,"columns":e.get("columns"),"perspectiveMode":this.options.perspectiveMode,"tabId":e.get("uniqueTabId")}},"constructor":function(e){e||(e={}),i.defaults(e,{"delayTabContent":!1,"toolbar":!0,"TabLinkCollectionViewClass":b,"tabBarExtensionViewClass":e.tabBarExtensionViewClass,"tabBarExtensionViewOptions":e.tabBarExtensionViewOptions,"enableExtensionOnFirstTab":e.enableExtensionOnFirstTab}),"edit"===e.perspectiveMode&&i.extend(e,{"TabLinkCollectionViewClass":g}),this.behaviors=i.extend({"TabExtensionsBehavior":{"behaviorClass":f}},this.behaviors),n(window).bind("resize",{"view":this},this._onWindowResize),l.prototype.constructor.call(this,e)},"render":function(){return l.prototype.render.apply(this),this.listenTo(this.collection,"change reset remove",i.bind(function(e){this._enableToolbarState()},this)),this.listenTo(this.collection,"add",i.bind(function(e){this._autoScrollLastTab()},this)),this},"onDomRefresh":function(){this._enableToolbarState()},"_onWindowResize":function(e){e&&e.data&&e.data.view&&e.data.view._enableToolbarState()}});i.extend(x.prototype,p);var T=o.ItemView.extend({"className":"cs-tabbed-perspective-header","constructor":function(t){if(t||(t={}),t.header||(t.header={}),"edit"===t.perspectiveMode){var n=e("csui/perspective.manage/behaviours/pman.widget.config.behaviour");this.behaviors=i.extend({"PerspectiveWidgetConfig":{"behaviorClass":n,"perspectiveView":this}},this.behaviors)}o.ItemView.call(this,i.extend({"template":!1},t)),"edit"===this.options.perspectiveMode&&(this._initEditMode(t),this._registerEditEvents())},"_initEditMode":function(e){!this.options.header.widget&&this.getPManPlaceholderWidget&&this._handleReplaceWidget(this,this.getPManPlaceholderWidget())},"_ensureRegion":function(){return this.headerContainer||(this.headerContainer=new o.Region({"el":this.el})),this.headerContainer},"onRender":function(){if(this.options.header.widget){this.navigationHeader=this._createWidget(this.options.header.widget);this._ensureRegion().show(this.navigationHeader)}},"_createWidget":function(e){var t=e.view;if(!t)throw new o.Error({"name":"UnresolvedWidgetError","message":'Widget not resolved: "'+e.type+'"'});return new t({"context":this.options.context,"data":e.options||{}})},"_registerEditEvents":function(){var e=this;this.listenTo(this,"delete:widget",function(t){if(e.getPManPlaceholderWidget){var i=e.getPManPlaceholderWidget();_._resolveWidget(i).done(function(){e._replaceWidget(i)})}}),this.listenTo(this,"replace:widget",this._handleReplaceWidget)},"_replaceWidget":function(e){this.options.header.widget=e,this.render()},"_handleReplaceWidget":function(e,t){var i=this;_._resolveWidget(t).done(function(){i._replaceWidget(t)})},"getPManWidgetConfig":function(){return this.options.header.widget}}),_=o.LayoutView.extend({"className":"cs-tabbed-perspective cs-perspective binf-container-fluid cs-tabbed-flow-perspective","template":v,"regions":{"headerRegion":"> .cs-header","contentRegion":"> .cs-content"},"constructor":function(e){e||(e={}),e=n.extend(!0,{},e),e.collection||(e.collection=this._createCollection(e)),o.LayoutView.prototype.constructor.call(this,e),this.propagateEventsToRegions()},"onRender":function(){this.headerView=new T(this.options),this.headerRegion.show(this.headerView),this.tabPanel=new x(i.extend({"activeTab":this.activeTab,"delayTabContent":this.options.delayTabContent,"tabBarExtensionViewClass":this.headerView.navigationHeader.tabBarExtensionView,"tabBarExtensionViewOptions":this.headerView.navigationHeader.tabBarExtensionViewOptions,"enableExtensionOnFirstTab":this.headerView.navigationHeader.enableExtensionOnFirstTab},this.options)),this._updateToggleHeaderState(),this.listenTo(this.tabPanel,"activate:tab",this._updateToggleHeaderState),this.contentRegion.show(this.tabPanel),this.headerRegion.$el.on(this._transitionEnd(),i.bind(function(e){e.target===this.headerRegion.el&&(this.$el.removeClass("cs-toggling"),this.triggerMethod("dom:refresh"))},this))},"onBeforeRender":function(){this.headerRegion&&this.headerRegion.$el&&this.headerRegion.$el.off(this._transitionEnd())},"onBeforeDestroy":function(){this.headerRegion&&this.headerRegion.$el&&this.headerRegion.$el.off(this._transitionEnd())},"_updateToggleHeaderState":function(e,t,i){if("edit"!==this.options.perspectiveMode){var n=i?i.model.collection.indexOf(i.model):this.activeTab&&this.activeTab.get("tabIndex")||0,s=0===n?"removeClass":"addClass",o=this.$el.hasClass("cs-collapse");("removeClass"===s&&o||"addClass"===s&&!o)&&(this.$el.addClass("cs-toggling"),this.$el[s]("cs-collapse"))}},"_transitionEnd":i.once(function(){var e,t={"transition":"transitionend","WebkitTransition":"webkitTransitionEnd","MozTransition":"transitionend","OTransition":"oTransitionEnd otransitionend"},i=document.createElement("div");for(e in t)if(void 0!==i.style[e])return t[e]}),"_createCollection":function(e){var t=new s.Collection(e.tabs),n=i.chain(e.tabs).map(function(e){return e.widgets}).flatten().pluck("type").unique().map(function(e){return{"id":e}}).value(),o=e.header&&e.header.widget,a=new r(n),l=this;return o&&a.add({"id":o.type}),t.each(function(e){e.set("id",i.uniqueId("cs-tab"))}),this.widgetsResolved=a.fetch().then(function(){if(o){var e=a.get(o.type),n=e.get("view");if(n)i.extend(o,{"view":n});else{var s=e.get("error");m.warn('Loading widget "{0}" failed. {1}',o.type,s)&&console.warn(m.last),i.extend(o,u.getErrorWidget(o,s))}}t.each(function(e){e.set("columns",l._createColumns(e.get("widgets"),a))})}),t},"_createColumns":function(e,t){return i.map(e,function(e){var i=t.get(e.type);return _._createCell(e,i)}.bind(this))}},{"_prepareCell":function(e){return e.kind||(e.kind=w.defaultWidgetKind),{"sizes":(w.widgetSizes[e.kind]||{}).widths,"widget":{"type":e.type,"options":e.options,"view":e.view}}},"_createCell":function(e,t){var n=t.get("view"),s=t.get("manifest")||{},o=s.supportedKinds,r=e.kind;r&&o&&i.contains(o,r)||(r=s.kind),e.kind=r,r||(r=w.defaultWidgetKind);w.widgetSizes[r];if(n)return e.view=n,_._prepareCell(e);var a=t.get("error");return m.warn('Loading widget "{0}" failed. {1}',e.type,a)&&console.warn(m.last),{"sizes":w.widgetSizes[w.defaultWidgetKind].widths,"widget":u.getErrorWidget(e,a)}},"_resolveWidget":function(e){var t=n.Deferred(),i=new a({"id":e.type});return i.fetch().then(function(){e.view=i.get("view"),t.resolve(i)},function(e){t.reject(e)}),t.promise()}});return i.extend(_.prototype,d),_}),csui.define("json!csui/utils/contexts/perspective/impl/perspectives/error.global.json",{"type":"grid","options":{"rows":[{"columns":[{"sizes":{"md":12},"heights":{"xs":"full"},"widget":{"type":"csui/widgets/error.global","options":{}}}]}]}}),csui.define("hbs!csui/widgets/error.global/impl/error.global",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var s;return"        <div class='server-error-message-wrapper'>\r\n          <div class='server-error-message horizontal-center-align'>\r\n            <span class='csui-acc-focusable' tabindex=0>"+this.escapeExpression((s=null!=(s=t.serverError||(null!=e?e.serverError:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"serverError","hash":{}}):s))+"</span>\r\n          </div>\r\n        </div>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s,o;return"<div class='main-area-container'>\r\n  <div class='main-area-group'>\r\n    <div class='error-message-area'>\r\n      <div class='error-message-wrapper'>\r\n        <div class='error-message horizontal-center-align'>\r\n          <span class='csui-acc-focusable' tabindex=0>"+this.escapeExpression((o=null!=(o=t.errorMessage||(null!=e?e.errorMessage:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"errorMessage","hash":{}}):o))+"</span>\r\n        </div>\r\n      </div>\r\n"+(null!=(s=t.if.call(e,null!=e?e.serverError:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?s:"")+"    </div>\r\n\r\n    <div class='navigation-area horizontal-center-align'>\r\n      <div class='navigation-control-container'>\r\n        <div class='go-back-button circle-border horizontal-center-align' tabindex=0\r\n          title='"+this.escapeExpression((o=null!=(o=t.backTooltip||(null!=e?e.backTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"backTooltip","hash":{}}):o))+"' aria-label='"+this.escapeExpression((o=null!=(o=t.backTooltip||(null!=e?e.backTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"backTooltip","hash":{}}):o))+"' class='csui-acc-focusable'>\r\n            <span class='icon icon-back'></span>\r\n        </div>\r\n        <div class='go-back-text button-text horizontal-center-align'\r\n          title='"+this.escapeExpression((o=null!=(o=t.backTooltip||(null!=e?e.backTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"backTooltip","hash":{}}):o))+"' aria-label='"+this.escapeExpression((o=null!=(o=t.backTooltip||(null!=e?e.backTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"backTooltip","hash":{}}):o))+"'>\r\n            <span>"+this.escapeExpression((o=null!=(o=t.backText||(null!=e?e.backText:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"backText","hash":{}}):o))+"</span>\r\n        </div>\r\n      </div>\r\n      <div class='navigation-control-container'>\r\n        <div class='go-home-button circle-border horizontal-center-align' tabindex=0\r\n          title='"+this.escapeExpression((o=null!=(o=t.homeTooltip||(null!=e?e.homeTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"homeTooltip","hash":{}}):o))+"' aria-label='"+this.escapeExpression((o=null!=(o=t.homeTooltip||(null!=e?e.homeTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"homeTooltip","hash":{}}):o))+"' class='csui-acc-focusable'>\r\n            <span class='icon icon-home'></span>\r\n        </div>\r\n        <div class='go-home-text button-text horizontal-center-align'\r\n          title='"+this.escapeExpression((o=null!=(o=t.homeTooltip||(null!=e?e.homeTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"homeTooltip","hash":{}}):o))+"' aria-label='"+this.escapeExpression((o=null!=(o=t.homeTooltip||(null!=e?e.homeTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"homeTooltip","hash":{}}):o))+"'>\r\n            <span>"+this.escapeExpression((o=null!=(o=t.homeText||(null!=e?e.homeText:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"homeText","hash":{}}):o))+"</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"}});return i.registerPartial("csui_widgets_error.global_impl_error.global",n),n}),csui.define("csui/widgets/error.global/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/error.global/impl/nls/root/lang",{"errorMessage":"There was a problem serving the requested page.","backText":"Go back","backTooltip":"Navigate back to previous URL","homeText":"Home",
"homeTooltip":"Navigate to landing page"}),csui.define("css!csui/widgets/error.global/impl/error.global",[],function(){}),csui.define("csui/widgets/error.global/error.global.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/base","csui/utils/contexts/factories/node","csui/utils/contexts/factories/application.scope.factory","csui/behaviors/keyboard.navigation/tabable.region.behavior","hbs!csui/widgets/error.global/impl/error.global","i18n!csui/widgets/error.global/impl/nls/lang","css!csui/widgets/error.global/impl/error.global"],function(e,t,i,n,s,o,r,a,l){return i.ItemView.extend({"className":"csui-global-error","template":a,"templateHelpers":function(){return{"errorMessage":l.errorMessage,"backText":l.backText,"backTooltip":l.backTooltip,"homeText":l.homeText,"homeTooltip":l.homeTooltip}},"TabableRegion":{"behaviorClass":r,"initialActivationWeight":100},"ui":{"errorMessage":".error-message > span"},"events":{"keydown":"onKeyInView","click .go-home-button":"onClickHome","click .go-home-text":"onClickHome","click .go-back-button":"onClickBack","click .go-back-text":"onClickBack"},"constructor":function(e){if(e||(e={}),i.ItemView.prototype.constructor.apply(this,arguments),e.context&&(this.model||(this.model=e.context.getModel(s,e)),this.applicationScope=e.context.getModel(o)),n.isIE11()){var r=this,a=function(){r.render()};t(window).bind("resize",a),this.once("before:destroy",function(){t(window).unbind("resize",a)})}},"currentlyFocusedElement":function(e){return this.ui.errorMessage},"onKeyInView":function(e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation(),t(e.target).click())},"onClickHome":function(e){e.preventDefault(),e.stopPropagation(),this.applicationScope&&this.applicationScope.set("id","")},"onClickBack":function(e){e.preventDefault(),e.stopPropagation(),window.history.back()}})}),csui.define("csui/widgets/myassignments/myassignments.columns",["csui/lib/backbone"],function(e){var t=e.Model.extend({"idAttribute":"key","defaults":{"key":null,"sequence":0}}),i=e.Collection.extend({"model":t,"comparator":"sequence","getColumnKeys":function(){return this.pluck("key")},"deepClone":function(){return new i(this.map(function(e){return e.attributes}))}});return new i([{"key":"type","sequence":10},{"key":"name","sequence":20},{"key":"location_id","sequence":30},{"key":"date_due","sequence":40},{"key":"priority","sequence":50},{"key":"status","sequence":60},{"key":"from_user_name","sequence":70}])}),csui.define("csui/widgets/myassignments/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/myassignments/impl/nls/root/lang",{"dialogTitle":"My Assignments","searchPlaceholder":"Search My Assignments","searchAria":"Search for assignments","expandAria":"Expand the My Assignments widget","emptyListText":"No results found.","loadingListText":"Loading results...","failedListText":"Loading results failed."}),csui.define("css!csui/widgets/myassignments/impl/myassignments",[],function(){}),csui.define("csui/widgets/myassignments/myassignments.view",["csui/lib/underscore","csui/utils/base","csui/lib/marionette","csui/controls/list/list.view","csui/controls/listitem/listitemstateful.view","csui/behaviors/limiting/limiting.behavior","csui/behaviors/expanding/expanding.behavior","csui/behaviors/default.action/default.action.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/controls/list/behaviors/list.view.keyboard.behavior","csui/behaviors/collection.state/collection.state.behavior","csui/controls/list/list.state.view","csui/utils/contexts/factories/myassignments","csui/controls/node-type.icon/node-type.icon.view","csui/controls/progressblocker/blocker","i18n!csui/widgets/myassignments/impl/nls/lang","css!csui/widgets/myassignments/impl/myassignments"],function(e,t,i,n,s,o,r,a,l,c,u,d,h,p,b,f){"use strict";return n.extend({"constructor":function(t){t||(t={}),e.defaults(t,{"orderBy":"date_due asc"}),t.data||(t.data={}),t.data.titleBarIcon=!1===t.data.showTitleIcon?void 0:"title-icon title-assignments",n.prototype.constructor.apply(this,arguments),b.imbue(this)},"childEvents":{"click:item":"onClickItem","render":"onRenderItem","before:destroy":"onBeforeDestroyItem"},"templateHelpers":function(){return{"title":this.options.data.title||f.dialogTitle,"icon":this.options.data.titleBarIcon,"searchPlaceholder":f.searchPlaceholder,"searchAria":f.searchAria,"expandAria":f.expandAria}},"childView":s,"childViewOptions":{"templateHelpers":function(){var e=this.model.get("date_due"),i=new Date(e),n=new Date,s=i<n?"Warning":"Success",o=t.formatFriendlyDate(e),r=this.model.get("description"),a=this.model.get("type_name");return a||(a="Workflow"),r||(r=a),{"name":this.model.get("short_name"),"enableIcon":!0,"description":r,"info":o,"infoState":s,"type":a}},"checkDefaultAction":!0},"behaviors":{"LimitedList":{"behaviorClass":o,"completeCollection":function(){var e=this.options.collection||this.options.context.getCollection(h);return e.excludeResources(),e.resetFields(),e.setFields({"assignments":["date_due","description","id","name","type","type_name","location_id","followup_id","workflow_id","workflow_open_in_smart_ui","workflow_subworkflow_id","workflow_subworkflow_task_id"]}),e.resetExpand(),e},"limit":0},"ExpandableList":{"behaviorClass":r,"expandedView":"csui/widgets/myassignments/impl/myassignmentstable.view","orderBy":function(){return this.options.orderBy},"titleBarIcon":function(){return this.options.data.titleBarIcon},"dialogTitle":f.dialogTitle,"dialogTitleIconRight":"icon-tileCollapse","dialogClassName":"assignments"},"DefaultAction":{"behaviorClass":a},"TabableRegion":{"behaviorClass":l},"ListViewKeyboardBehavior":{"behaviorClass":c},"CollectionState":{"behaviorClass":u,"collection":function(){return this.completeCollection},"stateView":d,"stateMessages":{"empty":f.emptyListText,"loading":f.loadingListText,"failed":f.failedListText}}},"onRender":function(){n.prototype.onRender.apply(this,arguments),this.$el.addClass("cs-assignments")},"onRenderItem":function(e){e._nodeIconView=new p({"el":e.$(".csui-type-icon").get(0),"node":e.model}),e._nodeIconView.render(),e.$el.attr("role","option")},"onBeforeDestroyItem":function(e){e._nodeIconView&&e._nodeIconView.destroy()},"onClickItem":function(e){this.triggerMethod("execute:defaultAction",e.model)},"onClickHeader":function(e){this.triggerMethod("expand")}})}),csui.define("hbs!csui/widgets/placeholder/impl/placeholder",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return this.escapeExpression((s=null!=(s=t.label||(null!=e?e.label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"label","hash":{}}):s))+"\r\n"}});return i.registerPartial("csui_widgets_placeholder_impl_placeholder",n),n}),csui.define("css!csui/widgets/placeholder/impl/placeholder",[],function(){}),csui.define("csui/widgets/placeholder/placeholder.view",["csui/lib/backbone","csui/lib/marionette","hbs!./impl/placeholder","css!./impl/placeholder"],function(e,t,i){return t.ItemView.extend({"className":"cs-placeholder tile","template":i,"constructor":function(i){i||(i={}),i.data||(i.data={}),i.model||(i.model=new e.Model({"label":i.data.label,"bgcolor":i.data.bgcolor,"color":i.data.color})),t.ItemView.prototype.constructor.call(this,i)},"onRender":function(){this.$el.css({"color":this.model.get("color"),"backgroundColor":this.model.get("bgcolor")})}})}),csui.define("csui/widgets/recentlyaccessed/recentlyaccessed.columns",["csui/lib/backbone"],function(e){var t=e.Model.extend({"idAttribute":"key","defaults":{"key":null,"sequence":0}}),i=e.Collection.extend({"model":t,"comparator":"sequence","getColumnKeys":function(){return this.pluck("key")},"deepClone":function(){return new i(this.map(function(e){return e.attributes}))}});return new i([{"key":"type","sequence":10},{"key":"name","sequence":20},{"key":"reserved","sequence":30,"noTitleInHeader":!0},{"key":"parent_id","sequence":40},{"key":"access_date_last","sequence":50},{"key":"size","sequence":60},{"key":"modify_date","sequence":70},{"key":"favorite","sequence":910,"noTitleInHeader":!0,"permanentColumn":!0}])}),csui.define("csui/widgets/recentlyaccessed/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/recentlyaccessed/impl/nls/root/lang",{"dialogTitle":"Recently Accessed","searchPlaceholder":"Search Recently Accessed","searchAria":"Search for recently accessed objects","expandAria":"Expand the Recently Accessed widget","emptyListText":"There are no items to display.","loadingListText":"Loading results...","failedListText":"Loading results failed.","access_date_last":"Last Accessed","parent_id":"Location"}),csui.define("css!csui/widgets/recentlyaccessed/impl/recentlyaccessed",[],function(){}),csui.define("csui/widgets/recentlyaccessed/recentlyaccessed.view",["csui/lib/underscore","csui/lib/marionette","csui/controls/list/list.view","csui/controls/listitem/listitemstandard.view","csui/behaviors/limiting/limiting.behavior","csui/behaviors/expanding/expanding.behavior","csui/behaviors/default.action/default.action.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/controls/list/behaviors/list.view.keyboard.behavior","csui/behaviors/collection.state/collection.state.behavior","csui/controls/list/list.state.view","csui/utils/contexts/factories/recentlyaccessed","csui/controls/node-type.icon/node-type.icon.view","csui/controls/progressblocker/blocker","csui/utils/defaultactionitems","csui/utils/commands","i18n!csui/widgets/recentlyaccessed/impl/nls/lang","csui/controls/globalmessage/globalmessage","csui/utils/base","css!csui/widgets/recentlyaccessed/impl/recentlyaccessed"],function(e,t,i,n,s,o,r,a,l,c,u,d,h,p,b,f,m,g,v){"use strict";var w=/\baccessibleTable\b(?:=([^&]*)?)?/i.exec(location.search);return w=w&&"false"!==w[1],i.extend({"constructor":function(t){t||(t={}),e.defaults(t,{"orderBy":"access_date_last desc"}),t.data||(t.data={}),t.data.titleBarIcon=!1===t.data.showTitleIcon?void 0:"title-icon title-recentlyaccessed",t.tileViewToolbarItems="csui/widgets/recentlyaccessed/tileview.toolbaritems",this.context=t.context,this.showInlineActionBar=!w,i.prototype.constructor.call(this,t),p.imbue(this)},"childEvents":{"click:item":"onClickItem","render":"onRenderItem","before:destroy":"onBeforeDestroyItem"},"templateHelpers":function(){return{"title":this.options.data.title||m.dialogTitle,"icon":this.options.data.titleBarIcon,"searchPlaceholder":m.searchPlaceholder,"searchAria":m.searchAria,"expandAria":m.expandAria}},"childView":n,"childViewOptions":function(){return{"templateHelpers":function(){return{"name":this.model.get("short_name"),"enableIcon":!0,"showInlineActionBar":!w}},"context":this.context,"checkDefaultAction":!0,"toolbarData":{"toolbaritems":this.options.tileViewToolbarItems,"collection":this.completeCollection}}},"behaviors":{"LimitedList":{"behaviorClass":s,"completeCollection":function(){var e=this.options.collection||this.options.context.getCollection(d),t=d.getLimitedResourceScope();return e.setResourceScope(t),e.setEnabledDelayRestCommands(!0),e.setEnabledLazyActionCommands(!1),e},"limit":0},"ExpandableList":{"behaviorClass":o,"expandedView":"csui/widgets/recentlyaccessed/impl/recentlyaccessedtable.view","orderBy":function(){return this.options.orderBy},"titleBarIcon":function(){return this.options.data.titleBarIcon},"dialogTitle":m.dialogTitle,"dialogTitleIconRight":"icon-tileCollapse","dialogClassName":"recentlyaccessed"},"DefaultAction":{"behaviorClass":r},"TabableRegion":{"behaviorClass":a},"ListViewKeyboardBehavior":{"behaviorClass":l},"CollectionState":{"behaviorClass":c,"collection":function(){return this.completeCollection},"stateView":u,"stateMessages":{"empty":m.emptyListText,"loading":m.loadingListText,"failed":m.failedListText}}},"onRender":function(){i.prototype.onRender.apply(this,arguments),this.$el.addClass("cs-recentlyaccessed"),this.completeCollection.delayedActions&&this.listenTo(this.completeCollection.delayedActions,"error",function(e,t,i){var n=new v.Error(t);g.showMessage("error",n.message)})},"onRenderItem":function(e){e._nodeIconView=new h({"el":e.$(".csui-type-icon").get(0),"node":e.model}),e._nodeIconView.render(),e.$el.attr("role","option")},"onBeforeDestroyItem":function(e){e._nodeIconView&&e._nodeIconView.destroy()},"onClickItem":function(e){this.triggerMethod("execute:defaultAction",e.model)},"onClickHeader":function(e){this.triggerMethod("expand")}})}),csui.define("hbs!csui/widgets/shortcut/impl/shortcut",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="tile-header">\r\n  <div class="tile-title">\r\n    <h2 class="csui-heading">'+this.escapeExpression((s=null!=(s=t.short_name||(null!=e?e.short_name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"short_name","hash":{}}):s))+'</h2>\r\n  </div>\r\n</div>\r\n\r\n<div class="tile-icon">\r\n  <div class="icon '+this.escapeExpression((s=null!=(s=t.icon||(null!=e?e.icon:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"icon","hash":{}}):s))+'" title="'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"title","hash":{}}):s))+'"></div>\r\n</div>\r\n'}});return i.registerPartial("csui_widgets_shortcut_impl_shortcut",n),n}),csui.define("csui/widgets/shortcut/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/shortcut/impl/nls/root/lang",{"loadingText":"Loading..."}),csui.define("css!csui/widgets/shortcut/impl/shortcut",[],function(){}),csui.define("csui/widgets/shortcut/shortcut.view",["csui/lib/backbone","csui/lib/marionette","csui/behaviors/default.action/default.action.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/behaviors/item.error/item.error.behavior","csui/utils/contexts/factories/node","csui/utils/node.links/node.links","csui/utils/defaultactionitems","csui/utils/commands","hbs!csui/widgets/shortcut/impl/shortcut","i18n!csui/widgets/shortcut/impl/nls/lang","css!csui/widgets/shortcut/impl/shortcut"],function(e,t,i,n,s,o,r,a,l,c,u){"use strict";return t.ItemView.extend({"tagName":"a","attributes":{"href":"#"},"className":function(){return"cs-shortcut tile "+(this.options.data.background||"cs-tile-background-default")},"modelEvents":{"change":"render"},"triggers":{"click":"click:link"},"template":c,"templateHelpers":function(){var e,t,i;return this.model.fetched?(e=this.model.get("name")||"",t=e.length>38?e.substr(0,38)+"...":e,i=t.indexOf(" "),t.length>=20&&(i<0||i>20)&&(t=t.substr(0,18)+"...")):t=u.loadingText,{"short_name":t,"icon":this.options.data.icon||"icon-folder","title":this.model.get("name")}},"behaviors":{"DefaultAction":{"behaviorClass":i},"TabableRegion":{"behaviorClass":n},"ItemError":{"behaviorClass":s}},"events":{"keydown":"onKeyInView"},"currentlyFocusedElement":function(){return this.$el},"onKeyInView":function(e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation(),this.triggerMethod("click:link"))},"constructor":function(e){e||(e={}),e.data||(e.data={}),e.model||(e.model=e.context.getModel(o,{"attributes":{"id":e.data.id||"volume","type":e.data.type}})),t.ItemView.prototype.constructor.call(this,e),this.model.excludeResources(),this.model.resetFields(),this.model.setFields({"properties":["container","id","name","original_id","type"],"versions.element(0)":["mime_type"]}),this.model.resetExpand(),this.model.setExpand({"properties":["original_id"]}),this.model.resetCommands(),this.model.setCommands(a.getAllCommandSignatures(l))},"onRender":function(){var e=!this.model.fetched||!this.defaultActionController.hasAction(this.model);this.$el[e?"addClass":"removeClass"]("csui-disabled"),this.$el.attr("href",r.getUrl(this.model)||"#")},"onClickLink":function(){this.triggerMethod("execute:defaultAction",this.model)}})}),csui.define("hbs!csui/widgets/shortcuts/impl/shortcut/impl/small.shortcut",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="csui-details">\r\n    <div class="tile-icon">\r\n        <div class="icon '+this.escapeExpression((s=null!=(s=t.icon||(null!=e?e.icon:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"icon","hash":{}}):s))+'" title="'+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"name","hash":{}}):s))+'" aria-hidden="true"></div>\r\n    </div>\r\n\r\n    <div class="tile-title">\r\n        <h2 class="csui-heading" aria-label="'+this.escapeExpression((s=null!=(s=t.shortcutAria||(null!=e?e.shortcutAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"shortcutAria","hash":{}}):s))+'">'+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"name","hash":{}}):s))+"</h2>\r\n    </div>\r\n</div>\r\n"}});return i.registerPartial("csui_widgets_shortcuts_impl_shortcut_impl_small.shortcut",n),n}),csui.define("hbs!csui/widgets/shortcuts/impl/shortcut/impl/medium.shortcut",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="csui-details">\r\n    <div class="tile-icon">\r\n        <div class="icon '+this.escapeExpression((s=null!=(s=t.icon||(null!=e?e.icon:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"icon","hash":{}}):s))+'" title="'+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"name","hash":{}}):s))+'" aria-hidden="true"></div>\r\n    </div>\r\n\r\n    <div class="tile-title">\r\n        <h2 class="csui-heading" aria-label="'+this.escapeExpression((s=null!=(s=t.shortcutAria||(null!=e?e.shortcutAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"shortcutAria","hash":{}}):s))+'">'+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"name","hash":{}}):s))+"</h2>\r\n    </div>\r\n</div>\r\n"}});return i.registerPartial("csui_widgets_shortcuts_impl_shortcut_impl_medium.shortcut",n),n}),csui.define("hbs!csui/widgets/shortcuts/impl/shortcut/impl/large.shortcut",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="tile-header">\r\n    <div class="tile-title">\r\n        <h2 class="csui-heading" aria-label="'+this.escapeExpression((s=null!=(s=t.shortcutAria||(null!=e?e.shortcutAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"shortcutAria","hash":{}}):s))+'">'+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"name","hash":{}}):s))+'</h2>\r\n    </div>\r\n</div>\r\n\r\n<div class="tile-icon">\r\n    <div class="icon '+this.escapeExpression((s=null!=(s=t.icon||(null!=e?e.icon:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"icon","hash":{}}):s))+'" title="'+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"name","hash":{}}):s))+'" aria-hidden="true"></div>\r\n</div>\r\n'}});return i.registerPartial("csui_widgets_shortcuts_impl_shortcut_impl_large.shortcut",n),n}),csui.define("csui/widgets/shortcuts/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/shortcuts/impl/nls/root/lang",{"loadingText":"Loading...","shortcutPrefixAria":"Shortcut to"}),csui.define("css!csui/widgets/shortcuts/impl/shortcut/impl/shortcut",[],function(){}),csui.define("css!csui/widgets/shortcuts/impl/shortcut/impl/small.shortcut",[],function(){}),csui.define("css!csui/widgets/shortcuts/impl/shortcut/impl/medium.shortcut",[],function(){}),csui.define("css!csui/widgets/shortcuts/impl/shortcut/impl/large.shortcut",[],function(){}),csui.define("csui/widgets/shortcuts/impl/shortcut/shortcut.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/behaviors/default.action/default.action.behavior","csui/behaviors/item.error/item.error.behavior","csui/utils/contexts/factories/node","csui/utils/defaultactionitems","csui/utils/commands","hbs!csui/widgets/shortcuts/impl/shortcut/impl/small.shortcut","hbs!csui/widgets/shortcuts/impl/shortcut/impl/medium.shortcut","hbs!csui/widgets/shortcuts/impl/shortcut/impl/large.shortcut","i18n!csui/widgets/shortcuts/impl/nls/lang","css!csui/widgets/shortcuts/impl/shortcut/impl/shortcut","css!csui/widgets/shortcuts/impl/shortcut/impl/small.shortcut","css!csui/widgets/shortcuts/impl/shortcut/impl/medium.shortcut","css!csui/widgets/shortcuts/impl/shortcut/impl/large.shortcut"],function(e,t,i,n,s,o,r,a,l,c,u,d,h){"use strict";return n.ItemView.extend({"constructor":function(e){e||(e={}),e.data||(e.data={}),e.data.icon=e.data.icon||"icon-folder",e.data.theme=e.data.theme||"csui-shortcut-theme-grey-shade1",e.data.layout=e.data.layout||"small",e.model=e.context.getModel(r,{"attributes":{"id":e.data.id||"volume","type":e.data.type}}),n.ItemView.prototype.constructor.call(this,e),this.model.excludeResources(),this.model.resetFields(),this.model.setFields({"properties":["container","id","name","original_id","type"],"versions.element(0)":["mime_type"]}),this.model.resetExpand(),this.model.setExpand({"properties":["original_id"]}),this.model.resetCommands(),this.model.setCommands(a.getAllCommandSignatures(l))},"tagName":"a","className":function(){var e=[];return e.push("csui-shortcut-item"),e.push("csui-acc-focusable"),e.push(this.options.data.theme),e.push("csui-"+this.options.data.layout),e.join(" ")},"getTemplate":function(){return"small"===this.options.data.layout?c:"medium"===this.options.data.layout?u:d},"templateHelpers":function(){var e=this.model.fetched?this.model.get("name"):h.loadingText;return{"icon":this.options.data.icon,"name":e,"shortcutAria":h.shortcutPrefixAria+" "+e}},"onRender":function(){this.$el.attr("role","menuitem"),this.model.fetched&&this.defaultActionController.hasAction(this.model)?this.$el.removeClass("csui-disabled"):this.$el.addClass("csui-disabled"),this.model.error?this.$el.addClass("csui-failed"):this.$el.removeClass("csui-failed")},"behaviors":{"DefaultAction":{"behaviorClass":s},"ItemError":{"behaviorClass":o,"errorViewOptions":function(){return{"low":"small"===this.options.data.layout}}}},"modelEvents":{"change":"render"},"events":{"click":"onClicked"},"onClicked":function(){this.triggerMethod("execute:defaultAction",this.model)}})}),csui.define("hbs!csui/widgets/shortcuts/impl/shortcuts",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var s;return'  <div class="csui-shortcut-region csui-region-'+this.escapeExpression((s=null!=(s=t.layout||(null!=e?e.layout:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"layout","hash":{},"data":n}):s))+" shortcut-region-"+this.escapeExpression((s=null!=(s=t.index||n&&n.index)?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"index","hash":{},"data":n}):s))+'" ></div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return null!=(s=t.each.call(e,null!=e?e.items:e,{"name":"each","hash":{},"fn":this.program(1,n,0),"inverse":this.noop,"data":n}))?s:""},"useData":!0});return i.registerPartial("csui_widgets_shortcuts_impl_shortcuts",n),n}),csui.define("css!csui/widgets/shortcuts/impl/shortcuts",[],function(){}),csui.define("csui/widgets/shortcuts/shortcuts.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/widgets/shortcuts/impl/shortcut/shortcut.view","hbs!csui/widgets/shortcuts/impl/shortcuts","css!csui/widgets/shortcuts/impl/shortcuts"],function(e,t,i,n,s,o,r){"use strict";var a=["shade1","shade2","shade3","shade4"];return n.LayoutView.extend({"constructor":function(e){e||(e={}),e.data||(e.data={"shortcutItems":[]}),n.LayoutView.prototype.constructor.call(this,e),this._setupItems(),this._currentShortcutIndex=0},"_setupItems":function(){var t=this;t._items=e.map(e.first(this.options.data.shortcutItems,4),function(e,i,n){var s,o=t._getShortcutTheme(i,n.length);return s=1===t.options.data.shortcutItems.length?"large":2===t.options.data.shortcutItems.length?"medium":"small",{"id":e.id||e.lauchButtonID,"type":e.type,"layout":s,"shortcutView":t._getShortcutView(e.id||e.launchButtonID,e.type,t.options.context,s,o)}})},"tagName":"div","className":"csui-shortcut-container tile","regions":{"shortcut0":".shortcut-region-0","shortcut1":".shortcut-region-1","shortcut2":".shortcut-region-2","shortcut3":".shortcut-region-3"},"_getShortcutTheme":function(e,t){var i=this.options.data.shortcutTheme?this.options.data.shortcutTheme:"csui-shortcut-theme-grey";return t>1&&(e+=4-t,i+="-"+a[e]),i},"_getShortcutView":function(e,t,i,n,s){return new o({"data":{"id":e,"type":t,"theme":s,"layout":n},"context":i})},"template":r,"templateHelpers":function(){return{"items":this._items}},"onRender":function(){var t=this;this.$el.attr("role","menu"),e.each(this._items,function(e,i){t.getRegion("shortcut"+i).show(e.shortcutView)})},"behaviors":{"TabableRegion":{"behaviorClass":s}},"events":{"keydown":"onKeyInView"},"currentlyFocusedElement":function(){return this._items[this._currentShortcutIndex].shortcutView.$el},"onKeyInView":function(e){38===e.keyCode?this._selectPreviousShortcut():40===e.keyCode?this._selectNextShortcut():32!==e.keyCode&&13!==e.keyCode||this.currentlyFocusedElement().click()},"_selectNextShortcut":function(){var e=Math.min(this._currentShortcutIndex+1,this._items.length-1);this._selectShortcut(e)},"_selectPreviousShortcut":function(){var e=Math.max(this._currentShortcutIndex-1,0);this._selectShortcut(e)},"_selectShortcut":function(e){e!==this._currentShortcutIndex&&(this._currentShortcutIndex=e,this.trigger("changed:focus",this),this.currentlyFocusedElement().focus())}})}),csui.define("csui/widgets/welcome.placeholder/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/welcome.placeholder/impl/nls/root/lang",{"greetingWithName":"Hello {0}","greetingWithoutName":"Hello","greetingMorning":"Good morning, {0}!","greetingAfternoon":"Good afternoon, {0}!","greetingEvening":"Good evening, {0}!","videoLabel":"Smart UI introduction video","videoSrc":"//sunnyside.vidavee.com/opentext/rest/file/GetFileAsset/191B9D509053D8BF4B3901CDE6941A13/cs-smart-ui.mp4","videoPoster":"//sunnyside.vidavee.com/opentext/rest/file/GetFileThumbnail/191B9D509053D8BF4B3901CDE6941A13/thumbnail.jpg","message":"As a foundational technology in the Digital Workplace, OpenText Content Suite 16 will pave the way to personal productivity, seamless collaboration, and integration with business processes."}),csui.define("hbs!csui/widgets/welcome.placeholder/impl/welcome.video/welcome.video",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'\r\n  <div class="binf-modal-dialog">\r\n    <div class="binf-modal-content csui-video">\r\n      <video  preload="none"\r\n             poster="'+this.escapeExpression((s=null!=(s=t.videoPoster||(null!=e?e.videoPoster:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"videoPoster","hash":{}}):s))+'"\r\n             controls="controls">\r\n        <source\r\n          src="'+this.escapeExpression((s=null!=(s=t.videoSrc||(null!=e?e.videoSrc:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"videoSrc","hash":{}}):s))+'"\r\n          type="video/mp4">\r\n        </source>\r\n      </video>\r\n\r\n    </div>\r\n  </div>\r\n'}});return i.registerPartial("csui_widgets_welcome.placeholder_impl_welcome.video_welcome.video",n),n}),csui.define("css!csui/widgets/welcome.placeholder/impl/welcome.video/welcome.video",[],function(){}),csui.define("csui/widgets/welcome.placeholder/impl/welcome.video/welcome.video.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/base","csui/utils/url","csui/utils/contexts/factories/node","i18n!csui/widgets/welcome.placeholder/impl/nls/lang","csui/behaviors/keyboard.navigation/tabables.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","hbs!csui/widgets/welcome.placeholder/impl/welcome.video/welcome.video","css!csui/widgets/welcome.placeholder/impl/welcome.video/welcome.video","csui/lib/binf/js/binf"],function(e,t,i,n,s,o,r,a,l,c){return i.ItemView.extend({"_dataDefaults":{"videoSrc":r.videoSrc,"videoPoster":r.videoPoster},"className":"cs-dialog welcome-video binf-modal binf-fade","template":c,"events":{"hide.binf.modal":"onDestroy","hidden.binf.modal":"onDestroy","keydown video":"onKeyDown","shown.binf.modal":"onShown"},"templateHelpers":function(){var e=this.options.data;return{"videoSrc":e.videoSrc,"videoPoster":e.videoPoster}},"behaviors":{"TabablesBehavior":{"behaviorClass":a,"recursiveNavigation":!0,"containTabFocus":!0},"TabableRegion":{"behaviorClass":l}},"currentlyFocusedElement":function(){return this.$el},"constructor":function(t){t||(t={}),t.data||(t.data={}),e.each(this._dataDefaults,function(e,i){t.data[i]||(t.data[i]=e)}),i.ItemView.prototype.constructor.apply(this,arguments),this.connection=t.context.getModel(o).connector.connection},"onKeyDown":function(e){27===e.keyCode&&this.destroy()},"onDestroy":function(){a.popTabableHandler(),this.$el.remove()},"show":function(){this.render(),n.isAppleMobile()&&this.$el.addClass("mobile"),this.$el.binf_modal("show")},"onShown":function(){this.$("video").focus()}})}),csui.define("hbs!csui/widgets/welcome.placeholder/impl/welcome.placeholder",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var s;return'  <button class="csui-videoButton" aria-label="'+this.escapeExpression((s=null!=(s=t.videoLabel||(null!=e?e.videoLabel:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"videoLabel","hash":{}}):s))+'"></button>\r\n'},"3":function(e,t,i,n){var s;return'  <div class="csui-message">\r\n    <p title="'+this.escapeExpression((s=null!=(s=t.message||(null!=e?e.message:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"message","hash":{}}):s))+'">'+this.escapeExpression((s=null!=(s=t.message||(null!=e?e.message:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"message","hash":{}}):s))+"</p>\r\n  </div>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s,o;return'\r\n<div class="csui-hero-tile">\r\n  <div class="csui-greeting">'+this.escapeExpression((o=null!=(o=t.greeting||(null!=e?e.greeting:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"greeting","hash":{}}):o))+"</div>\r\n\r\n"+(null!=(s=t.if.call(e,null!=e?e.includeVideo:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?s:"")+(null!=(s=t.if.call(e,null!=e?e.includeMessage:e,{"name":"if","hash":{},"fn":this.program(3,n,0),"inverse":this.noop}))?s:"")+"\r\n</div>"}});return i.registerPartial("csui_widgets_welcome.placeholder_impl_welcome.placeholder",n),n}),csui.define("css!csui/widgets/welcome.placeholder/impl/welcome.placeholder",[],function(){}),csui.define("csui/widgets/welcome.placeholder/welcome.placeholder.view",["csui/lib/jquery","csui/lib/underscore","csui/lib/marionette","csui/utils/base","csui/utils/contexts/factories/user","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/widgets/welcome.placeholder/impl/welcome.video/welcome.video.view","i18n!csui/widgets/welcome.placeholder/impl/nls/lang","hbs!csui/widgets/welcome.placeholder/impl/welcome.placeholder","css!csui/widgets/welcome.placeholder/impl/welcome.placeholder"],function(e,t,i,n,s,o,r,a,l){return i.ItemView.extend({"_dataDefaults":{"includeMessage":!0,"includeVideo":!0,"message":a.message},"className":"tile hero","template":l,"ui":{
"welcomeMessageContainer":"> .csui-hero-tile .csui-message","welcomeMessage":"> .csui-hero-tile .csui-message > p"},"behaviors":{"TabableRegion":{"behaviorClass":o}},"triggers":{"click .csui-hero-tile":"show:video"},"templateHelpers":function(){var e=this.options.data,i=this.user.get("first_name"),n=new Date,s=n.getHours(),o=s<12?a.greetingMorning:s<18?a.greetingAfternoon:a.greetingEvening;return o=i?t.str.sformat(o,i):o.replace(/, |\{0\}/g,""),{"videoSrc":e.videoSrc,"videoPoster":e.videoPoster,"includeMessage":e.includeMessage,"includeVideo":e.includeVideo,"greeting":o,"message":e.message,"videoLabel":a.videoLabel}},"events":{"keydown":"onKeyInView"},"currentlyFocusedElement":function(){return this.$el},"onKeyInView":function(e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation(),this.triggerMethod("show:video"))},"constructor":function(n){n||(n={}),n.data||(n.data={}),t.each(this._dataDefaults,function(e,t){var i=n.data[t];null!=i&&""!==i||(n.data[t]=e)}),i.ItemView.call(this,n),this.user=n.context.getModel(s),this.listenTo(this.user,"change",this._displayUsername),e(window).bind("resize.app",this.render),this.listenTo(this,"dom:refresh",this._setTextEllipse)},"onRender":function(){var e=this.templateHelpers();e.includeVideo&&this.$el.attr("aria-label",e.greeting+" "+e.videoLabel)},"onDestroy":function(){e(window).unbind("resize.app",this.render)},"onShowVideo":function(){new r(this.options).show()},"_setTextEllipse":function(){var e=this.ui.welcomeMessage,t=this.ui.welcomeMessageContainer.height();if(parseInt(e.css("line-height"),10)+2<t){for(;e.outerHeight()>t;){var i=e.text(),n=i.replace(/\W*\s(\S)*$/,"...");if(!(n.length<i.length))break;e.text(n)}this.ui.welcomeMessageContainer.removeClass("binf-hidden")}else this.ui.welcomeMessageContainer.addClass("binf-hidden")}})}),csui.define("hbs!csui/widgets/html.editor/impl/cslink.preview/cslink.preview",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){return'      <div id="cs-link-content" class="cs-link-content"></div>\r\n'},"3":function(e,t,i,n){var s,o;return'      <div id="cs-link-image" class="cs-link-image">'+(null!=(o=null!=(o=t.LinkPreviewImage||(null!=e?e.LinkPreviewImage:e))?o:t.helperMissing,s="function"==typeof o?o.call(e,{"name":"LinkPreviewImage","hash":{}}):o)?s:"")+"</div>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s,o;return'<div id="cs-link" class="cs-link">\r\n  <div class="cs-link-popoverhead">\r\n    <div id="cs-link-heading" class="cs-link-heading">'+this.escapeExpression((o=null!=(o=t.LinkHeading||(null!=e?e.LinkHeading:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"LinkHeading","hash":{}}):o))+'</div>\r\n    <div id="cs-link-expand" class="cs-link-expand cs-link-expand-icon"></div>\r\n  </div>\r\n  <div class="cs-link-preview-content">\r\n'+(null!=(s=t.if.call(e,null!=e?e.isPreviewContent:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?s:"")+(null!=(s=t.if.call(e,null!=e?e.isLinkPreviewImage:e,{"name":"if","hash":{},"fn":this.program(3,n,0),"inverse":this.noop}))?s:"")+"  </div>\r\n</div>"}});return i.registerPartial("csui_widgets_html.editor_impl_cslink.preview_cslink.preview",n),n}),csui.define("css!csui/widgets/html.editor/impl/cslink.preview/cslink.preview",[],function(){}),csui.define("csui/widgets/html.editor/impl/cslink.preview/cslink.preview.view",["csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/behaviors/default.action/default.action.behavior","csui/controls/rich.text.editor/impl/rich.text.util","csui/models/node/node.model","csui/utils/commands","csui/utils/url","hbs!csui/widgets/html.editor/impl/cslink.preview/cslink.preview","i18n!csui/widgets/html.editor/impl/nls/lang","css!csui/widgets/html.editor/impl/cslink.preview/cslink.preview"],function(e,t,i,n,s,o,r,a,l,c,u){return n.ItemView.extend({"template":c,"className":"cs-link","behaviors":{"DefaultAction":{"behaviorClass":s}},"subTypeName":"wiki","constructor":function(e){e||(e={}),n.ItemView.prototype.constructor.call(this,e),this.options=e,this.subTypeName=e.subTypeName||this.subTypeName,this.modelFetched=!1,this.linkPreviewContent=null,this.linkPreviewImage=null;var t=this;this._obtainId().done(function(){t._executeProcess()})},"_obtainId":function(){this.id=this.options.objId||-1;var t=this.options.targetEle,i=t.href||t.closest("a").href,n=i.match(/^.*\/open\/(.+)$/i)||i.match(/^.*\/nodes\/(.+)$/i),s=e.Deferred(),r=this,a=!0;if(this.options.isSameDomain&&n)if(isNaN(parseInt(n[1]))){a=!1;var l,c=this.options.targetEle.href&&this.options.targetEle.href.substring(this.options.targetEle.href.lastIndexOf("/")+1,this.options.targetEle.href.length);o._getNicknameId(r.options,c).done(function(e){l=o.getNewNodeModel({},{"connector":r.options.connector}),l.attributes=l.parse(e),l=o.getNewNodeModel({"attributes":l.attributes},{"connector":r.options.connector}),r.model=l,r.id=r.model.get("id"),s.resolve()}).fail(function(){e(r.options.targetEle).attr("title",u.cannotFindObject)})}else this.id=n[1];return a&&s.resolve(),s.promise()},"_executeProcess":function(){-1!==this.id?(this.model=new r({"id":this.id},{"connector":this.options.connector,"commands":a.getAllSignatures(),"fields":this.options.fields||{},"expand":this.options.expand||{}}),this.model.fetch().fail(t.bind(function(){e(this.options.targetEle).attr("title",u.cannotFindObject)},this)),this.listenTo(this.model,"sync",function(i){this.linkHeading=this.model.attributes.name;var n=this;this._getContent().done(function(i){5574===n.model.get("type")?n._callbackExecuteProcess(i):e(n.options.targetEle).attr("title",t.str.sformat(u.goToTooltip,n.model.get("name")))})})):e(this.options.targetEle).attr("title",u.previewUnavailable)},"_getContent":function(){var t=e.Deferred(),i=this.options.connector,n=i.extendAjaxOptions({"url":this._getUrl(),"type":"GET"});return e.ajax(n).done(function(e){t.resolve(e)}).fail(function(e){t.reject(e)}),t.promise()},"_getUrl":function(){return this.options.connector.connection.url.replace("/v1","/v2")+"/"+this.subTypeName+"/"+this.id+"/previewcontent"},"_callbackExecuteProcess":function(i){this.modelFetched=!0,this.linkPreviewImage=i.results.data.firstImage,this.linkPreviewContent=i.results.data.previewContent;var n=e("<div>"+this.linkPreviewContent+"</div>").find("*").text().trim();this.isEmptyContent=""===n||n===u.pageDefaultContent,this.isDestroyed||(e(this.options.targetEle).attr({"title":"","data-binf-original-title":""}),null!==this.linkPreviewContent&&!this.isEmptyContent||null!==this.linkPreviewImage?(this.render(),e(this.options.targetEle).binf_popover("show"),null===this.linkPreviewContent||this.isEmptyContent?e(".cs-link-preview-content").addClass("cs-link-image-only"):e(".cs-link-content").html(this.linkPreviewContent),this.eventHandlers()):e(this.options.targetEle).attr("title",t.str.sformat(u.goToTooltip,this.model.get("name"))))},"onDestroy":function(){this.hidePopover()},"eventHandlers":function(){var t=this;e(".cs-link-popover").on("mouseleave",function(i){e("#"+i.target.id).attr("aria-describedby")!==e(t.options.targetEle).attr("aria-describedby")&&t.hidePopover()}),e(".cs-link-expand").on("click",function(e){t.expandLinkView()})},"hidePopover":function(){e(this.options.targetEle).binf_popover("hide"),e(this.options.targetEle).binf_popover("destroy")},"expandLinkView":function(){this.triggerMethod("execute:defaultAction",this.model)},"onRender":function(){var t=this;if(this.modelFetched){var i=this.options.targetEle,n={"LinkHeading":this.linkHeading,"isLinkPreviewImage":null!==this.linkPreviewImage,"LinkPreviewImage":this.linkPreviewImage,"isPreviewContent":!this.isEmptyContent,"linkPreviewContent":this.linkPreviewContent},s=this.template(n);e(i).binf_popover({"html":!0,"trigger":"manual","content":s,"container":e.fn.binf_modal.getDefaultContainer(),"placement":function(n){e(n).addClass("cs-link-popover");var s=e("<div/>").attr("style","display:none").addClass("cs-link-popover binf-popover cs-link-popover-temp-div").append(c);e(i).append(s),(null===t.linkPreviewImage||null===t.linkPreviewContent||t.isEmptyContent)&&e(n).addClass("cs-link-preview-width");var o=e(".cs-link-popover-temp-div").height()+40,r=e(".cs-link-popover-temp-div").width()+40;s.remove();var a=e(i),l=a.offset(),u=l.left,d=l.top,h=e(window).width()-(u+a.outerWidth());return e(window).height()-(d+a.outerHeight(!0))>o?(t.popoverPosition="bottom","bottom"):d>o?(t.popoverPosition="top","top"):h>r?(t.popoverPosition="right","right"):u>r?(t.popoverPosition="left","left"):(t.popoverPosition="auto","auto")}})}e("*").one("scroll",function(){t.destroy()}),e(this.options.targetEle).one("remove",function(){t.destroy()}),e(this.options.targetEle).off("mouseleave").on("mouseleave",function(i){setTimeout(function(){0===e(".cs-link-popover:hover").length&&t.destroy()},10)})}})}),csui.define("csui/widgets/html.editor/impl/html.editor.model",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/utils/url","csui/models/node/node.model"],function(e,t,i,n,s){"use strict";var o=s.extend({"constructor":function(e){this.options=e||(e={}),i.Model.prototype.constructor.call(this,e),this.makeConnectable(e).makeFetchable(e)}});return e.extend(o.prototype,{"isFetchable":function(){return!!this.options},"url":function(){return n.combine(this.options.connector.connection.url,"nodes/"+this.options.id+"/content")},"parse":function(e){return{"data":e,"oldData":e}}}),o}),csui.define("hbs!csui/widgets/html.editor/impl/html.editor",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s,o;return"<div class='csui-richtext-message-wrapper'>\r\n  <div id=\"csui-richtext-content-body-"+this.escapeExpression((o=null!=(o=t.id||(null!=e?e.id:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"id","hash":{}}):o))+'" class="csui-richtext-message"\r\n       contentEditable="false" placeholder = "'+this.escapeExpression((o=null!=(o=t.placeholder||(null!=e?e.placeholder:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"placeholder","hash":{}}):o))+'">\r\n    '+(null!=(o=null!=(o=t.data||(null!=e?e.data:e))?o:t.helperMissing,s="function"==typeof o?o.call(e,{"name":"data","hash":{}}):o)?s:"")+"\r\n  </div>\r\n</div>\r\n"}});return i.registerPartial("csui_widgets_html.editor_impl_html.editor",n),n}),csui.define("hbs!csui/widgets/html.editor/impl/dropdown.menu/dropdown.menu",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var s,o;return'  <div class="binf-dropdown">\r\n    <a tabindex="-1" title="'+this.escapeExpression((o=null!=(o=t.tooltip||(null!=e?e.tooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"tooltip","hash":{}}):o))+'" class="binf-dropdown-toggle csui-html-editor-control"\r\n       href="#" data-binf-toggle="dropdown" role="button" aria-label="'+this.escapeExpression((o=null!=(o=t.moreActionsAria||(null!=e?e.moreActionsAria:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"moreActionsAria","hash":{}}):o))+'"\r\n       aria-expanded="false">\r\n      <span class="csui-icon '+(null!=(s=t.if.call(e,null!=e?e.reserved:e,{"name":"if","hash":{},"fn":this.program(2,n,0),"inverse":this.noop}))?s:"")+" "+this.escapeExpression((o=null!=(o=t.iconClass||(null!=e?e.iconClass:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"iconClass","hash":{}}):o))+'">\r\n      </span>\r\n    </a>\r\n    <ul class="binf-dropdown-menu" role="menu"></ul>\r\n  </div>\r\n'},"2":function(e,t,i,n){return" csui-html-editor-reserved-icon "},"4":function(e,t,i,n){var s;return null!=(s=t.if.call(e,null!=e?e.reserved:e,{"name":"if","hash":{},"fn":this.program(5,n,0),"inverse":this.noop}))?s:""},"5":function(e,t,i,n){var s;return'    <span class="csui-icon csui-html-editor-reserved-readonly '+this.escapeExpression((s=null!=(s=t.iconClass||(null!=e?e.iconClass:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"iconClass","hash":{}}):s))+'" title="'+this.escapeExpression((s=null!=(s=t.tooltip||(null!=e?e.tooltip:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"tooltip","hash":{}}):s))+'">\r\n    </span>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return null!=(s=t.if.call(e,null!=e?e.haveEditPermission:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.program(4,n,0)}))?s:""}});return i.registerPartial("csui_widgets_html.editor_impl_dropdown.menu_dropdown.menu",n),n}),csui.define("hbs!csui/widgets/html.editor/impl/dropdown.menu/dropdown.option",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<a tabindex="-1" title="'+this.escapeExpression((s=null!=(s=t.actionName||(null!=e?e.actionName:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"actionName","hash":{}}):s))+'">\r\n  '+this.escapeExpression((s=null!=(s=t.actionName||(null!=e?e.actionName:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"actionName","hash":{}}):s))+"\r\n</a>"}});return i.registerPartial("csui_widgets_html.editor_impl_dropdown.menu_dropdown.option",n),n}),csui.define("csui/widgets/html.editor/impl/dropdown.menu/dropdown.menu.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/models/nodes","csui/utils/commands","csui/utils/contexts/factories/member","csui/utils/base","i18n!csui/widgets/html.editor/impl/nls/lang","hbs!csui/widgets/html.editor/impl/dropdown.menu/dropdown.menu","hbs!csui/widgets/html.editor/impl/dropdown.menu/dropdown.option"],function(e,t,i,n,s,o,r,a,l,c,u,d){"use strict";var h=s.ItemView.extend({"tagName":"li","template":d,"events":{"click a":"_executeAction","keyup a":"onKeyUp"},"templateHelpers":function(){return{"actionName":c[this.model.get("signature")||this.model.get("name")]}},"constructor":function(e){s.ItemView.prototype.constructor.apply(this,arguments)},"_executeAction":function(){if(this.options.openForEdit)this.options.openForEdit();else{var e=this;this.options.command.execute(this.options.status).always(function(){e.trigger("csui.command.executed",this)})}},"onKeyUp":function(e){-1!==[13,32].indexOf(e.keyCode)&&this._executeAction()}});return s.CompositeView.extend({"className":"csui-html-editor-dropdown","template":u,"childView":h,"childViewContainer":"ul.binf-dropdown-menu","childEvents":{"csui.command.executed":"afterCommandExecution"},"ui":{"dropdownMenu":".binf-dropdown-menu"},"childViewOptions":function(e){var t=e.get("openForEdit")?"HTMLEdit":e.get("signature"),i={"status":this.status,"node":this.options.node};return"HTMLEdit"===t?i.openForEdit=this.options.openForEdit:("properties"===t?t="Properties":-1!==["reserve","unreserve"].indexOf(t)&&(t="unreserve"===t?"Unreserve":"Reserve",t+="Doc"),i.command=r.get(t)),i},"templateHelpers":function(){var e={"haveEditPermission":this.haveEditPermissions,"tooltip":c.more,"iconClass":"icon-html-edit-toolbar-more","reserved":this.node.get("reserved"),"moreActionsAria":t.str.sformat(c.moreActionsAria,this.parentView.options.title?this.parentView.options.title:"")};if(e.reserved){var i=this.node.get("reserved_user_id")===this.user.get("id");i||(e.tooltip=t.str.sformat(c.reservedBy,this.node.get("reserved_user_id"),l.formatExactDate(this.node.get("reserved_date")))),e.iconClass=i?"icon-html-editor-reserved-owned":"icon-html-editor-reserved_other"}return e},"constructor":function(e){this.parentView=e.parentView,this.node=e.node,this.user=e.user,this.haveEditPermissions=!(!e.node.actions.get("reserve")&&!e.node.actions.get("unreserve")),e.collection=this.buildCollection(),s.CompositeView.prototype.constructor.apply(this,arguments),this.listenTo(this.options.node,"change",this.updateActionCollection),this.status={"context":this.options.context,"container":this.options.node,"nodes":new o([this.options.node])},this.node.get("reserved")&&this.node.get("reserved_user_id")!==this.user.get("id")&&(this.reservedByUserModel=this.options.context.getModel(a,{"attributes":{"id":this.node.get("reserved_user_id")}}))},"buildCollection":function(){var e=new n.Collection;if(this.haveEditPermissions){this.node.get("reserved")&&this.node.get("reserved_user_id")!==this.user.get("id")||e.add(new n.Model({"openForEdit":!0,"name":"Edit"}));var t=this;["properties","permissions","unreserve"].map(function(i){(i=t.node.actions.get(i))&&e.add(i)})}return e},"updateActionCollection":function(){this.haveEditPermissions=!(!this.options.node.actions.get("reserve")&&!this.options.node.actions.get("unreserve")),this.collection=this.buildCollection(),this.render()},"afterCommandExecution":function(e,i){i.fail(t.bind(function(){"Unreserve"===e.model.get("name")&&this.node.fetch()},this))},"adjustDropdownMenu":function(){if("rtl"===document.dir)return!1;this.ui.dropdownMenu.removeClass("csui-html-editor-floating-dd-menu"),this.ui.dropdownMenu.offset().left+2*this.ui.dropdownMenu.outerWidth()<=document.body.scrollWidth&&this.ui.dropdownMenu.addClass("csui-html-editor-floating-dd-menu")},"onRender":function(){var e=this.$el.find(".binf-dropdown");e.bind("binf.dropdown.before.show",t.bind(function(){e.bind("binf.dropdown.after.show",this.adjustDropdownMenu.bind(this)),i(window).bind("resize.html.editor.dropdown.menu",this.adjustDropdownMenu.bind(this))},this)),e.bind("hide.binf.dropdown",t.bind(function(){e.unbind("binf.dropdown.after.show"),i(window).unbind("resize.html.editor.dropdown.menu")})),this.reservedByUserModel&&!this.reservedByUserModel.fetched&&this.reservedByUserModel.fetch().done(t.bind(function(e){this.$el.find(".binf-dropdown-toggle.csui-html-editor-control, .csui-html-editor-reserved-readonly").attr("title",t.str.sformat(c.reservedBy,e.data.display_name,l.formatExactDate(this.node.get("reserved_date"))))},this))}})}),csui.define("hbs!csui/widgets/html.editor/impl/edit.icon",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<span class="csui-rich-text-edit-icon-wrapper csui-rich-text-edit-icon-wrapper-'+this.escapeExpression((s=null!=(s=t.id||(null!=e?e.id:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"id","hash":{}}):s))+'">\r\n  <span title="'+this.escapeExpression((s=null!=(s=t.editLable||(null!=e?e.editLable:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"editLable","hash":{}}):s))+'" class="icon icon-edit icon-edit-'+this.escapeExpression((s=null!=(s=t.id||(null!=e?e.id:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"id","hash":{}}):s))+'"></span>\r\n</span>'}});return i.registerPartial("csui_widgets_html.editor_impl_edit.icon",n),n}),csui.define("hbs!csui/widgets/html.editor/impl/html.editor.action.buttons",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="csui-html-editor-action-buttons">\r\n  <button type="button" title="'+this.escapeExpression((s=null!=(s=t.saveLabel||(null!=e?e.saveLabel:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"saveLabel","hash":{}}):s))+'" role="button" data-cstabindex="-1" tabindex="-1"\r\n          aria-label="'+this.escapeExpression((s=null!=(s=t.saveAria||(null!=e?e.saveAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"saveAria","hash":{}}):s))+'"\r\n          class="icon circular csui-html-edit-icon csui-html-edit-save"></button>\r\n  <button type="button" title="'+this.escapeExpression((s=null!=(s=t.cancelLabel||(null!=e?e.cancelLabel:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"cancelLabel","hash":{}}):s))+'" role="button" data-cstabindex="-1" tabindex="-1"\r\n          aria-label="'+this.escapeExpression((s=null!=(s=t.cancelAria||(null!=e?e.cancelAria:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"cancelAria","hash":{}}):s))+'"\r\n          class="icon circular csui-html-edit-icon csui-html-edit-cancel"></button>\r\n</div>\r\n</div>'}});return i.registerPartial("csui_widgets_html.editor_impl_html.editor.action.buttons",n),n}),csui.define("csui/widgets/html.editor/impl/html.editor.content.view",["csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/contexts/factories/connector","csui/utils/url","csui/utils/base","csui/models/node/node.model","csui/utils/contexts/factories/user","csui/widgets/html.editor/impl/html.editor.model","hbs!csui/widgets/html.editor/impl/html.editor","csui/dialogs/modal.alert/modal.alert","csui/controls/progressblocker/blocker","csui/controls/error/error.view","csui/widgets/html.editor/impl/cslink.preview/cslink.preview.view","csui/controls/rich.text.editor/rich.text.editor","csui/widgets/html.editor/impl/dropdown.menu/dropdown.menu.view","csui/controls/globalmessage/globalmessage","csui/utils/node.links/node.links","i18n!csui/widgets/html.editor/impl/nls/lang","hbs!csui/widgets/html.editor/impl/edit.icon","hbs!csui/widgets/html.editor/impl/html.editor.action.buttons","css!csui/widgets/html.editor/impl/html.editor"],function(e,t,i,n,s,o,r,a,l,c,u,d,h,p,b,f,m,g,v,w,y,x){"use strict";return n.ItemView.extend({"className":"csui-html-editor-wrapper","modelEvents":{"change":"render","error":"render"},"ui":{"richText":".csui-richtext-message"},"events":{'mouseenter .csui-richtext-message[contenteditable="false"] a':"_showPreview",'focusin .csui-richtext-message[contenteditable="true"]':"_actionButtonsPositionInEdge",'focusin .csui-richtext-message[contenteditable="false"] a':"_updateUrl","keyup":"_validateState"},"getTemplate":function(){return!this.model.error&&u},"templateHelpers":function(){return{"placeholder":w.PageDefaultContent,"id":this.model.get("id"),"data":this.model.get("data")}},"constructor":function(e){if(e||(e={}),e.id=e.wikiPageId,e=t.extend(e,e.data={}),this.parentView=e.parentView,this.ui.richTextEle="#csui-richtext-content-body"+e.id,h.imbue(this),this.context=e.context,this.connector=this.context.getObject(s),this.node=new a({"id":e.id},{"connector":this.connector,"expand":{"properties":["original_id","parent_id"]},"commands":["permissions","properties","reserve","unreserve","addcategory"]}),this.user=this.context.getModel(l),!e.model){e.model=new c({"connector":this.connector,"context":this.context,"id":e.id});var i=o.combine(this.connector.connection.url,"nodes/"+e.id+"/content");e.model.fetch({"url":i,"success":e.model.fetchSuccess,"error":e.model.fetchError,"dataType":"text"}).done(t.bind(function(e){this._getLatestVersion().done(t.bind(function(){this.oldVersion=this.model.get("version")},this))},this))}e.richTextElementId="csui-richtext-content-body-"+e.id,n.ItemView.prototype.constructor.call(this,e),this._errorRegion=new n.Region({"el":this.el}),this.listenTo(this.model,"sync",t.bind(function(){this.model.error||this.user.ensureFetched().done(this._renderActionsDropdown.bind(this))},this)),this.mode="read",this.utils=f.getRichTextEditorUtils(),this.enableSaveButton=!1},"onRender":function(){var e=this.model.error;this.$el[e?"addClass":"removeClass"]("csui-disabled"),e&&this._errorRegion.show(new p({"model":new i.Model({"message":w.noWikiPageFound})})),this.$el.addClass(this.options.header?"":"csui-html-editor-no-header"),this.filterHtmlContent(),this.refreshTabableElements()},"filterHtmlContent":function(){this.$el.find("table").each(function(t,i){e(i).css({"border":i.getAttribute("border")+"px solid","borderSpacing":i.getAttribute("cellspacing")+"px","text-align":i.getAttribute("align")}).removeAttr("cellpadding cellspacing border align"),e(i).find("th,td").css("padding",i.getAttribute("cellpadding")+"px")}),this.$el.find("big").each(function(t,i){e(i).replaceWith('<span class="csui-big">'+e(i).html()+"</span>")})},"refreshTabableElements":function(){"read"===this.mode?this.tabableElements=this.$el.find("a").toArray():(this.tabableElements=[],this.tabableElements.push(this.editorInstance.element.$),this.tabableElements=this.tabableElements.concat(e("#cke_"+this.options.richTextElementId+" .csui-html-editor-action-buttons > button:not([disabled])").toArray())),this.currentlyFocusedElementIndex=-1},"moveTab":function(i){if(this.currentlyFocusedElementIndex=this.tabableElements.indexOf(i.target),-1===this.currentlyFocusedElementIndex)return!1;var n=e(this.tabableElements[this.currentlyFocusedElementIndex]),s=!1;9===i.keyCode&&(i.shiftKey?this.currentlyFocusedElementIndex>0?(this.currentlyFocusedElementIndex-=1,e(this.tabableElements[this.currentlyFocusedElementIndex]).focus(),i.stopPropagation(),i.preventDefault()):s=!0:this.currentlyFocusedElementIndex<this.tabableElements.length-1?(this.currentlyFocusedElementIndex+=1,e(this.tabableElements[this.currentlyFocusedElementIndex]).prop("tabindex",0).focus(),i.stopPropagation(),i.preventDefault()):s=!0,s&&("write"===this.mode?(i.shiftKey?this.currentlyFocusedElementIndex=this.tabableElements.length-1:this.currentlyFocusedElementIndex=0,e(this.tabableElements[this.currentlyFocusedElementIndex]).focus()):n.bind("focusout",t.bind(function(){n.unbind("focusout"),this.currentlyFocusedElementIndex=-1},this))),"write"===this.mode&&(i.stopPropagation(),i.preventDefault()))},"_showPreview":function(e){this.utils.getUrl(this,e).done(t.bind(function(){this.options.targetEle=e.target,this.options.connector=this.connector,new b(this.options).render()},this))},"_updateUrl":function(e){this.utils.getUrl(this,e)},"_renderActionsDropdown":function(){this.node.fetch().done(t.bind(function(e){if(this.dropdownMenu=new m({"openForEdit":this._openForEdit.bind(this),"node":this.node,"user":this.user,"context":this.options.context,"parentView":this}),new n.Region({"el":this.parentView.$el.find(".tile-controls")}).show(this.dropdownMenu),this.grandParentEle=this.$el.closest(".csui-html-editor-grand-parent"),this.listenTo(this.dropdownMenu,"render",t.bind(function(){this.refreshTabableElements(),this.trigger("refresh:tabindexes")},this)),this.editIconEle=this.parentView.$el.find(".tile-controls"),this.options.header){var i=this.options.titlefield||"";this.editIconEle.closest(".tile-header").attr({"title":i,"aria-label":i})}},this))},"editModeAccessibility":function(){e(document).on("keydown.html.editor",t.bind(function(t){e.contains(e("#cke_"+this.options.richTextElementId+".csui-rich-text-editor-toolbar .cke_inner")[0],t.target)||(9===t.keyCode?this.moveTab(t):-1!==[13,32].indexOf(t.keyCode)&&e(t.target).hasClass("csui-html-edit-icon")&&(e(t.target).click(),t.preventDefault()))},this))},"removeEditModeAccessibility":function(){e(document).off("keydown.html.editor")},"_openForEdit":function(){this.editModeAccessibility(),this.blockActions(),this._getLatestVersion().done(t.bind(function(){this._toggleReserve(!0).done(t.bind(function(){this.oldVersion===this.model.get("version")?this._getLatestContent().done(t.bind(function(){this._editContent()},this)):d.confirmQuestion(t.bind(function(e){e?(this._editContent(),this.enableSaveButton=!0):this._getLatestContent().done(t.bind(function(){this._editContent(),this.oldVersion=this.model.get("version"),this.enableSaveButton=!1},this)),this.alreadyTriggered=!0},this),w.versionDifferenceConfirmMessage,w.versionDifferenceConfirmTitle)},this)).fail(this.unblockActions.bind(this))},this)).fail(this.unblockActions.bind(this)),r.isAppleMobile()&&this.$el.find(".csui-richtext-message").attr("contenteditable",!0).focus()},"_editContent":function(){var i=this,n=this.connector.connection.url,s={"skin":"otskin,"+this.connector.connection.supportPath+"/csui/lib/ckeditor/skins/otskin/","custcsuiimage_imageExtensions":"gif|jpeg|jpg|png","filebrowserUploadUrl":n.substring(0,n.indexOf("api")),"floatingWrapper":this.grandParentEle,"extraPlugins":"csfloatingspace,filebrowser,custimage,custcsuiimage,find,panelbutton,colorbutton,font,selectall,smiley,dialog,sourcedialog,print,preview,justify,save,cancel,cssyntaxhighlight,cslink","removePlugins":"image,floatingspace","cancel":{"label":"Cancel","onCancel":function(n){i.blockActions();var s=i.editorInstance;(n.getData().length?s.checkDirty():i.model.get("data")!==w.PageDefaultContent)?d.confirmQuestion(function(s){s?i._getLatestVersion().done(function(){i.oldVersion!==i.model.get("version")?i._getLatestContent().done(t.bind(function(){i.oldVersion=this.model.get("version"),n.setData(i.model.get("oldData"))},i)):n.setData(i.model.get("oldData")),i.trigger("updateScrollbar"),a(n),i.autoSaved&&i.deleteAutoSavedContent({"connector":i.connector,"wikiId":i.node.get("parent_id"),"pageId":i.model.get("id")}),i._toggleReserve()}):(e(i.options.richTextElementId).focus(),i.unblockActions())},w.CancelConfirmMessage,w.cancelTitle):i._getLatestVersion().done(function(){i.oldVersion!==i.model.get("version")?i._getLatestContent().done(t.bind(function(){i.oldVersion=this.model.get("version"),n.setData(i.model.get("oldData"))},i)):n.setData(i.model.get("oldData")),a(n),i._toggleReserve()})}},"save":{"label":"Save","url":i.connector.connection.url+"/nodes/"+i.options.id,"type":"PUT","useJSON":!1,"ticket":i.connector.connection.session.ticket,"postData":function(e){return{"TextField":e.getData()}},"onSave":function(t){i.blockActions(),i._getLatestVersion().done(function(){i.alreadyTriggered||i.oldVersion===i.model.get("version")?(i.enableSaveButton=!1,i.alreadyTriggered=!1,i._saveContent(t)):d.confirmQuestion(function(n){n?(i.enableSaveButton=!1,i._saveContent(t)):(e(i.options.richTextElementId).focus(),i.unblockActions())},w.versionDifferenceConfirmMessage,w.versionDifferenceConfirmTitle)})},"onSuccess":function(e,t){i.model.set({"data":e.getData(),"oldData":e.getData()}),i._getLatestVersion().done(function(){i.oldVersion=i.model.get("version"),a(e)})},"onFailure":function(e,t,n){a(e),i.render(),i.trigger("updateScrollbar")}},"image":{"url":i.connector.connection.url.replace("/api/v1","")},"addimage":{"url":function(){return n+"/nodes"},"imageBrowseEnabled":function(){return i.node.get("parent_id_expand").imagebrowseenabled},"parent_id":i.node.get("parent_id_expand").image_folder_id,"type":"POST","documentType":144,"ticket":i.connector.connection.session.ticket}},o=f.getRichTextEditor(s),a=function(t){e(".csui-rich-text-mask").remove(),e(".csui-html-editor-zindex").removeClass("csui-html-editor-zindex"),e("#csui-richtext-sharedspace").remove(),e(".cui-rich-editor-widget-wrapper").removeAttr("style"),i.editIconEle.removeClass("binf-hidden"),i.$el.find(".csui-richtext-message").attr("contenteditable",!1),t.destroy(),i.unblockActions(),i._unbindEvents(),i.parentView.$el.find(".csui-html-editor-action-buttons").remove(),e(window).unbind("resize"),i.removeEditModeAccessibility(),i.mode="read",i.refreshTabableElements(),e(".csui-html-editor-zero-zindex").removeClass("csui-html-editor-zero-zindex")},c=i.$("#"+this.options.richTextElementId);c.attr("contenteditable",!0),this.editIconEle.addClass("binf-hidden");var u=document.createElement("div"),h=document.createElement("div"),p=e.fn.binf_modal.getDefaultContainer();u.className="csui-rich-text-mask",h.className="csui-rich-text-mask csui-rich-text-body-mask",i.grandParentEle.before(u),e(p).append(h),r.isMSBrowser()&&!!e("#breadcrumb-wrap")&&e("#breadcrumb-wrap").addClass("csui-html-editor-zero-zindex");var b=e(u),m=e(h),g=this.grandParentEle.find(".csui-html-editor-no-header").length>0?5:80,y=function(){c.closest(".ps-container").scrollTop(0),m.css("height","0px"),b.css("top","0px");var t=c.offset().top-e(u).offset().top-g,i=c.offset().top-g;i=t<0?i+-t:i,t=t<0?0:t,m.css("height",i+"px"),b.css({"height":document.body.scrollHeight-h.offsetHeight,"top":t}),e(u).parent().addClass("csui-html-editor-zindex")};y(),e(window).bind("resize",y),e(".csui-richtext-message").bind("change",y),window.onbeforeunload=function(e){return!1},csui.require(["csui/dialogs/node.picker/node.picker"],function(e){o.config.csLink={"lang":{"insertContentServerLink":w.insertContentServerLink},"nodeLink":v,"nodePicker":function(){return new e({
"connector":i.connector,"dialogTitle":w.contentServerLink,"context":i.options.context,"resolveShortcuts":!0,"resultOriginalNode":!1,"currentUser":i.options.context.getModel(l)})},"enableSaveButton":function(){i._enableSaveButton()}}}),i.editorInstance=o.inline(this.options.richTextElementId,{"toolbar":[["Undo","Redo","-","FontSize","-","Styles","Format","TextColor","-","Bold","Italic"],"/",["Replace","-","NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","-","Link","cslink","-","addImage","Table","Sourcedialog"]]}),o.once("instanceReady",function(n){i.ui.richText.text().trim()===w.PageDefaultContent&&i.ui.richText.empty(),i.mode="write",e("#cke_"+i.options.richTextElementId).addClass("csui-rich-text-editor-toolbar"),i.unblockActions(),i._appendActionButtons(),n.editor.focus(),i.$el.find(".csui-richtext-message").focus(),i.editorInstance.on("change",t.throttle(function(){i._autoSaveContent(o)},i.options.autosaveInterval,{"leading":!1})),i.editorInstance.on("change",function(){i._validateState()}),i._actionButtonsPosition(),i._actionButtonsPositionInEdge(),i.refreshTabableElements(),i.autoSaved&&i.deleteAutoSavedContent({"connector":i.connector,"wikiId":i.node.get("parent_id"),"pageId":i.model.get("id")})})},"_saveContent":function(e){e.config.save.request.send(e.config.save.json),this.autoSaved&&this.deleteAutoSavedContent({"connector":this.connector,"wikiId":this.node.get("parent_id"),"pageId":this.model.get("id")}),this._toggleReserve()},"_disableSaveButton":function(){var t=e("#cke_csui-richtext-content-body-"+this.id),i=t.find(".csui-html-edit-save");i.length&&(i[0].disabled=!0)},"_enableSaveButton":function(){var t=e("#cke_csui-richtext-content-body-"+this.id),i=t.find(".csui-html-edit-save");i.length&&(i[0].disabled=!1)},"_toggleReserve":function(t){var i=e.Deferred();if(t&&this.node.get("reserved")&&this.node.get("reserved_user_id")===this.user.get("id"))return i.resolve(),i;var n=this.connector.connection.url+"/nodes/"+this.node.get("id"),s=this,o=new FormData;return t?!this.node.get("reserved")&&o.append("reserved_user_id",this.user.get("id")):this.node.get("reserved")&&o.append("reserved_user_id",null),this.updateAjaxCall({"url":n,"connector":this.connector,"data":o,"type":"PUT"}).done(function(){i.resolve()}).fail(function(e){i.reject()}).always(function(){s.node.fetch()}),i},"_autoSaveContent":function(e){var t=this.editorInstance;if(t&&t.checkDirty()){t.resetDirty();var i=t.getData(),n=new FormData;n.append("wikiId",this.node.get("parent_id")),n.append("pageId",this.model.get("id")),n.append("source",i),this.updateAjaxCall({"connector":this.connector,"url":this.connector.connection.url.replace("api/v1","api/v2")+"/wiki/autosave","type":"POST","data":n,"view":this}),this.autoSaved=!0}},"_getLatestContent":function(){var e={"url":this.connector.connection.url.replace("/api/v1","/api/v2")+"/wiki/"+this.model.get("id")+"/autosave","type":"GET","requestType":"getContent","connector":this.connector,"view":this};return this.updateAjaxCall(e)},"_getLatestVersion":function(){var e={"url":this.connector.connection.url.replace("/api/v1","/api/v2")+"/nodes/"+this.model.get("id"),"type":"GET","requestType":"versions-reserve","connector":this.connector,"view":this};return this.updateAjaxCall(e)},"_validateState":function(){this.utils=this.utils||f.getRichTextEditorUtils();var e=f.isEmptyContent(this.editorInstance);this.editorInstance&&this.editorInstance.checkDirty()&&e!==w.PageDefaultContent&&0!==e.length?(this._enableSaveButton(),this.refreshTabableElements()):(this._disableSaveButton(),this.refreshTabableElements())},"_appendActionButtons":function(){var i=e("#cke_csui-richtext-content-body-"+this.id),n={"saveLabel":w.saveTitle,"cancelLabel":w.cancelTitle,"cancelAria":w.cancelAria,"saveAria":w.saveAria};i.append(x(n)),i.find(".csui-html-edit-save").on("click",t.bind(function(){this.editorInstance.execCommand("save")},this)),i.find(".csui-html-edit-cancel").on("click",t.bind(function(){this.editorInstance.execCommand("cancel")},this))},"_actionButtonsPosition":function(){this.enableSaveButton?(this._enableSaveButton(),this.refreshTabableElements()):(this._disableSaveButton(),this.refreshTabableElements())},"_actionButtonsPositionInEdge":function(){var t=e("#cke_csui-richtext-content-body-"+this.id);r.isEdge()&&-1!==t.attr("style").indexOf("right")&&t.find(".cke_inner").css("float","right")},"_unbindEvents":function(){window.onbeforeunload=null},"updateAjaxCall":function(t){var i=e.Deferred(),n=t.url,s=t.data,o=t.type,r=t.connector,a=t.view,l=t.requestType;return e.ajax(r.extendAjaxOptions({"url":n,"type":o,"data":s,"contentType":!1,"crossDomain":!0,"processData":!1,"success":function(e,t,n){switch(l){case"getContent":e.results.data.autoSaved?(a.autoSaved=!0,d.confirmQuestion(function(t){var n=e.results.data.content;t?(n=e.results.data.autoSaved,a.enableSaveButton=!0):a.enableSaveButton=!1,a.model.set({"data":n}),i.resolve()},w.RestoreDialogMessage,w.RestoreDiaglogTitle,d.buttonLabels.Yes=w.Continue,d.buttonLabels.No=w.Discard)):(a.model.set({"data":e.results.data.content,"oldData":e.results.data.content}),i.resolve());break;case"versions-reserve":a.model.attributes.version=e.results.data.versions.length,a.node.set({"reserved":e.results.data.properties.reserved,"reserved_user_id":e.results.data.properties.reserved_user_id}),i.resolve();break;default:i.resolve(e)}},"error":function(e,t,n){i.reject(e)}})),i.promise()},"deleteAutoSavedContent":function(e){this.autoSaved&&(e.type="DELETE",e.url=e.connector.connection.url.replace("/api/v1","/api/v2")+"/wiki/"+e.wikiId+"/autosave/"+e.pageId,this.updateAjaxCall(e),this.autoSaved=!1),window.clearInterval(this.intervalId)}})}),csui.define("hbs!csui/widgets/html.editor/impl/html.editor.wrapper.template",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var s;return'<div class="csui-html-editor-tile-controls tile-controls"></div>\r\n<div class="csui-html-editor-wrapper-parent cui-rich-editor-widget-wrapper\r\ncsui-html-editor-wrapper-parent-'+this.escapeExpression((s=null!=(s=t.id||(null!=e?e.id:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"id","hash":{}}):s))+'">\r\n</div>'}});return i.registerPartial("csui_widgets_html.editor_impl_html.editor.wrapper.template",n),n}),csui.define("csui/widgets/html.editor/html.editor.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/handlebars","csui/lib/marionette","csui/controls/tile/tile.view","csui/controls/tile/behaviors/perfect.scrolling.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/widgets/html.editor/impl/html.editor.content.view","hbs!csui/widgets/html.editor/impl/html.editor.wrapper.template","i18n!csui/widgets/html.editor/impl/nls/lang"],function(e,t,i,n,s,o,r,a,l,c){var u=s.extend({"constructor":function(t){t||(t={}),t.icon="cs-wiki-icon-wiki",this.context=t.context,t.id="csui-html-tile-wrapper-"+t.wikiPageId,s.prototype.constructor.call(this,t),t=t.data?e.extend(t,t.data):t,this.options=t,this.options.parentView=this,this.contentViewOptions=this.options},"contentView":a,"contentViewOptions":function(){e.extend(this.options,{"parentView":this})},"onShow":function(){this.$el.addClass("cui-rich-editor-widget-wrapper cui-rich-editor-widget-wrapper-"+this.options.wikiPageId)}});return n.CompositeView.extend({"tagName":"div","className":"csui-html-editor-grand-parent","templateHelpers":function(){return{}},"template":l,"ui":{"editIcon":".tile-controls"},"events":{"keydown":"onKeyInView"},"constructor":function(t){t=t||{},t.data||(t.data={}),e.extend(t,t.data),t.wikiPageId=t.wikipageid||t.id,t.id="csui-html-editor-grand-parent-"+t.wikiPageId,t.title=t.titlefield||t.title,t.header=!!t.title,t.scrollableParent=t.header?".tile-content":".csui-html-editor-wrapper-parent",this.context=t.context,n.CompositeView.prototype.constructor.apply(this,arguments)},"behaviors":{"PerfectScrolling":{"behaviorClass":o,"contentParent":function(){return this.options.scrollableParent},"suppressScrollX":!0},"TabableRegionBehavior":{"behaviorClass":r}},"currentlyFocusedElement":function(){return this.htmlEditorContentView.dropdownMenu&&!this.htmlEditorContentView.dropdownMenu.haveEditPermissions?this.htmlEditorContentView.$el.find("a:first"):this.$el.find(".csui-html-editor-dropdown .csui-html-editor-control")},"onKeyInView":function(e){"read"===this.htmlEditorContentView.mode&&this.htmlEditorContentView.moveTab(e)},"onRender":function(t){var i;this.options.autosaveInterval=6e4,void 0===this.options.header||this.options.header?(i=new u(this.options),this.listenToOnce(i,"show",e.bind(function(){this.htmlEditorContentView=i.getChildView("content")},this))):(this.options.parentView=this,i=new a(this.options),this.htmlEditorContentView=i),new n.Region({"el":this.$el.find(".csui-html-editor-wrapper-parent")}).show(i),this._triggerView=this,this.listenTo(this.htmlEditorContentView,"refresh:tabindexes",e.bind(function(){this.trigger("refresh:tabindexes")},this)).listenTo(this.htmlEditorContentView,"updateScrollbar",e.bind(function(){this.trigger("dom:refresh")},this))}})}),csui.define("json!csui/widgets/error.global/error.global.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"fullpage","schema":{"type":"object","properties":{"serverError":{"title":"{{serverErrorTitle}}","description":"{{serverErrorDescription}}","type":"string"}}},"options":{}}),csui.define("json!csui/widgets/favorites/favorites.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{title}}","description":"{{description}}","kind":"tile","schema":{"type":"object","properties":{}},"actions":[{"toolItems":"csui/widgets/favorites/toolbaritems","toolItemMasks":"csui/widgets/favorites/toolbaritems.masks","toolbars":[{"id":"tableHeaderToolbar","title":"{{tableHeaderToolbarTitle}}","description":"{{tableHeaderToolbarDescription}}"},{"id":"inlineActionbar","title":"{{inlineActionbarTitle}}","description":"{{inlineActionbarDescription}}"}]}]}),csui.define("json!csui/widgets/myassignments/myassignments.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{title}}","description":"{{description}}","kind":"tile","schema":{"type":"object","properties":{}}}),csui.define("json!csui/widgets/placeholder/placeholder.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"tile","supportedKinds":["tile","header","fullpage"],"schema":{"type":"object","properties":{"label":{"title":"{{labelTitle}}","description":"{{labelDescription}}","type":"string"},"color":{"title":"{{foregroundColorTitle}}","description":"{{foregroundColorDescription}}","type":"string"},"bgcolor":{"title":"{{backgroundColorTitle}}","description":"{{backgroundColorDescription}}","type":"string"}}}}),csui.define("json!csui/widgets/recentlyaccessed/recentlyaccessed.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{title}}","description":"{{description}}","kind":"tile","schema":{"type":"object","properties":{}},"actions":[{"toolItems":"csui/widgets/recentlyaccessed/toolbaritems","toolItemMasks":"csui/widgets/recentlyaccessed/toolbaritems.masks","toolbars":[{"id":"tableHeaderToolbar","title":"{{tableHeaderToolbarTitle}}","description":"{{tableHeaderToolbarDescription}}"},{"id":"inlineActionbar","title":"{{inlineActionbarTitle}}","description":"{{inlineActionbarDescription}}"}]}]}),csui.define("json!csui/widgets/shortcut/shortcut.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"tile","schema":{"type":"object","properties":{"id":{"title":"{{idTitle}}","description":"{{idDescription}}","type":"integer"},"type":{"title":"{{typeTitle}}","description":"{{typeDescription}}","type":"integer","enum":[141,142,133],"default":141},"background":{"title":"{{backgroundTitle}}","description":"{{backgroundDescription}}","type":"string","enum":["cs-tile-background1","cs-tile-background2","cs-tile-background3"]}},"oneOf":[{"required":["id"]},{"required":["type"]}]},"options":{"fields":{"id":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[]}}},"type":{"type":"select","optionLabels":["{{typeEnterpriseVolume}}","{{typePersonalVolume}}","{{typeCategoryVolume}}"]},"background":{"type":"select","optionLabels":["{{backgroundGrey}}","{{backgroundGreen}}","{{backgroundOrange}}"]}}}}),csui.define("json!csui/widgets/shortcuts/shortcuts.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"tile","schema":{"type":"object","properties":{"shortcutTheme":{"title":"{{shortcutThemeTitle}}","description":"{{shortcutThemeDescription}}","type":"string","enum":["csui-shortcut-theme-stone1","csui-shortcut-theme-stone2","csui-shortcut-theme-teal1","csui-shortcut-theme-teal2","csui-shortcut-theme-pink1","csui-shortcut-theme-pink2","csui-shortcut-theme-indigo1","csui-shortcut-theme-indigo2"]},"shortcutItems":{"title":"{{shortcutItemsTitle}}","description":"{{shortcutItemsDescription}}","type":"array","minItems":1,"maxItems":4,"items":{"type":"object","properties":{"id":{"title":"{{idTitle}}","description":"{{idDescription}}","type":"integer"},"type":{"title":"{{typeTitle}}","description":"{{typeDescription}}","type":"integer","enum":[141,142,133],"default":141}},"oneOf":[{"required":["id"]},{"required":["type"]}]}}}},"options":{"fields":{"shortcutItems":{"items":{"fields":{"id":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[]}}},"type":{"type":"select","optionLabels":["{{typeEnterpriseVolume}}","{{typePersonalVolume}}","{{typeCategoryVolume}}"]}}}},"shortcutTheme":{"type":"select","optionLabels":["{{shortcutThemeStone1}}","{{shortcutThemeStone2}}","{{shortcutThemeTeal1}}","{{shortcutThemeTeal2}}","{{shortcutThemePink1}}","{{shortcutThemePink2}}","{{shortcutThemeIndigo1}}","{{shortcutThemeIndigo2}}"]}}}}),csui.define("json!csui/widgets/welcome.placeholder/welcome.placeholder.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{widgetTitle}}","description":"{{widgetDescription}}","kind":"header","schema":{"type":"object","properties":{"message":{"title":"{{messageTitle}}","description":"{{messageDescription}}","type":"string"},"videoPoster":{"title":"{{videoPosterTitle}}","description":"{{videoPosterDescription}}","type":"string"},"videoSrc":{"title":"{{videoSourceTitle}}","description":"{{videoSourceDescription}}","type":"string"}}}}),csui.define("json!csui/widgets/html.editor/html.editor.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"{{title}}","description":"{{description}}","kind":"tile","supportedKinds":["tile","header","fullpage"],"schema":{"type":"object","properties":{"titlefield":{"title":"{{titleLabel}}","description":"{{titleDesc}}","type":"string","default":""},"wikicontainerid":{"title":"{{wikiContainerID}}","description":"{{wikiContainerIDDesc}}","type":"integer"},"wikitemplateid":{"title":"{{wikiTemplateID}}","description":"{{wikiTemplateIDDesc}}","type":"integer"},"wikiid":{"title":"{{wikiContainerID}}","description":"{{wikiContainerIDDesc}}","type":"integer"},"wikipageid":{"title":"{{wikiTemplateID}}","description":"{{wikiTemplateIDDesc}}","type":"integer"}}},"options":{"fields":{"wikicontainerid":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[5573]}}},"wikitemplateid":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[5574],"startLocation":"csui/dialogs/node.picker/start.locations/perspective.assets.volume"}}},"wikipageid":{"type":"otcs_node_picker","hidden":!0,"type_control":{"parameters":{"select_types":[5574]}}},"wikiid":{"type":"otcs_node_picker","hidden":!0,"type_control":{"parameters":{"select_types":[5573]}}},"width":{"type":"select","optionLabels":["{{default}}","{{full}}","{{half}}","{{quarter}}"]}}},"callback":"wiki/callbacks/wikiHookCallback"}),csui.define("csui/widgets/favorites/impl/nls/favorites.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/favorites/impl/nls/root/favorites.manifest",{"title":"Favorites","description":"Shows favorite objects of the current user.","tableHeaderToolbarTitle":"Table Header Toolbar","tableHeaderToolbarDescription":"Toolbar, which is activated in the table header, once a table row is selected.","inlineActionbarTitle":"Inline Action Bar","inlineActionbarDescription":"Toolbar, which is displayed inside a table row, when the mouse cursor is moving above it."}),csui.define("csui/widgets/myassignments/impl/nls/myassignments.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/myassignments/impl/nls/root/myassignments.manifest",{"title":"My Assignments","description":"Shows personal assignments of the current user."}),csui.define("csui/widgets/placeholder/impl/nls/placeholder.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/placeholder/impl/nls/root/placeholder.manifest",{"widgetTitle":"Placeholder","widgetDescription":"Shows a colorful tile taking the space instead of a real widget.","labelTitle":"Label","labelDescription":"Label of the tile","foregroundColorTitle":"Foreground color","foregroundColorDescription":"Color for the label of the tile","backgroundColorTitle":"Background color","backgroundColorDescription":"Color for the background of the tile"}),csui.define("csui/widgets/recentlyaccessed/impl/nls/recentlyaccessed.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/recentlyaccessed/impl/nls/root/recentlyaccessed.manifest",{"title":"Recently Accessed","description":"Shows documents accessed recently by the current user.","tableHeaderToolbarTitle":"Table Header Toolbar","tableHeaderToolbarDescription":"Toolbar, which is activated in the table header, once a table row is selected.","inlineActionbarTitle":"Inline Action Bar","inlineActionbarDescription":"Toolbar, which is displayed inside a table row, when the mouse cursor is moving above it."}),csui.define("csui/widgets/shortcut/impl/nls/shortcut.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/shortcut/impl/nls/root/shortcut.manifest",{"widgetTitle":"Single Shortcut","widgetDescription":"Tile representing a hyperlink to an object; it navigates to its page when clicked","idTitle":"Target object","idDescription":"An object to open by this shortcut","typeTitle":"Volume fallback","typeDescription":"Sub-type number of a global volume to open by this shortcut if no object has been selected","backgroundTitle":"Background","backgroundDescription":"Styling of the background below the shortcut tile","typeEnterpriseVolume":"Enterprise","typePersonalVolume":"Personal","typeCategoryVolume":"Categories","backgroundGrey":"Grey","backgroundGreen":"Green","backgroundOrange":"Orange"}),csui.define("csui/widgets/shortcuts/impl/nls/shortcuts.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/shortcuts/impl/nls/root/shortcuts.manifest",{"widgetTitle":"Shortcut Group","widgetDescription":"Tile representing a hyperlink to an object; it navigates to its page when clicked","shortcutItemsTitle":"Shortcut Items","shortcutItemsDescription":"Shortcut Items description","idTitle":"Target object","idDescription":"An object to open by this shortcut","typeTitle":"Volume fallback","typeDescription":"Sub-type number of a global volume to open by this shortcut if no object has been selected","shortcutThemeTitle":"Theme","shortcutThemeDescription":"Styling of the shortcuts","typeEnterpriseVolume":"Enterprise","typePersonalVolume":"Personal","typeCategoryVolume":"Categories","shortcutThemeStone1":"Stone Group 1","shortcutThemeStone2":"Stone Group 2","shortcutThemeTeal1":"Teal Group 1","shortcutThemeTeal2":"Teal Group 2","shortcutThemePink1":"Pink Group 1","shortcutThemePink2":"Pink Group 2","shortcutThemeIndigo1":"Indigo Group 1","shortcutThemeIndigo2":"Indigo Group 2"}),csui.define("csui/widgets/welcome.placeholder/impl/nls/welcome.placeholder.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("csui/widgets/welcome.placeholder/impl/nls/root/welcome.placeholder.manifest",{"widgetTitle":"Welcome Header","widgetDescription":"Shows a wide widget with initial information for the user home page.","messageTitle":"Display message","messageDescription":"Message to be displayed at the bottom of the tile","videoPosterTitle":"Video thumbnail","videoPosterDescription":"Web address of the poster to show when the video is not playing","videoSourceTitle":"Video location","videoSourceDescription":"Web address of the video to play"}),csui.define("csui/widgets/html.editor/impl/nls/html.editor.manifest",{"root":!0,"en-us":!1,"en":!1});csui.define("csui/widgets/html.editor/impl/nls/root/html.editor.manifest",{"title":"HTML Tile","description":"Returns the HTML output of an object and inserts it into a tile.","widthLabel":"Width","widthDesc":"The maximum width on the largest screen-size.","default":"Default","full":"Full","half":"Half","quarter":"Quarter","titleLabel":"Title","titleDesc":"Title for the tile","objIdLabel":"Object ID","objIdDesc":"Object ID for which we have to render and allow users to edit rich text content.","wikiContainerID":"Target wiki for HTML Content (optional)","wikiTemplateID":"Template wiki page (optional)","wikiContainerIDDesc":"If not specified, a target wiki will be created automatically in perspective asset volume","wikiTemplateIDDesc":"If not specified, a target wiki template will be pointed automatically from perspective asset folder"}),csui.define("bundles/csui-app",["csui/behaviors/dropdown.menu/dropdown.menu.behavior","csui/behaviors/expanding/expanding.behavior","csui/behaviors/item.error/item.error.behavior","csui/behaviors/item.state/item.state.behavior","csui/behaviors/item.state/item.state.view","csui/behaviors/limiting/limiting.behavior","csui/controls/breadcrumbs/breadcrumbs.view","csui/controls/tab.panel/tab.panel.view","csui/controls/tab.panel/tab.links.ext.view","csui/controls/tab.panel/impl/tab.contents.view","csui/controls/tab.panel/behaviors/common.keyboard.behavior.mixin","csui/controls/tab.panel/behaviors/tab.contents.keyboard.behavior","csui/controls/tab.panel/impl/tab.link.view","csui/controls/tab.panel/impl/tab.links.view","csui/controls/tile/behaviors/expanding.behavior","csui/controls/tile/tile.view","csui/controls/iconpreload/icon.preload.view","csui/controls/rich.text.editor/rich.text.editor","csui/controls/mixins/keyboard.navigation/modal.keyboard.navigation.mixin","csui/controls/tab.panel/tab.links.ext.scroll.mixin","csui/dialogs/modal.alert/modal.alert","csui/lib/jquery.mockjax","csui/lib/jquery.simulate","csui/models/expandable","csui/pages/start/start.page.view","csui/widgets/navigation.header/controls/help/help.view","csui/widgets/navigation.header/controls/home/home.view","csui/widgets/navigation.header/controls/breadcrumbs/breadcrumbs.view","csui/widgets/navigation.header/controls/search/search.view","csui/widgets/navigation.header/controls/favorites/favorites.view","csui/widgets/navigation.header/controls/user.profile/user.profile.view","csui/perspectives/left-center-right/left-center-right.perspective.view","csui/perspectives/single/single.perspective.view","csui/perspectives/tabbed/tabbed.perspective.view","csui/perspectives/tabbed-flow/tabbed-flow.perspective.view","json!csui/utils/contexts/perspective/impl/perspectives/error.global.json","csui/widgets/error.global/error.global.view","csui/widgets/favorites/favorites.view","csui/widgets/myassignments/myassignments.columns","csui/widgets/myassignments/myassignments.view","csui/widgets/navigation.header/profile.menuitems","csui/widgets/navigation.header/profile.menuitems.mask","csui/widgets/placeholder/placeholder.view","csui/widgets/recentlyaccessed/recentlyaccessed.columns","csui/widgets/recentlyaccessed/recentlyaccessed.view","csui/widgets/search.box/search.box.view","csui/widgets/shortcut/shortcut.view","csui/widgets/shortcuts/shortcuts.view","csui/widgets/welcome.placeholder/welcome.placeholder.view","csui/widgets/html.editor/impl/cslink.preview/cslink.preview.view","csui/widgets/html.editor/html.editor.view","json!csui/widgets/error.global/error.global.manifest.json","json!csui/widgets/favorites/favorites.manifest.json","json!csui/widgets/myassignments/myassignments.manifest.json","json!csui/widgets/placeholder/placeholder.manifest.json","json!csui/widgets/recentlyaccessed/recentlyaccessed.manifest.json","json!csui/widgets/shortcut/shortcut.manifest.json","json!csui/widgets/shortcuts/shortcuts.manifest.json","json!csui/widgets/welcome.placeholder/welcome.placeholder.manifest.json","json!csui/widgets/html.editor/html.editor.manifest.json","i18n!csui/widgets/favorites/impl/nls/favorites.manifest","i18n!csui/widgets/myassignments/impl/nls/myassignments.manifest","i18n!csui/widgets/placeholder/impl/nls/placeholder.manifest","i18n!csui/widgets/recentlyaccessed/impl/nls/recentlyaccessed.manifest","i18n!csui/widgets/shortcut/impl/nls/shortcut.manifest","i18n!csui/widgets/shortcuts/impl/nls/shortcuts.manifest","i18n!csui/widgets/welcome.placeholder/impl/nls/welcome.placeholder.manifest","i18n!csui/widgets/html.editor/impl/nls/html.editor.manifest","i18n!csui/widgets/favorites/impl/nls/lang","i18n!csui/widgets/myassignments/impl/nls/lang","i18n!csui/widgets/recentlyaccessed/impl/nls/lang","i18n!csui/controls/tab.panel/impl/nls/lang"],{}),csui.require(["require","css"],function(e,t){t.styleLoad(e,"csui/bundles/csui-app",!0)});
//# sourceMappingURL=csui-app.js.map